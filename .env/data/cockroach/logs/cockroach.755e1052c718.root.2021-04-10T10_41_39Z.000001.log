I210410 10:41:39.171058 1 util/log/sync_buffer.go:195 ⋮ [config] file created at: 2021/04/10 10:41:39
I210410 10:41:39.171070 1 util/log/sync_buffer.go:195 ⋮ [config] running on machine: ‹755e1052c718›
I210410 10:41:39.171079 1 util/log/sync_buffer.go:195 ⋮ [config] binary: CockroachDB CCL v20.2.7 (x86_64-unknown-linux-gnu, built 2021/03/29 17:52:00, go1.13.14)
I210410 10:41:39.171088 1 util/log/sync_buffer.go:195 ⋮ [config] arguments: ‹[/cockroach/cockroach start-single-node --http-port 26256 --insecure]›
I210410 10:41:39.171101 1 util/log/sync_buffer.go:195 ⋮ [config] line format: [IWEF]yymmdd hh:mm:ss.uuuuuu goid file:line msg utf8=✓
W210410 10:41:39.170941 1 cli/start.go:1143 ⋮ ALL SECURITY CONTROLS HAVE BEEN DISABLED!

This mode is intended for non-production testing only.

In this mode:
- Your cluster is open to any client that can access ‹any of your IP addresses›.
- Intruders with access to your machine or network can observe client-server traffic.
- Intruders can log in without password and read or write any data in the cluster.
- Intruders can consume all your server's resources and cause unavailability.
I210410 10:41:39.171206 1 cli/start.go:1153 ⋮ To start a secure server without mandating TLS for clients,
consider --accept-sql-without-tls instead. For other options, see:

- ‹https://go.crdb.dev/issue-v/53404/v20.2›
- https://www.cockroachlabs.com/docs/v20.2/secure-a-cluster.html
I210410 10:41:39.171657 1 server/status/recorder.go:605 ⋮ ‹available memory from cgroups (8.0 EiB) is unsupported, using system memory 7.6 GiB instead:›
W210410 10:41:39.171696 1 cli/start.go:987 ⋮ ‹Using the default setting for --cache (128 MiB).›
‹  A significantly larger value is usually needed for good performance.›
‹  If you have a dedicated server a reasonable setting is --cache=.25 (1.9 GiB).›
I210410 10:41:39.172034 1 server/status/recorder.go:605 ⋮ ‹available memory from cgroups (8.0 EiB) is unsupported, using system memory 7.6 GiB instead:›
I210410 10:41:39.172053 1 cli/start.go:1168 ⋮ ‹CockroachDB CCL v20.2.7 (x86_64-unknown-linux-gnu, built 2021/03/29 17:52:00, go1.13.14)›
I210410 10:41:39.173063 1 server/status/recorder.go:605 ⋮ ‹available memory from cgroups (8.0 EiB) is unsupported, using system memory 7.6 GiB instead:›
I210410 10:41:39.173089 1 server/config.go:428 ⋮ system total memory: ‹7.6 GiB›
I210410 10:41:39.173108 1 server/config.go:430 ⋮ server configuration:
‹max offset             500000000›
‹cache size             128 MiB›
‹SQL memory pool size   1.9 GiB›
‹scan interval          10m0s›
‹scan min idle time     10ms›
‹scan max idle time     1s›
‹event log enabled      true›
I210410 10:41:39.173166 1 cli/start.go:965 ⋮ using local environment variables: ‹COCKROACH_CHANNEL=official-docker›
I210410 10:41:39.173183 1 cli/start.go:972 ⋮ process identity: ‹uid 0 euid 0 gid 0 egid 0›
I210410 10:41:39.175976 1 cli/start.go:511 ⋮ GEOS loaded from directory ‹/usr/local/lib/cockroach›
I210410 10:41:39.176041 1 cli/start.go:516 ⋮ starting cockroach node
I210410 10:41:39.428910 42 server/server.go:790 ⋮ [n?] monitoring forward clock jumps based on server.clock.forward_jump_check_enabled
I210410 10:41:40.857064 42 server/config.go:619 ⋮ [n?] 1 storage engine‹› initialized
I210410 10:41:40.857183 42 server/config.go:622 ⋮ [n?] ‹Pebble cache size: 128 MiB›
I210410 10:41:40.857244 42 server/config.go:622 ⋮ [n?] ‹store 0: RocksDB, max size 0 B, max open file limit 1043576›
I210410 10:41:40.939313 141 server/server.go:1424 ⋮ [n?] connecting to gossip network to verify cluster ID ‹"dd9dc586-c756-4f4b-a9e5-9e23cf559418"›
W210410 10:41:40.939311 42 cli/start.go:911 ⋮ neither --listen-addr nor --advertise-addr was specified.
The server will advertise ‹"755e1052c718"› to other nodes, is this routable?

Consider using:
- for local-only servers:  --listen-addr=localhost
- for multi-node clusters: --advertise-addr=<host/IP addr>
I210410 10:41:40.939513 42 gossip/gossip.go:403 ⋮ [n1] NodeDescriptor set to ‹node_id:1 address:<network_field:"tcp" address_field:"755e1052c718:26257" > attrs:<> locality:<> ServerVersion:<major_val:20 minor_val:2 patch:0 unstable:0 > build_tag:"v20.2.7" started_at:1618051300939506489 cluster_name:"" sql_address:<network_field:"tcp" address_field:"755e1052c718:26257" >›
W210410 10:41:40.946381 263 kv/kvserver/replica_range_lease.go:556 ⋮ [n1,s1,r6/1:‹/Table/{SystemCon…-11}›] can't determine lease status of (n1,s1):1 due to node liveness error: node not in the liveness table
(1) attached stack trace
  -- stack trace:
  | github.com/cockroachdb/cockroach/pkg/kv/kvserver.init
  | 	/go/src/github.com/cockroachdb/cockroach/pkg/kv/kvserver/node_liveness.go:45
  | runtime.doInit
  | 	/usr/local/go/src/runtime/proc.go:5228
  | runtime.doInit
  | 	/usr/local/go/src/runtime/proc.go:5223
  | runtime.doInit
  | 	/usr/local/go/src/runtime/proc.go:5223
  | runtime.doInit
  | 	/usr/local/go/src/runtime/proc.go:5223
  | runtime.doInit
  | 	/usr/local/go/src/runtime/proc.go:5223
  | runtime.main
  | 	/usr/local/go/src/runtime/proc.go:190
  | runtime.goexit
  | 	/usr/local/go/src/runtime/asm_amd64.s:1357
Wraps: (2) node not in the liveness table
Error types: (1) *withstack.withStack (2) *errutil.leafError
W210410 10:41:40.946567 263 kv/kvserver/store.go:1691 ⋮ [n1,s1,r6/1:‹/Table/{SystemCon…-11}›] could not gossip system config: ‹[NotLeaseHolderError] r6: replica (n1,s1):1 not lease holder; lease holder unknown›
(1) ‹[NotLeaseHolderError] r6: replica (n1,s1):1 not lease holder; lease holder unknown›
Error types: (1) *roachpb.NotLeaseHolderError
I210410 10:41:40.946702 141 server/server.go:1427 ⋮ [n1] node connected via gossip
I210410 10:41:40.946738 42 server/node.go:430 ⋮ [n1] initialized store [n1,s1]: disk (capacity=196 GiB, available=4.4 GiB, used=1.1 MiB, logicalBytes=3.7 MiB), ranges=35, leases=0, queries=0.00, writes=0.00, bytesPerReplica={p10=0.00 p25=0.00 p50=0.00 p75=1395.00 p90=8127.00 pMax=3819568.00}, writesPerReplica={p10=0.00 p25=0.00 p50=0.00 p75=0.00 p90=0.00 pMax=0.00}
I210410 10:41:40.946878 42 kv/kvserver/stores.go:236 ⋮ [n1] read 0 node addresses from persistent storage
W210410 10:41:40.996830 263 kv/kvserver/store.go:1691 ⋮ [n1,s1,r6/1:‹/Table/{SystemCon…-11}›] could not gossip system config: ‹[NotLeaseHolderError] r6: replica (n1,s1):1 not lease holder; lease holder unknown›
(1) ‹[NotLeaseHolderError] r6: replica (n1,s1):1 not lease holder; lease holder unknown›
Error types: (1) *roachpb.NotLeaseHolderError
I210410 10:41:41.084205 42 server/node.go:489 ⋮ [n1] started with engine type ‹2›
I210410 10:41:41.084515 42 server/node.go:491 ⋮ [n1] started with attributes ‹[]›
I210410 10:41:41.084700 42 server/goroutinedumper/goroutinedumper.go:120 ⋮ [n1] writing goroutine dumps to ‹/cockroach/cockroach-data/logs/goroutine_dump›
I210410 10:41:41.084805 42 server/heapprofiler/heapprofiler.go:49 ⋮ [n1] writing go heap profiles to ‹/cockroach/cockroach-data/logs/heap_profiler› at least every 1h0m0s
I210410 10:41:41.084877 42 server/heapprofiler/cgoprofiler.go:53 ⋮ [n1] to enable jmalloc profiling: "export MALLOC_CONF=prof:true" or "ln -s prof:true /etc/malloc.conf"
I210410 10:41:41.085061 42 server/heapprofiler/statsprofiler.go:54 ⋮ [n1] writing memory stats to ‹/cockroach/cockroach-data/logs/heap_profiler› at last every 1h0m0s
I210410 10:41:41.085120 42 server/server.go:1544 ⋮ [n1] starting http server at ‹[::]:26256› (use: ‹755e1052c718:26256›)
I210410 10:41:41.085252 42 server/server.go:1551 ⋮ [n1] starting grpc/postgres server at ‹[::]:26257›
I210410 10:41:41.085335 42 server/server.go:1552 ⋮ [n1] advertising CockroachDB node at ‹755e1052c718:26257›
I210410 10:41:41.868819 42 sql/sqlliveness/slinstance/slinstance.go:252 ⋮ [n1] starting SQL liveness instance
I210410 10:41:41.869196 156 sql/temporary_schema.go:510 ⋮ [n1] running temporary object cleanup background job
I210410 10:41:41.870695 42 server/server_sql.go:800 ⋮ [n1] done ensuring all necessary migrations have run
I210410 10:41:41.870803 42 server/server.go:1887 ⋮ [n1] serving sql connections
I210410 10:41:41.871263 305 jobs/job_scheduler.go:349 ⋮ [n1] waiting 3m0s before scheduled jobs daemon start
I210410 10:41:41.871661 42 cli/start.go:677 ⋮ [config] clusterID: ‹dd9dc586-c756-4f4b-a9e5-9e23cf559418›
I210410 10:41:41.871854 42 cli/start.go:687 ⋮ node startup completed:
CockroachDB node starting at 2021-04-10 10:41:41.871010919 +0000 UTC (took 2.7s)
build:               CCL v20.2.7 @ 2021/03/29 17:52:00 (go1.13.14)
webui:               ‹http://755e1052c718:26256›
sql:                 ‹postgresql://root@755e1052c718:26257?sslmode=disable›
RPC client flags:    ‹/cockroach/cockroach <client cmd> --host=755e1052c718:26257 --insecure›
logs:                ‹/cockroach/cockroach-data/logs›
temp dir:            ‹/cockroach/cockroach-data/cockroach-temp586380426›
external I/O path:   ‹/cockroach/cockroach-data/extern›
store[0]:            ‹path=/cockroach/cockroach-data›
storage engine:      pebble
status:              restarted pre-existing node
clusterID:           ‹dd9dc586-c756-4f4b-a9e5-9e23cf559418›
nodeID:              1
I210410 10:41:41.880006 418 server/server_update.go:55 ⋮ [n1] no need to upgrade, cluster already at the newest version
I210410 10:41:42.158803 156 sql/temporary_schema.go:545 ⋮ [n1] found 0 temporary schemas
I210410 10:41:42.158897 156 sql/temporary_schema.go:548 ⋮ [n1] early exiting temporary schema cleaner as no temporary schemas were found
I210410 10:41:42.158939 156 sql/temporary_schema.go:549 ⋮ [n1] completed temporary object cleanup job
I210410 10:41:42.158973 156 sql/temporary_schema.go:627 ⋮ [n1] temporary object cleaner next scheduled to run at 2021-04-10 11:11:41.869033576 +0000 UTC
I210410 10:41:42.326916 154 sql/sqlliveness/slstorage/slstorage.go:348 ⋮ [n1] inserted sqlliveness session ‹1147939957de4460ba2719d790e506ab›
I210410 10:41:42.327041 154 sql/sqlliveness/slinstance/slinstance.go:143 ⋮ [n1] created new SQL liveness session ‹1147939957de4460ba2719d790e506ab›
I210410 10:41:42.572503 152 sql/event_log.go:162 ⋮ [n1] Event: ‹"node_restart"›, target: 1, info: ‹{Descriptor:{NodeID:1 Address:755e1052c718:26257 Attrs: Locality: ServerVersion:20.2 BuildTag:v20.2.7 StartedAt:1618051300939506489 LocalityAddress:[] ClusterName: SQLAddress:755e1052c718:26257} ClusterID:dd9dc586-c756-4f4b-a9e5-9e23cf559418 StartedAt:1618051300939506489 LastUp:1618051006947311704}›
I210410 10:41:42.889591 92 gossip/gossip.go:1508 ⋮ [n1] node has connected to cluster via gossip
I210410 10:41:42.928458 92 kv/kvserver/stores.go:255 ⋮ [n1] wrote 0 node addresses to persistent storage
I210410 10:41:51.088945 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 125 MiB RSS, 205 goroutines, 27 MiB/30 MiB/40 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.0 CGO/sec, 0.0/0.0 %(u/s)time, 0.0 %gc (15x), 20 KiB/9.9 KiB (r/w)net
I210410 10:42:01.086586 144 kv/kvserver/store.go:2625 ⋮ [n1,s1] sstables (read amplification = 1):
‹6 [ 204K 1 ]: 204K›
I210410 10:42:01.086957 144 kv/kvserver/store.go:2626 ⋮ [n1,s1] ‹›
‹__level_____count____size___score______in__ingest(sz_cnt)____move(sz_cnt)___write(sz_cnt)____read___r-amp___w-amp›
‹    WAL         2   532 K       -   530 K       -       -       -       -   532 K       -       -       -     1.0›
‹      0         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      1         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      2         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      3         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      4         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      5         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      6         1   204 K       -   661 K     0 B       0     0 B       0   204 K       1   661 K       1     0.3›
‹  total         1   204 K       -   532 K     0 B       0     0 B       0   736 K       1   661 K       1     1.4›
‹  flush         0›
‹compact         1     0 B          (size == estimated-debt)›
‹ memtbl         2    64 M›
‹zmemtbl         0     0 B›
‹   ztbl         0     0 B›
‹ bcache        12   369 K   98.1%  (score == hit-rate)›
‹ tcache         1   616 B   99.7%  (score == hit-rate)›
‹ titers         0›
‹ filter         -       -   70.4%  (score == utility)›
I210410 10:42:01.088781 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 130 MiB RSS, 205 goroutines, 22 MiB/33 MiB/45 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 10.3 CGO/sec, 1.9/0.9 %(u/s)time, 0.0 %gc (1x), 273 B/0 B (r/w)net
I210410 10:42:02.561953 153 sql/sqlliveness/slstorage/slstorage.go:326 ⋮ [n1] deleted 1 expired SQL liveness sessions
W210410 10:42:10.070453 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.984488677s; err=<nil>
W210410 10:42:10.070683 221 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r2/1:‹/System/NodeLiveness{-Max}›] handle raft ready: 1.8s [applied=1, batches=1, state_assertions=0]
W210410 10:42:10.286783 197 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/{Table/39-Max}›] handle raft ready: 1.9s [applied=1, batches=1, state_assertions=0]
I210410 10:42:11.089483 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 135 MiB RSS, 205 goroutines, 30 MiB/27 MiB/45 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (0x), 70 B/0 B (r/w)net
W210410 10:42:19.339081 210 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/{Table/39-Max}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
I210410 10:42:21.089344 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 138 MiB RSS, 206 goroutines, 23 MiB/32 MiB/48 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/1.0 %(u/s)time, 0.0 %gc (1x), 203 B/0 B (r/w)net
I210410 10:42:31.091142 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 138 MiB RSS, 206 goroutines, 30 MiB/26 MiB/48 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:42:41.084696 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
gossip connectivity
  n1 [sentinel];
I210410 10:42:41.089788 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 141 MiB RSS, 206 goroutines, 23 MiB/32 MiB/49 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.0/0.7 %(u/s)time, 0.0 %gc (1x), 70 B/0 B (r/w)net
I210410 10:42:51.089916 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 141 MiB RSS, 205 goroutines, 32 MiB/24 MiB/49 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/1.3 %(u/s)time, 0.0 %gc (0x), 203 B/0 B (r/w)net
I210410 10:43:01.089967 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 144 MiB RSS, 205 goroutines, 23 MiB/32 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.4 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:43:11.090771 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 144 MiB RSS, 205 goroutines, 30 MiB/26 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.7/1.0 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:43:21.090390 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 144 MiB RSS, 206 goroutines, 20 MiB/34 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.9/0.6 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:43:31.090561 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 145 MiB RSS, 206 goroutines, 27 MiB/29 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/1.0 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:43:41.084536 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:43:41.096254 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 145 MiB RSS, 207 goroutines, 32 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.6 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:43:51.089857 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 146 MiB RSS, 205 goroutines, 30 MiB/26 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.0/0.3 %(u/s)time, 0.0 %gc (0x), 273 B/0 B (r/w)net
I210410 10:44:01.091091 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 146 MiB RSS, 205 goroutines, 21 MiB/33 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:44:11.091538 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 146 MiB RSS, 205 goroutines, 28 MiB/28 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:44:21.091541 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 146 MiB RSS, 206 goroutines, 35 MiB/22 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:44:31.089978 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 148 MiB RSS, 206 goroutines, 27 MiB/28 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.9/0.4 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:44:41.084453 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:44:41.089727 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 148 MiB RSS, 206 goroutines, 34 MiB/22 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.5/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:44:51.090259 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 150 MiB RSS, 205 goroutines, 24 MiB/31 MiB/53 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/1.0 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
W210410 10:44:57.472003 227 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 0.8s [applied=1, batches=1, state_assertions=0]
I210410 10:45:01.093249 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 151 MiB RSS, 205 goroutines, 31 MiB/26 MiB/53 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.6/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:45:11.092516 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 151 MiB RSS, 205 goroutines, 19 MiB/35 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.0/0.8 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:45:21.092709 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 151 MiB RSS, 206 goroutines, 26 MiB/29 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:45:31.092832 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 151 MiB RSS, 206 goroutines, 33 MiB/24 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
W210410 10:45:35.736148 222 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 0.8s [applied=1, batches=1, state_assertions=0]
W210410 10:45:36.117736 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.031887055s; err=<nil>
I210410 10:45:41.084685 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:45:41.093118 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 151 MiB RSS, 206 goroutines, 23 MiB/32 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.4 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:45:51.093349 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 152 MiB RSS, 205 goroutines, 32 MiB/25 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.4 %(u/s)time, 0.0 %gc (0x), 70 B/0 B (r/w)net
I210410 10:46:01.093553 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 152 MiB RSS, 205 goroutines, 21 MiB/33 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.8 %(u/s)time, 0.0 %gc (1x), 203 B/0 B (r/w)net
W210410 10:46:05.241476 208 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/{Table/39-Max}›] handle raft ready: 1.4s [applied=1, batches=1, state_assertions=0]
I210410 10:46:11.093795 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 152 MiB RSS, 205 goroutines, 28 MiB/28 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:46:21.092868 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 153 MiB RSS, 206 goroutines, 33 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:46:31.095406 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 153 MiB RSS, 208 goroutines, 25 MiB/30 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.6 %(u/s)time, 0.0 %gc (0x), 856 B/0 B (r/w)net
I210410 10:46:41.084574 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:46:41.094404 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 153 MiB RSS, 206 goroutines, 33 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.8 %(u/s)time, 0.0 %gc (0x), 554 B/0 B (r/w)net
I210410 10:46:51.094604 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 153 MiB RSS, 205 goroutines, 24 MiB/31 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/1.1 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:47:01.094738 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 154 MiB RSS, 205 goroutines, 31 MiB/25 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.6/1.0 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:47:11.094958 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 154 MiB RSS, 205 goroutines, 20 MiB/34 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.5/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:47:21.095253 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 154 MiB RSS, 206 goroutines, 27 MiB/29 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.7/0.9 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:47:31.093314 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 155 MiB RSS, 206 goroutines, 18 MiB/35 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:47:41.084573 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:47:41.095556 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 155 MiB RSS, 206 goroutines, 26 MiB/29 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.7/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:47:51.095815 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 155 MiB RSS, 205 goroutines, 19 MiB/34 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.0/0.8 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:48:01.096078 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 156 MiB RSS, 205 goroutines, 26 MiB/29 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:48:11.101179 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 156 MiB RSS, 205 goroutines, 32 MiB/25 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.8 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:48:21.096639 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 156 MiB RSS, 207 goroutines, 26 MiB/30 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:48:31.095033 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 156 MiB RSS, 206 goroutines, 32 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.7/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:48:41.084663 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:48:41.097314 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 157 MiB RSS, 206 goroutines, 23 MiB/32 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.6 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:48:51.097544 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 157 MiB RSS, 205 goroutines, 32 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.8/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:49:01.099334 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 157 MiB RSS, 205 goroutines, 22 MiB/32 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.9 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:49:11.097989 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 158 MiB RSS, 205 goroutines, 29 MiB/27 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.9 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:49:21.098586 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 158 MiB RSS, 206 goroutines, 36 MiB/20 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:49:31.098390 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 159 MiB RSS, 206 goroutines, 28 MiB/27 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.8/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:49:41.084416 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:49:41.096899 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 160 MiB RSS, 206 goroutines, 35 MiB/21 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:49:51.098788 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 160 MiB RSS, 205 goroutines, 25 MiB/31 MiB/54 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.9 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:50:01.098782 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 161 MiB RSS, 205 goroutines, 32 MiB/25 MiB/54 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.6/0.9 %(u/s)time, 0.0 %gc (0x), 70 B/0 B (r/w)net
I210410 10:50:11.100706 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 161 MiB RSS, 205 goroutines, 20 MiB/34 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/1.0 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:50:21.098991 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 161 MiB RSS, 206 goroutines, 27 MiB/28 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.6 %(u/s)time, 0.0 %gc (0x), 386 B/0 B (r/w)net
I210410 10:50:31.099833 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 162 MiB RSS, 206 goroutines, 34 MiB/22 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:50:41.084793 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:50:41.100409 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 162 MiB RSS, 207 goroutines, 24 MiB/30 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.8/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:50:51.100113 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 162 MiB RSS, 205 goroutines, 33 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.7/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:51:01.100604 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 163 MiB RSS, 205 goroutines, 21 MiB/33 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.6 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:51:11.100657 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 163 MiB RSS, 205 goroutines, 28 MiB/28 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:51:21.101199 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 163 MiB RSS, 206 goroutines, 35 MiB/22 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:51:31.101625 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 163 MiB RSS, 206 goroutines, 24 MiB/30 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.9 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:51:41.084618 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:51:41.101394 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 163 MiB RSS, 206 goroutines, 32 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:51:51.101988 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 164 MiB RSS, 205 goroutines, 25 MiB/31 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.8/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:52:01.086501 144 kv/kvserver/store.go:2625 ⋮ [n1,s1] sstables (read amplification = 1):
‹6 [ 204K 1 ]: 204K›
I210410 10:52:01.086840 144 kv/kvserver/store.go:2626 ⋮ [n1,s1] ‹›
‹__level_____count____size___score______in__ingest(sz_cnt)____move(sz_cnt)___write(sz_cnt)____read___r-amp___w-amp›
‹    WAL         2    16 M       -    16 M       -       -       -       -    16 M       -       -       -     1.0›
‹      0         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      1         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      2         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      3         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      4         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      5         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      6         1   204 K       -   661 K     0 B       0     0 B       0   204 K       1   661 K       1     0.3›
‹  total         1   204 K       -    16 M     0 B       0     0 B       0    16 M       1   661 K       1     1.0›
‹  flush         0›
‹compact         1     0 B          (size == estimated-debt)›
‹ memtbl         2    64 M›
‹zmemtbl         0     0 B›
‹   ztbl         0     0 B›
‹ bcache        12   369 K   99.4%  (score == hit-rate)›
‹ tcache         1   616 B   99.9%  (score == hit-rate)›
‹ titers         0›
‹ filter         -       -   70.4%  (score == utility)›
I210410 10:52:01.101689 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 164 MiB RSS, 205 goroutines, 32 MiB/24 MiB/51 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:52:11.102013 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 164 MiB RSS, 205 goroutines, 20 MiB/33 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.8 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:52:21.102321 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 165 MiB RSS, 206 goroutines, 28 MiB/28 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:52:31.102551 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 165 MiB RSS, 206 goroutines, 35 MiB/22 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:52:41.084579 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:52:41.103043 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 165 MiB RSS, 206 goroutines, 24 MiB/30 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.6 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:52:51.102987 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 165 MiB RSS, 205 goroutines, 33 MiB/24 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.8/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:53:01.102946 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 166 MiB RSS, 205 goroutines, 21 MiB/33 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.5/0.5 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:53:11.103188 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 166 MiB RSS, 205 goroutines, 28 MiB/28 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:53:21.101345 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 166 MiB RSS, 206 goroutines, 35 MiB/22 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:53:31.103758 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 167 MiB RSS, 206 goroutines, 24 MiB/31 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.4 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:53:41.084620 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:53:41.104082 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 167 MiB RSS, 206 goroutines, 31 MiB/26 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:53:51.105410 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 167 MiB RSS, 205 goroutines, 22 MiB/33 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.7/0.6 %(u/s)time, 0.0 %gc (1x), 203 B/0 B (r/w)net
I210410 10:54:01.104305 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 168 MiB RSS, 205 goroutines, 29 MiB/28 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.1/1.3 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:54:11.102890 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 168 MiB RSS, 205 goroutines, 20 MiB/34 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:54:21.102597 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 168 MiB RSS, 207 goroutines, 27 MiB/28 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:54:31.105079 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 168 MiB RSS, 206 goroutines, 34 MiB/23 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.6/1.0 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:54:41.084742 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:54:41.105582 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 168 MiB RSS, 206 goroutines, 24 MiB/31 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.2/0.3 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:54:51.105390 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 169 MiB RSS, 205 goroutines, 32 MiB/24 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:55:01.106121 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 169 MiB RSS, 205 goroutines, 21 MiB/33 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.6 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:55:11.106465 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 169 MiB RSS, 205 goroutines, 28 MiB/28 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:55:21.106091 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 169 MiB RSS, 206 goroutines, 35 MiB/22 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.9 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:55:31.106398 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 170 MiB RSS, 206 goroutines, 24 MiB/30 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:55:41.084656 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:55:41.106532 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 170 MiB RSS, 206 goroutines, 31 MiB/25 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.5/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:55:51.106741 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 171 MiB RSS, 205 goroutines, 22 MiB/33 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.5/1.0 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:56:01.107406 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 171 MiB RSS, 205 goroutines, 30 MiB/27 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:56:11.105376 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 171 MiB RSS, 205 goroutines, 19 MiB/34 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:56:21.107708 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 172 MiB RSS, 206 goroutines, 27 MiB/28 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.4 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:56:31.107723 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 172 MiB RSS, 206 goroutines, 34 MiB/22 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.8/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:56:41.084579 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:56:41.107947 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 172 MiB RSS, 206 goroutines, 24 MiB/30 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:56:51.108224 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 172 MiB RSS, 205 goroutines, 33 MiB/23 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.5/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:57:01.108380 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 173 MiB RSS, 205 goroutines, 21 MiB/33 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.1/0.7 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:57:11.108580 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 173 MiB RSS, 205 goroutines, 27 MiB/28 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.7 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:57:21.109264 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 173 MiB RSS, 206 goroutines, 19 MiB/35 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.7/0.8 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:57:31.109645 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 174 MiB RSS, 206 goroutines, 26 MiB/29 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.6 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:57:41.084619 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:57:41.109392 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 174 MiB RSS, 206 goroutines, 33 MiB/23 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:57:51.109725 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 174 MiB RSS, 205 goroutines, 25 MiB/31 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.8 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:58:01.109955 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 175 MiB RSS, 205 goroutines, 32 MiB/25 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.7/0.8 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
I210410 10:58:11.110468 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 175 MiB RSS, 205 goroutines, 22 MiB/33 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.9 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
I210410 10:58:21.110477 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 176 MiB RSS, 206 goroutines, 29 MiB/27 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.5 %(u/s)time, 0.0 %gc (0x), 0 B/0 B (r/w)net
W210410 10:58:27.296646 216 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/{Table/39-Max}›] handle raft ready: 0.7s [applied=1, batches=1, state_assertions=0]
I210410 10:58:31.111051 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 176 MiB RSS, 206 goroutines, 36 MiB/21 MiB/50 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.5 %(u/s)time, 0.0 %gc (0x), 70 B/0 B (r/w)net
W210410 10:58:33.495541 242 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r4/1:‹/System{/tsd-tse}›] handle raft ready: 1.4s [applied=1, batches=1, state_assertions=0]
W210410 10:58:34.343708 209 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r3/1:‹/System/{NodeLive…-tsd}›] handle raft ready: 2.2s [applied=1, batches=1, state_assertions=0]
W210410 10:58:34.343824 210 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/{Table/39-Max}›] handle raft ready: 2.0s [applied=1, batches=1, state_assertions=0]
W210410 10:58:34.519977 242 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r4/1:‹/System{/tsd-tse}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:58:35.170776 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.584894082s; err=<nil>
I210410 10:58:41.084459 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:58:41.110069 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 176 MiB RSS, 207 goroutines, 24 MiB/30 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.9/0.6 %(u/s)time, 0.0 %gc (1x), 0 B/0 B (r/w)net
W210410 10:58:43.645592 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.059654588s; err=<nil>
I210410 10:58:46.304191 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_database"›, target: 52, info: ‹{DatabaseName:ttn_lorawan Statement:CREATE DATABASE IF NOT EXISTS ttn_lorawan User:root}›
I210410 10:58:46.728720 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 53, info: ‹{TableName:ttn_lorawan.public.accounts Statement:CREATE TABLE accounts (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, deleted_at TIMESTAMPTZ, uid VARCHAR(36), account_id UUID NOT NULL, account_type VARCHAR(32) NOT NULL, PRIMARY KEY (id)) User:root}›
I210410 10:58:46.817428 12968 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r35/1:‹/{Table/39-Max}›] initiating a split of this range at key ‹/Table/53› [r36] (‹zone config›)‹›
I210410 10:58:46.855823 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747177908207617 for table 53, mutation 1
I210410 10:58:47.054706 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 53, info: ‹{TableName:ttn_lorawan.public.accounts IndexName:idx_accounts_deleted_at Statement:CREATE INDEX idx_accounts_deleted_at ON accounts (deleted_at) User:root MutationID:1}›
I210410 10:58:47.054817 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747177908207617]›
I210410 10:58:47.122253 13177 jobs/adopt.go:137 ⋮ job 648747177908207617: resuming execution
I210410 10:58:47.132801 13181 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747177908207617: stepping through state running with error: <nil>
I210410 10:58:47.311543 13181 sql/schema_changer.go:567 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] schema change on ‹"accounts"› (v2) starting execution...
I210410 10:58:47.578417 13181 sql/schema_changer.go:878 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] stepping through state machine
I210410 10:58:47.846706 13181 sql/schema_changer.go:946 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] finished stepping through state machine
I210410 10:58:47.846820 13181 sql/schema_changer.go:985 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] waiting for a single version...
I210410 10:58:47.852032 13181 sql/schema_changer.go:987 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] waiting for a single version... done (at v 3)
I210410 10:58:48.024844 13181 sql/backfill.go:201 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] running backfill for ‹"accounts"›, v=3
I210410 10:58:48.025016 13181 sql/backfill.go:1498 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] backfilling 1 indexes
I210410 10:58:48.025303 13181 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r36/1:‹/{Table/53-Max}›] initiating a split of this range at key ‹/Table/53/2› [r37] (‹manual›)‹›
I210410 10:58:48.537896 13181 sql/backfill.go:1523 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] finished backfilling indexes
I210410 10:58:48.538032 13181 sql/backfill.go:1130 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] validating new indexes
I210410 10:58:49.108883 13308 sql/backfill.go:1482 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] validation: table ‹accounts› row count = 0, took 235.388061ms
I210410 10:58:49.109139 13307 sql/backfill.go:1389 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] validation: index ‹accounts›/‹idx_accounts_deleted_at› row count = 0, time so far 235.606513ms
I210410 10:58:49.109281 13181 sql/backfill.go:1190 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] finished validating new indexes
I210410 10:58:49.109335 13181 sql/backfill.go:327 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] completed backfill for ‹"accounts"›, v=3
I210410 10:58:49.109388 13181 sql/schema_changer.go:1433 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] marking schema change as complete
I210410 10:58:49.253149 13181 sql/event_log.go:162 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] Event: ‹"finish_schema_change"›, target: 53, info: ‹{MutationID:1}›
I210410 10:58:49.253312 13181 sql/schema_changer.go:985 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] waiting for a single version...
I210410 10:58:49.258421 13181 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] waiting for 1 leases to expire: desc=‹[{accounts 53 3}]›
I210410 10:58:49.386162 13321 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹53("accounts") ver=4:1618052633.358049134,0, refcount=0›
I210410 10:58:49.567655 13181 sql/schema_changer.go:987 ⋮ [n1,job=648747177908207617,scExec,id=53,mutation=1] waiting for a single version... done (at v 4)
I210410 10:58:49.567779 13181 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747177908207617: stepping through state succeeded with error: <nil>
I210410 10:58:50.420090 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747189597044737 for table 53, mutation 2
I210410 10:58:50.669989 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 53, info: ‹{TableName:ttn_lorawan.public.accounts IndexName:account_id_index Statement:CREATE INDEX account_id_index ON accounts (account_id, account_type) User:root MutationID:2}›
I210410 10:58:50.670271 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747189597044737]›
I210410 10:58:50.759655 13548 jobs/adopt.go:137 ⋮ job 648747189597044737: resuming execution
I210410 10:58:50.764534 13550 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747189597044737: stepping through state running with error: <nil>
I210410 10:58:50.803120 13509 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹53("accounts") ver=5:1618052640.993629547,0, refcount=0›
I210410 10:58:50.937987 13550 sql/schema_changer.go:567 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] schema change on ‹"accounts"› (v5) starting execution...
I210410 10:58:51.093626 13550 sql/schema_changer.go:878 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] stepping through state machine
I210410 10:58:51.111330 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 179 MiB RSS, 215 goroutines, 32 MiB/25 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.3 CGO/sec, 8.0/1.4 %(u/s)time, 0.0 %gc (1x), 3.3 KiB/3.2 KiB (r/w)net
I210410 10:58:51.262517 13550 sql/schema_changer.go:946 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] finished stepping through state machine
I210410 10:58:51.262626 13550 sql/schema_changer.go:985 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] waiting for a single version...
I210410 10:58:51.268148 13550 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] waiting for 1 leases to expire: desc=‹[{accounts 53 5}]›
I210410 10:58:51.373441 13420 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹53("accounts") ver=6:1618052640.994629547,0, refcount=0›
I210410 10:58:51.642556 13550 sql/schema_changer.go:987 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] waiting for a single version... done (at v 6)
I210410 10:58:51.942731 13550 sql/backfill.go:201 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] running backfill for ‹"accounts"›, v=6
I210410 10:58:51.942899 13550 sql/backfill.go:1498 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] backfilling 1 indexes
I210410 10:58:51.943107 13550 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r37/1:‹/{Table/53/2-Max}›] initiating a split of this range at key ‹/Table/53/3› [r38] (‹manual›)‹›
I210410 10:58:52.246078 13550 sql/backfill.go:1523 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] finished backfilling indexes
I210410 10:58:52.246175 13550 sql/backfill.go:1130 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] validating new indexes
I210410 10:58:52.362064 13780 sql/backfill.go:1482 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] validation: table ‹accounts› row count = 0, took 3.381541ms
I210410 10:58:52.362080 13779 sql/backfill.go:1389 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] validation: index ‹accounts›/‹account_id_index› row count = 0, time so far 3.381436ms
I210410 10:58:52.362209 13550 sql/backfill.go:1190 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] finished validating new indexes
I210410 10:58:52.362263 13550 sql/backfill.go:327 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] completed backfill for ‹"accounts"›, v=6
I210410 10:58:52.362325 13550 sql/schema_changer.go:1433 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] marking schema change as complete
I210410 10:58:52.536758 13550 sql/event_log.go:162 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] Event: ‹"finish_schema_change"›, target: 53, info: ‹{MutationID:2}›
I210410 10:58:52.536958 13550 sql/schema_changer.go:985 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] waiting for a single version...
I210410 10:58:52.543884 13550 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] waiting for 1 leases to expire: desc=‹[{accounts 53 6}]›
I210410 10:58:52.648075 13632 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹53("accounts") ver=7:1618052641.765873731,0, refcount=0›
I210410 10:58:52.737458 13550 sql/schema_changer.go:987 ⋮ [n1,job=648747189597044737,scExec,id=53,mutation=2] waiting for a single version... done (at v 7)
I210410 10:58:52.737565 13550 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747189597044737: stepping through state succeeded with error: <nil>
I210410 10:58:53.107898 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747198403969025 for table 53, mutation 3
I210410 10:58:53.372603 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 53, info: ‹{TableName:ttn_lorawan.public.accounts IndexName:account_uid_index Statement:CREATE UNIQUE INDEX account_uid_index ON accounts (uid) User:root MutationID:3}›
I210410 10:58:53.372818 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747198403969025]›
I210410 10:58:53.461470 13949 jobs/adopt.go:137 ⋮ job 648747198403969025: resuming execution
I210410 10:58:53.462886 13951 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747198403969025: stepping through state running with error: <nil>
I210410 10:58:53.505602 13852 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹53("accounts") ver=8:1618052644.332025825,0, refcount=0›
I210410 10:58:53.641193 13951 sql/schema_changer.go:567 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] schema change on ‹"accounts"› (v8) starting execution...
I210410 10:58:53.863099 13951 sql/schema_changer.go:878 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] stepping through state machine
I210410 10:58:54.042369 13951 sql/schema_changer.go:946 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] finished stepping through state machine
I210410 10:58:54.042456 13951 sql/schema_changer.go:985 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] waiting for a single version...
I210410 10:58:54.047891 13951 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] waiting for 1 leases to expire: desc=‹[{accounts 53 8}]›
I210410 10:58:54.164463 13914 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹53("accounts") ver=9:1618052644.333025825,0, refcount=0›
I210410 10:58:54.265431 13951 sql/schema_changer.go:987 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] waiting for a single version... done (at v 9)
I210410 10:58:54.343067 13951 sql/backfill.go:201 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] running backfill for ‹"accounts"›, v=9
I210410 10:58:54.343191 13951 sql/backfill.go:1498 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] backfilling 1 indexes
I210410 10:58:54.343444 13951 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r38/1:‹/{Table/53/3-Max}›] initiating a split of this range at key ‹/Table/53/4› [r39] (‹manual›)‹›
I210410 10:58:54.577850 13951 sql/backfill.go:1523 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] finished backfilling indexes
I210410 10:58:54.577975 13951 sql/backfill.go:1130 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] validating new indexes
I210410 10:58:54.681929 14102 sql/backfill.go:1482 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] validation: table ‹accounts› row count = 0, took 2.557046ms
I210410 10:58:54.682145 14101 sql/backfill.go:1389 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] validation: index ‹accounts›/‹account_uid_index› row count = 0, time so far 2.745752ms
I210410 10:58:54.682276 13951 sql/backfill.go:1190 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] finished validating new indexes
I210410 10:58:54.682320 13951 sql/backfill.go:327 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] completed backfill for ‹"accounts"›, v=9
I210410 10:58:54.682378 13951 sql/schema_changer.go:1433 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] marking schema change as complete
I210410 10:58:54.848141 13951 sql/event_log.go:162 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] Event: ‹"finish_schema_change"›, target: 53, info: ‹{MutationID:3}›
I210410 10:58:54.848298 13951 sql/schema_changer.go:985 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] waiting for a single version...
I210410 10:58:54.861969 13951 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] waiting for 1 leases to expire: desc=‹[{accounts 53 9}]›
I210410 10:58:54.925610 14086 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹53("accounts") ver=10:1618052644.334025825,0, refcount=0›
I210410 10:58:55.004113 13951 sql/schema_changer.go:987 ⋮ [n1,job=648747198403969025,scExec,id=53,mutation=3] waiting for a single version... done (at v 10)
I210410 10:58:55.004225 13951 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747198403969025: stepping through state succeeded with error: <nil>
I210410 10:58:55.450647 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 54, info: ‹{TableName:ttn_lorawan.public.api_keys Statement:CREATE TABLE api_keys (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, api_key_id VARCHAR, key VARCHAR, rights INT8[], name VARCHAR, entity_id UUID NOT NULL, entity_type VARCHAR(32) NOT NULL, PRIMARY KEY (id)) User:root}›
I210410 10:58:55.452960 14104 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r39/1:‹/{Table/53/4-Max}›] initiating a split of this range at key ‹/Table/54› [r40] (‹zone config›)‹›
I210410 10:58:55.544137 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747206378323969 for table 54, mutation 1
I210410 10:58:55.762905 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 54, info: ‹{TableName:ttn_lorawan.public.api_keys IndexName:api_key_entity_index Statement:CREATE INDEX api_key_entity_index ON api_keys (entity_id, entity_type) User:root MutationID:1}›
I210410 10:58:55.763129 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747206378323969]›
I210410 10:58:55.852927 14326 jobs/adopt.go:137 ⋮ job 648747206378323969: resuming execution
I210410 10:58:55.857681 14328 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747206378323969: stepping through state running with error: <nil>
I210410 10:58:56.030855 14328 sql/schema_changer.go:567 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] schema change on ‹"api_keys"› (v2) starting execution...
I210410 10:58:56.275624 14328 sql/schema_changer.go:878 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] stepping through state machine
I210410 10:58:56.443605 14328 sql/schema_changer.go:946 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] finished stepping through state machine
I210410 10:58:56.443720 14328 sql/schema_changer.go:985 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] waiting for a single version...
I210410 10:58:56.449046 14328 sql/schema_changer.go:987 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] waiting for a single version... done (at v 3)
I210410 10:58:56.610841 14328 sql/backfill.go:201 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] running backfill for ‹"api_keys"›, v=3
I210410 10:58:56.610980 14328 sql/backfill.go:1498 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] backfilling 1 indexes
I210410 10:58:56.611192 14328 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r40/1:‹/{Table/54-Max}›] initiating a split of this range at key ‹/Table/54/2› [r41] (‹manual›)‹›
I210410 10:58:57.012475 14328 sql/backfill.go:1523 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] finished backfilling indexes
I210410 10:58:57.012566 14328 sql/backfill.go:1130 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] validating new indexes
I210410 10:58:57.122013 14693 sql/backfill.go:1482 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] validation: table ‹api_keys› row count = 0, took 6.24391ms
I210410 10:58:57.122384 14692 sql/backfill.go:1389 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] validation: index ‹api_keys›/‹api_key_entity_index› row count = 0, time so far 6.59987ms
I210410 10:58:57.122495 14328 sql/backfill.go:1190 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] finished validating new indexes
I210410 10:58:57.122535 14328 sql/backfill.go:327 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] completed backfill for ‹"api_keys"›, v=3
I210410 10:58:57.122579 14328 sql/schema_changer.go:1433 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] marking schema change as complete
I210410 10:58:57.249317 14328 sql/event_log.go:162 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] Event: ‹"finish_schema_change"›, target: 54, info: ‹{MutationID:1}›
I210410 10:58:57.249460 14328 sql/schema_changer.go:985 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] waiting for a single version...
I210410 10:58:57.254858 14328 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] waiting for 1 leases to expire: desc=‹[{api_keys 54 3}]›
I210410 10:58:57.360683 14511 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹54("api_keys") ver=4:1618052631.224630071,0, refcount=0›
I210410 10:58:57.438865 14328 sql/schema_changer.go:987 ⋮ [n1,job=648747206378323969,scExec,id=54,mutation=1] waiting for a single version... done (at v 4)
I210410 10:58:57.438974 14328 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747206378323969: stepping through state succeeded with error: <nil>
I210410 10:58:57.592483 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747213092028417 for table 54, mutation 2
I210410 10:58:57.785169 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 54, info: ‹{TableName:ttn_lorawan.public.api_keys IndexName:api_key_id_index Statement:CREATE UNIQUE INDEX api_key_id_index ON api_keys (api_key_id) User:root MutationID:2}›
I210410 10:58:57.785377 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747213092028417]›
I210410 10:58:57.874924 14820 jobs/adopt.go:137 ⋮ job 648747213092028417: resuming execution
I210410 10:58:57.879733 14822 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747213092028417: stepping through state running with error: <nil>
I210410 10:58:57.918541 14834 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹54("api_keys") ver=5:1618052631.225630071,0, refcount=0›
I210410 10:58:58.142624 14822 sql/schema_changer.go:567 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] schema change on ‹"api_keys"› (v5) starting execution...
I210410 10:58:58.543393 14822 sql/schema_changer.go:878 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] stepping through state machine
I210410 10:58:58.789339 14822 sql/schema_changer.go:946 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] finished stepping through state machine
I210410 10:58:58.789460 14822 sql/schema_changer.go:985 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] waiting for a single version...
I210410 10:58:58.794637 14822 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] waiting for 1 leases to expire: desc=‹[{api_keys 54 5}]›
I210410 10:58:58.889283 14795 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹54("api_keys") ver=6:1618052649.565733688,0, refcount=0›
I210410 10:58:58.990015 14822 sql/schema_changer.go:987 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] waiting for a single version... done (at v 6)
I210410 10:58:59.067548 14822 sql/backfill.go:201 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] running backfill for ‹"api_keys"›, v=6
I210410 10:58:59.067598 14822 sql/backfill.go:1498 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] backfilling 1 indexes
I210410 10:58:59.067673 14822 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r41/1:‹/{Table/54/2-Max}›] initiating a split of this range at key ‹/Table/54/3› [r42] (‹manual›)‹›
I210410 10:58:59.369406 14822 sql/backfill.go:1523 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] finished backfilling indexes
I210410 10:58:59.369517 14822 sql/backfill.go:1130 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] validating new indexes
I210410 10:58:59.474469 15091 sql/backfill.go:1389 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] validation: index ‹api_keys›/‹api_key_id_index› row count = 0, time so far 2.868729ms
I210410 10:58:59.474466 15092 sql/backfill.go:1482 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] validation: table ‹api_keys› row count = 0, took 2.896193ms
I210410 10:58:59.474651 14822 sql/backfill.go:1190 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] finished validating new indexes
I210410 10:58:59.474720 14822 sql/backfill.go:327 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] completed backfill for ‹"api_keys"›, v=6
I210410 10:58:59.474773 14822 sql/schema_changer.go:1433 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] marking schema change as complete
I210410 10:58:59.606236 14822 sql/event_log.go:162 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] Event: ‹"finish_schema_change"›, target: 54, info: ‹{MutationID:2}›
I210410 10:58:59.606392 14822 sql/schema_changer.go:985 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] waiting for a single version...
I210410 10:58:59.611903 14822 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] waiting for 1 leases to expire: desc=‹[{api_keys 54 6}]›
I210410 10:58:59.717331 14960 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹54("api_keys") ver=7:1618052649.566733688,0, refcount=0›
I210410 10:58:59.840321 14822 sql/schema_changer.go:987 ⋮ [n1,job=648747213092028417,scExec,id=54,mutation=2] waiting for a single version... done (at v 7)
I210410 10:58:59.840430 14822 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747213092028417: stepping through state succeeded with error: <nil>
I210410 10:59:00.420613 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 55, info: ‹{TableName:ttn_lorawan.public.applications Statement:CREATE TABLE applications (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, deleted_at TIMESTAMPTZ, application_id VARCHAR(36) NOT NULL, name VARCHAR, description STRING, PRIMARY KEY (id)) User:root}›
I210410 10:59:00.424401 15314 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r42/1:‹/{Table/54/3-Max}›] initiating a split of this range at key ‹/Table/55› [r43] (‹zone config›)‹›
I210410 10:59:00.554745 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747222797811713 for table 55, mutation 1
I210410 10:59:01.112023 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 179 MiB RSS, 215 goroutines, 29 MiB/25 MiB/52 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.7 CGO/sec, 19.1/2.3 %(u/s)time, 0.0 %gc (3x), 3.2 KiB/2.7 KiB (r/w)net
W210410 10:59:01.509897 257 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:59:01.578512 206 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r26/1:‹/NamespaceTable/{30-Max}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:59:01.578577 198 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r11/1:‹/Table/1{5-6}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:59:01.578553 255 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r8/1:‹/Table/1{2-3}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:59:01.578576 223 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/Table/{39-53}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:59:01.578622 249 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r9/1:‹/Table/1{3-4}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:59:01.578705 235 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r6/1:‹/Table/{SystemCon…-11}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 10:59:01.578900 213 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r42/1:‹/{Table/54/3-Max}›] handle raft ready: 1.0s [applied=2, batches=1, state_assertions=0]
I210410 10:59:01.724830 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 55, info: ‹{TableName:ttn_lorawan.public.applications IndexName:idx_applications_deleted_at Statement:CREATE INDEX idx_applications_deleted_at ON applications (deleted_at) User:root MutationID:1}›
I210410 10:59:01.725034 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747222797811713]›
I210410 10:59:01.792399 15415 jobs/adopt.go:137 ⋮ job 648747222797811713: resuming execution
I210410 10:59:01.797073 15417 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747222797811713: stepping through state running with error: <nil>
W210410 10:59:01.824395 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.238643507s; err=<nil>
I210410 10:59:01.925824 15417 sql/schema_changer.go:567 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] schema change on ‹"applications"› (v2) starting execution...
I210410 10:59:02.159159 15417 sql/schema_changer.go:878 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] stepping through state machine
I210410 10:59:02.351821 15417 sql/schema_changer.go:946 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] finished stepping through state machine
I210410 10:59:02.351930 15417 sql/schema_changer.go:985 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] waiting for a single version...
I210410 10:59:02.357075 15417 sql/schema_changer.go:987 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:02.496260 15417 sql/backfill.go:201 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] running backfill for ‹"applications"›, v=3
I210410 10:59:02.496387 15417 sql/backfill.go:1498 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] backfilling 1 indexes
I210410 10:59:02.496574 15417 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r43/1:‹/{Table/55-Max}›] initiating a split of this range at key ‹/Table/55/2› [r44] (‹manual›)‹›
I210410 10:59:02.898067 15417 sql/backfill.go:1523 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] finished backfilling indexes
I210410 10:59:02.898161 15417 sql/backfill.go:1130 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] validating new indexes
I210410 10:59:03.017470 15615 sql/backfill.go:1389 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] validation: index ‹applications›/‹idx_applications_deleted_at› row count = 0, time so far 6.631164ms
I210410 10:59:03.017938 15616 sql/backfill.go:1482 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] validation: table ‹applications› row count = 0, took 7.123684ms
I210410 10:59:03.018066 15417 sql/backfill.go:1190 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] finished validating new indexes
I210410 10:59:03.018109 15417 sql/backfill.go:327 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] completed backfill for ‹"applications"›, v=3
I210410 10:59:03.018155 15417 sql/schema_changer.go:1433 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] marking schema change as complete
I210410 10:59:03.211117 15417 sql/event_log.go:162 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] Event: ‹"finish_schema_change"›, target: 55, info: ‹{MutationID:1}›
I210410 10:59:03.211300 15417 sql/schema_changer.go:985 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] waiting for a single version...
I210410 10:59:03.216293 15417 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] waiting for 1 leases to expire: desc=‹[{applications 55 3}]›
I210410 10:59:03.344413 15654 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹55("applications") ver=4:1618052651.011368417,0, refcount=0›
I210410 10:59:03.478141 15417 sql/schema_changer.go:987 ⋮ [n1,job=648747222797811713,scExec,id=55,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:03.478185 15417 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747222797811713: stepping through state succeeded with error: <nil>
I210410 10:59:04.098117 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747234410070017 for table 55, mutation 2
I210410 10:59:04.314383 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 55, info: ‹{TableName:ttn_lorawan.public.applications IndexName:application_id_index Statement:CREATE UNIQUE INDEX application_id_index ON applications (application_id) User:root MutationID:2}›
I210410 10:59:04.314600 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747234410070017]›
I210410 10:59:04.403966 15798 jobs/adopt.go:137 ⋮ job 648747234410070017: resuming execution
I210410 10:59:04.409355 15800 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747234410070017: stepping through state running with error: <nil>
I210410 10:59:04.447271 15810 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹55("applications") ver=5:1618052651.012368417,0, refcount=0›
I210410 10:59:04.493118 15800 sql/schema_changer.go:567 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] schema change on ‹"applications"› (v5) starting execution...
I210410 10:59:04.715061 15800 sql/schema_changer.go:878 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] stepping through state machine
I210410 10:59:04.916525 15800 sql/schema_changer.go:946 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] finished stepping through state machine
I210410 10:59:04.916604 15800 sql/schema_changer.go:985 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] waiting for a single version...
I210410 10:59:04.919734 15800 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] waiting for 1 leases to expire: desc=‹[{applications 55 5}]›
I210410 10:59:05.083360 15954 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹55("applications") ver=6:1618052651.013368417,0, refcount=0›
I210410 10:59:05.184039 15800 sql/schema_changer.go:987 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] waiting for a single version... done (at v 6)
I210410 10:59:05.319562 15800 sql/backfill.go:201 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] running backfill for ‹"applications"›, v=6
I210410 10:59:05.319709 15800 sql/backfill.go:1498 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] backfilling 1 indexes
I210410 10:59:05.319960 15800 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r44/1:‹/{Table/55/2-Max}›] initiating a split of this range at key ‹/Table/55/3› [r45] (‹manual›)‹›
I210410 10:59:05.587479 15800 sql/backfill.go:1523 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] finished backfilling indexes
I210410 10:59:05.587585 15800 sql/backfill.go:1130 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] validating new indexes
I210410 10:59:05.792264 15930 sql/backfill.go:1482 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] validation: table ‹applications› row count = 0, took 2.620285ms
I210410 10:59:05.792378 15929 sql/backfill.go:1389 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] validation: index ‹applications›/‹application_id_index› row count = 0, time so far 2.713931ms
I210410 10:59:05.792503 15800 sql/backfill.go:1190 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] finished validating new indexes
I210410 10:59:05.792552 15800 sql/backfill.go:327 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] completed backfill for ‹"applications"›, v=6
I210410 10:59:05.792609 15800 sql/schema_changer.go:1433 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] marking schema change as complete
I210410 10:59:05.990005 15800 sql/event_log.go:162 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] Event: ‹"finish_schema_change"›, target: 55, info: ‹{MutationID:2}›
I210410 10:59:05.990164 15800 sql/schema_changer.go:985 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] waiting for a single version...
I210410 10:59:05.995566 15800 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] waiting for 1 leases to expire: desc=‹[{applications 55 6}]›
I210410 10:59:06.123341 16046 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹55("applications") ver=7:1618052658.316647773,0, refcount=0›
I210410 10:59:06.257073 15800 sql/schema_changer.go:987 ⋮ [n1,job=648747234410070017,scExec,id=55,mutation=2] waiting for a single version... done (at v 7)
I210410 10:59:06.257126 15800 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747234410070017: stepping through state succeeded with error: <nil>
I210410 10:59:06.870451 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 56, info: ‹{TableName:ttn_lorawan.public.attributes Statement:CREATE TABLE attributes (id UUID DEFAULT gen_random_uuid(), entity_id UUID NOT NULL, entity_type VARCHAR(32) NOT NULL, key VARCHAR, value VARCHAR, PRIMARY KEY (id)) User:root}›
I210410 10:59:06.871049 16081 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r45/1:‹/{Table/55/3-Max}›] initiating a split of this range at key ‹/Table/56› [r46] (‹zone config›)‹›
I210410 10:59:06.964339 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747243800788993 for table 56, mutation 1
I210410 10:59:07.239049 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 56, info: ‹{TableName:ttn_lorawan.public.attributes IndexName:attribute_entity_index Statement:CREATE INDEX attribute_entity_index ON attributes (entity_id, entity_type) User:root MutationID:1}›
I210410 10:59:07.239255 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747243800788993]›
I210410 10:59:07.316950 16447 jobs/adopt.go:137 ⋮ job 648747243800788993: resuming execution
I210410 10:59:07.318934 16449 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747243800788993: stepping through state running with error: <nil>
I210410 10:59:07.417998 16449 sql/schema_changer.go:567 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] schema change on ‹"attributes"› (v2) starting execution...
I210410 10:59:07.517632 16449 sql/schema_changer.go:878 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] stepping through state machine
I210410 10:59:07.709774 16449 sql/schema_changer.go:946 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] finished stepping through state machine
I210410 10:59:07.709860 16449 sql/schema_changer.go:985 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] waiting for a single version...
I210410 10:59:07.714817 16449 sql/schema_changer.go:987 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:07.831971 16449 sql/backfill.go:201 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] running backfill for ‹"attributes"›, v=3
I210410 10:59:07.832117 16449 sql/backfill.go:1498 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] backfilling 1 indexes
I210410 10:59:07.832347 16449 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r46/1:‹/{Table/56-Max}›] initiating a split of this range at key ‹/Table/56/2› [r47] (‹manual›)‹›
I210410 10:59:08.379021 16449 sql/backfill.go:1523 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] finished backfilling indexes
I210410 10:59:08.379118 16449 sql/backfill.go:1130 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] validating new indexes
I210410 10:59:08.608950 16624 sql/backfill.go:1482 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] validation: table ‹attributes› row count = 0, took 5.932447ms
I210410 10:59:08.609348 16623 sql/backfill.go:1389 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] validation: index ‹attributes›/‹attribute_entity_index› row count = 0, time so far 6.316564ms
I210410 10:59:08.609465 16449 sql/backfill.go:1190 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] finished validating new indexes
I210410 10:59:08.609507 16449 sql/backfill.go:327 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] completed backfill for ‹"attributes"›, v=3
I210410 10:59:08.609552 16449 sql/schema_changer.go:1433 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] marking schema change as complete
I210410 10:59:08.881127 16449 sql/event_log.go:162 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] Event: ‹"finish_schema_change"›, target: 56, info: ‹{MutationID:1}›
I210410 10:59:08.881278 16449 sql/schema_changer.go:985 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] waiting for a single version...
I210410 10:59:08.885617 16449 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] waiting for 1 leases to expire: desc=‹[{attributes 56 3}]›
I210410 10:59:09.014570 16586 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹56("attributes") ver=4:1618052650.006550286,0, refcount=0›
I210410 10:59:09.103997 16449 sql/schema_changer.go:987 ⋮ [n1,job=648747243800788993,scExec,id=56,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:09.104061 16449 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747243800788993: stepping through state succeeded with error: <nil>
I210410 10:59:09.761905 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 57, info: ‹{TableName:ttn_lorawan.public.clients Statement:CREATE TABLE clients (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, deleted_at TIMESTAMPTZ, client_id VARCHAR(36) NOT NULL, name VARCHAR, description STRING, client_secret VARCHAR, redirect_uris VARCHAR[], logout_redirect_uris VARCHAR[], state INT8 NOT NULL, state_description VARCHAR, skip_authorization BOOL NOT NULL, endorsed BOOL NOT NULL, grants INT8[], rights INT8[], PRIMARY KEY (id)) User:root}›
I210410 10:59:09.764291 16648 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r47/1:‹/{Table/56/2-Max}›] initiating a split of this range at key ‹/Table/57› [r48] (‹zone config›)‹›
I210410 10:59:09.832612 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747253200355329 for table 57, mutation 1
I210410 10:59:09.996727 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 57, info: ‹{TableName:ttn_lorawan.public.clients IndexName:idx_clients_deleted_at Statement:CREATE INDEX idx_clients_deleted_at ON clients (deleted_at) User:root MutationID:1}›
I210410 10:59:09.996961 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747253200355329]›
I210410 10:59:10.064168 16952 jobs/adopt.go:137 ⋮ job 648747253200355329: resuming execution
I210410 10:59:10.068925 16954 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747253200355329: stepping through state running with error: <nil>
I210410 10:59:10.164463 16954 sql/schema_changer.go:567 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] schema change on ‹"clients"› (v2) starting execution...
I210410 10:59:10.264224 16954 sql/schema_changer.go:878 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] stepping through state machine
I210410 10:59:10.422500 16954 sql/schema_changer.go:946 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] finished stepping through state machine
I210410 10:59:10.422605 16954 sql/schema_changer.go:985 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] waiting for a single version...
I210410 10:59:10.428235 16954 sql/schema_changer.go:987 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:10.533737 16954 sql/backfill.go:201 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] running backfill for ‹"clients"›, v=3
I210410 10:59:10.533897 16954 sql/backfill.go:1498 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] backfilling 1 indexes
I210410 10:59:10.534106 16954 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r48/1:‹/{Table/57-Max}›] initiating a split of this range at key ‹/Table/57/2› [r49] (‹manual›)‹›
I210410 10:59:11.049173 16954 sql/backfill.go:1523 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] finished backfilling indexes
I210410 10:59:11.049283 16954 sql/backfill.go:1130 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] validating new indexes
I210410 10:59:11.111948 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 181 MiB RSS, 218 goroutines, 26 MiB/25 MiB/54 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.7 CGO/sec, 17.5/2.6 %(u/s)time, 0.0 %gc (3x), 2.8 KiB/2.2 KiB (r/w)net
I210410 10:59:11.278480 17136 sql/backfill.go:1482 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] validation: table ‹clients› row count = 0, took 6.189065ms
I210410 10:59:11.278900 17135 sql/backfill.go:1389 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] validation: index ‹clients›/‹idx_clients_deleted_at› row count = 0, time so far 6.56439ms
I210410 10:59:11.279006 16954 sql/backfill.go:1190 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] finished validating new indexes
I210410 10:59:11.279047 16954 sql/backfill.go:327 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] completed backfill for ‹"clients"›, v=3
I210410 10:59:11.279094 16954 sql/schema_changer.go:1433 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] marking schema change as complete
I210410 10:59:11.494880 16954 sql/event_log.go:162 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] Event: ‹"finish_schema_change"›, target: 57, info: ‹{MutationID:1}›
I210410 10:59:11.495022 16954 sql/schema_changer.go:985 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] waiting for a single version...
I210410 10:59:11.500086 16954 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] waiting for 1 leases to expire: desc=‹[{clients 57 3}]›
I210410 10:59:11.628091 17173 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹57("clients") ver=4:1618052655.967795744,0, refcount=0›
I210410 10:59:11.701882 16954 sql/schema_changer.go:987 ⋮ [n1,job=648747253200355329,scExec,id=57,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:11.701981 16954 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747253200355329: stepping through state succeeded with error: <nil>
I210410 10:59:12.255155 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747261138927617 for table 57, mutation 2
I210410 10:59:12.476454 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 57, info: ‹{TableName:ttn_lorawan.public.clients IndexName:client_id_index Statement:CREATE UNIQUE INDEX client_id_index ON clients (client_id) User:root MutationID:2}›
I210410 10:59:12.476678 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747261138927617]›
I210410 10:59:12.566612 17102 jobs/adopt.go:137 ⋮ job 648747261138927617: resuming execution
I210410 10:59:12.571393 17104 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747261138927617: stepping through state running with error: <nil>
I210410 10:59:12.609912 17364 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹57("clients") ver=5:1618052655.968795744,0, refcount=0›
I210410 10:59:12.744849 17104 sql/schema_changer.go:567 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] schema change on ‹"clients"› (v5) starting execution...
I210410 10:59:12.889987 17104 sql/schema_changer.go:878 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] stepping through state machine
I210410 10:59:13.058629 17104 sql/schema_changer.go:946 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] finished stepping through state machine
I210410 10:59:13.058749 17104 sql/schema_changer.go:985 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] waiting for a single version...
I210410 10:59:13.063916 17104 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] waiting for 1 leases to expire: desc=‹[{clients 57 5}]›
I210410 10:59:13.169606 17355 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹57("clients") ver=6:1618052655.969795744,0, refcount=0›
I210410 10:59:13.270482 17104 sql/schema_changer.go:987 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] waiting for a single version... done (at v 6)
I210410 10:59:13.348305 17104 sql/backfill.go:201 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] running backfill for ‹"clients"›, v=6
I210410 10:59:13.348425 17104 sql/backfill.go:1498 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] backfilling 1 indexes
I210410 10:59:13.348620 17104 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r49/1:‹/{Table/57/2-Max}›] initiating a split of this range at key ‹/Table/57/3› [r50] (‹manual›)‹›
I210410 10:59:13.616157 17104 sql/backfill.go:1523 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] finished backfilling indexes
I210410 10:59:13.616249 17104 sql/backfill.go:1130 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] validating new indexes
I210410 10:59:13.798247 17674 sql/backfill.go:1482 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] validation: table ‹clients› row count = 0, took 2.46569ms
I210410 10:59:13.798374 17673 sql/backfill.go:1389 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] validation: index ‹clients›/‹client_id_index› row count = 0, time so far 2.527331ms
I210410 10:59:13.798541 17104 sql/backfill.go:1190 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] finished validating new indexes
I210410 10:59:13.798583 17104 sql/backfill.go:327 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] completed backfill for ‹"clients"›, v=6
I210410 10:59:13.798629 17104 sql/schema_changer.go:1433 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] marking schema change as complete
I210410 10:59:13.962673 17104 sql/event_log.go:162 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] Event: ‹"finish_schema_change"›, target: 57, info: ‹{MutationID:2}›
I210410 10:59:13.962810 17104 sql/schema_changer.go:985 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] waiting for a single version...
I210410 10:59:13.968294 17104 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] waiting for 1 leases to expire: desc=‹[{clients 57 6}]›
I210410 10:59:14.073819 17360 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹57("clients") ver=7:1618052655.970795744,0, refcount=0›
I210410 10:59:14.241646 17104 sql/schema_changer.go:987 ⋮ [n1,job=648747261138927617,scExec,id=57,mutation=2] waiting for a single version... done (at v 7)
I210410 10:59:14.241769 17104 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747261138927617: stepping through state succeeded with error: <nil>
I210410 10:59:15.033501 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 58, info: ‹{TableName:ttn_lorawan.public.contact_infos Statement:CREATE TABLE contact_infos (id UUID DEFAULT gen_random_uuid(), contact_type INT8 NOT NULL, contact_method INT8 NOT NULL, value VARCHAR, public BOOL, validated_at TIMESTAMPTZ, entity_id UUID NOT NULL, entity_type VARCHAR(32) NOT NULL, PRIMARY KEY (id)) User:root}›
I210410 10:59:15.037389 17956 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r50/1:‹/{Table/57/3-Max}›] initiating a split of this range at key ‹/Table/58› [r51] (‹zone config›)‹›
I210410 10:59:15.126189 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747270546358273 for table 58, mutation 1
I210410 10:59:15.390454 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 58, info: ‹{TableName:ttn_lorawan.public.contact_infos IndexName:contact_info_entity_index Statement:CREATE INDEX contact_info_entity_index ON contact_infos (entity_id, entity_type) User:root MutationID:1}›
I210410 10:59:15.390678 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747270546358273]›
I210410 10:59:15.459710 17968 jobs/adopt.go:137 ⋮ job 648747270546358273: resuming execution
I210410 10:59:15.464539 18114 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747270546358273: stepping through state running with error: <nil>
I210410 10:59:15.728514 18114 sql/schema_changer.go:567 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] schema change on ‹"contact_infos"› (v2) starting execution...
I210410 10:59:15.906011 18114 sql/schema_changer.go:878 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] stepping through state machine
I210410 10:59:16.107790 18114 sql/schema_changer.go:946 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] finished stepping through state machine
I210410 10:59:16.107876 18114 sql/schema_changer.go:985 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] waiting for a single version...
I210410 10:59:16.113215 18114 sql/schema_changer.go:987 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:16.285623 18114 sql/backfill.go:201 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] running backfill for ‹"contact_infos"›, v=3
I210410 10:59:16.285750 18114 sql/backfill.go:1498 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] backfilling 1 indexes
I210410 10:59:16.285938 18114 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r51/1:‹/{Table/58-Max}›] initiating a split of this range at key ‹/Table/58/2› [r52] (‹manual›)‹›
I210410 10:59:16.865592 18114 sql/backfill.go:1523 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] finished backfilling indexes
I210410 10:59:16.865680 18114 sql/backfill.go:1130 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] validating new indexes
I210410 10:59:17.006538 18322 sql/backfill.go:1482 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] validation: table ‹contact_infos› row count = 0, took 6.145924ms
I210410 10:59:17.006903 18081 sql/backfill.go:1389 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] validation: index ‹contact_infos›/‹contact_info_entity_index› row count = 0, time so far 6.48501ms
I210410 10:59:17.007009 18114 sql/backfill.go:1190 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] finished validating new indexes
I210410 10:59:17.007049 18114 sql/backfill.go:327 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] completed backfill for ‹"contact_infos"›, v=3
I210410 10:59:17.007094 18114 sql/schema_changer.go:1433 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] marking schema change as complete
I210410 10:59:17.223587 18114 sql/event_log.go:162 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] Event: ‹"finish_schema_change"›, target: 58, info: ‹{MutationID:1}›
I210410 10:59:17.223760 18114 sql/schema_changer.go:985 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] waiting for a single version...
I210410 10:59:17.229154 18114 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] waiting for 1 leases to expire: desc=‹[{contact_infos 58 3}]›
I210410 10:59:17.356530 18293 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹58("contact_infos") ver=4:1618052665.720049302,0, refcount=0›
I210410 10:59:17.502251 18114 sql/schema_changer.go:987 ⋮ [n1,job=648747270546358273,scExec,id=58,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:17.502368 18114 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747270546358273: stepping through state succeeded with error: <nil>
I210410 10:59:17.994680 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 59, info: ‹{TableName:ttn_lorawan.public.contact_info_validations Statement:CREATE TABLE contact_info_validations (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, reference VARCHAR, token VARCHAR, entity_id UUID NOT NULL, entity_type VARCHAR(32) NOT NULL, contact_method INT8 NOT NULL, value VARCHAR, used BOOL, expires_at TIMESTAMPTZ, PRIMARY KEY (id)) User:root}›
I210410 10:59:17.997573 18543 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r52/1:‹/{Table/58/2-Max}›] initiating a split of this range at key ‹/Table/59› [r53] (‹zone config›)‹›
I210410 10:59:18.076895 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747280214949889 for table 59, mutation 1
I210410 10:59:18.273982 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 59, info: ‹{TableName:ttn_lorawan.public.contact_info_validations IndexName:contact_info_validation_id_index Statement:CREATE INDEX contact_info_validation_id_index ON contact_info_validations (reference, token) User:root MutationID:1}›
I210410 10:59:18.274155 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747280214949889]›
I210410 10:59:18.341551 18688 jobs/adopt.go:137 ⋮ job 648747280214949889: resuming execution
I210410 10:59:18.346226 18738 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747280214949889: stepping through state running with error: <nil>
I210410 10:59:18.542336 18738 sql/schema_changer.go:567 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] schema change on ‹"contact_info_validations"› (v2) starting execution...
I210410 10:59:18.742402 18738 sql/schema_changer.go:878 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] stepping through state machine
I210410 10:59:19.010924 18738 sql/schema_changer.go:946 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] finished stepping through state machine
I210410 10:59:19.011020 18738 sql/schema_changer.go:985 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] waiting for a single version...
I210410 10:59:19.016265 18738 sql/schema_changer.go:987 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:19.144307 18738 sql/backfill.go:201 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] running backfill for ‹"contact_info_validations"›, v=3
I210410 10:59:19.144420 18738 sql/backfill.go:1498 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] backfilling 1 indexes
I210410 10:59:19.144621 18738 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r53/1:‹/{Table/59-Max}›] initiating a split of this range at key ‹/Table/59/2› [r54] (‹manual›)‹›
I210410 10:59:19.757644 18738 sql/backfill.go:1523 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] finished backfilling indexes
I210410 10:59:19.757738 18738 sql/backfill.go:1130 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] validating new indexes
I210410 10:59:19.864965 18937 sql/backfill.go:1482 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] validation: table ‹contact_info_validations› row count = 0, took 5.943615ms
I210410 10:59:19.865356 18936 sql/backfill.go:1389 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] validation: index ‹contact_info_validations›/‹contact_info_validation_id_index› row count = 0, time so far 6.303934ms
I210410 10:59:19.865465 18738 sql/backfill.go:1190 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] finished validating new indexes
I210410 10:59:19.865506 18738 sql/backfill.go:327 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] completed backfill for ‹"contact_info_validations"›, v=3
I210410 10:59:19.865550 18738 sql/schema_changer.go:1433 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] marking schema change as complete
I210410 10:59:20.026121 18738 sql/event_log.go:162 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] Event: ‹"finish_schema_change"›, target: 59, info: ‹{MutationID:1}›
I210410 10:59:20.026284 18738 sql/schema_changer.go:985 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] waiting for a single version...
I210410 10:59:20.031045 18738 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] waiting for 1 leases to expire: desc=‹[{contact_info_validations 59 3}]›
I210410 10:59:20.161749 18900 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹59("contact_info_validations") ver=4:1618052652.851593544,0, refcount=0›
I210410 10:59:20.228964 18738 sql/schema_changer.go:987 ⋮ [n1,job=648747280214949889,scExec,id=59,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:20.229068 18738 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747280214949889: stepping through state succeeded with error: <nil>
I210410 10:59:20.579441 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747288416288769 for table 59, mutation 2
I210410 10:59:20.798614 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 59, info: ‹{TableName:ttn_lorawan.public.contact_info_validations IndexName:contact_info_validation_entity_index Statement:CREATE INDEX contact_info_validation_entity_index ON contact_info_validations (entity_id, entity_type) User:root MutationID:2}›
I210410 10:59:20.798820 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747288416288769]›
I210410 10:59:20.888448 18908 jobs/adopt.go:137 ⋮ job 648747288416288769: resuming execution
I210410 10:59:20.893262 18910 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747288416288769: stepping through state running with error: <nil>
I210410 10:59:20.976493 19102 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹59("contact_info_validations") ver=5:1618052666.370503243,0, refcount=0›
I210410 10:59:21.111259 18910 sql/schema_changer.go:567 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] schema change on ‹"contact_info_validations"› (v5) starting execution...
I210410 10:59:21.112258 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 186 MiB RSS, 228 goroutines, 24 MiB/22 MiB/58 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.8 CGO/sec, 18.8/2.5 %(u/s)time, 0.0 %gc (3x), 7.7 KiB/6.9 KiB (r/w)net
I210410 10:59:21.333734 18910 sql/schema_changer.go:878 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] stepping through state machine
I210410 10:59:21.556973 18910 sql/schema_changer.go:946 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] finished stepping through state machine
I210410 10:59:21.557022 18910 sql/schema_changer.go:985 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] waiting for a single version...
I210410 10:59:21.558902 18910 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] waiting for 1 leases to expire: desc=‹[{contact_info_validations 59 5}]›
I210410 10:59:21.690558 19277 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹59("contact_info_validations") ver=6:1618052675.370867505,0, refcount=0›
I210410 10:59:21.813867 18910 sql/schema_changer.go:987 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] waiting for a single version... done (at v 6)
I210410 10:59:21.891495 18910 sql/backfill.go:201 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] running backfill for ‹"contact_info_validations"›, v=6
I210410 10:59:21.891606 18910 sql/backfill.go:1498 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] backfilling 1 indexes
I210410 10:59:21.891786 18910 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r54/1:‹/{Table/59/2-Max}›] initiating a split of this range at key ‹/Table/59/3› [r55] (‹manual›)‹›
I210410 10:59:22.237498 18910 sql/backfill.go:1523 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] finished backfilling indexes
I210410 10:59:22.237587 18910 sql/backfill.go:1130 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] validating new indexes
I210410 10:59:22.374904 19217 sql/backfill.go:1482 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] validation: table ‹contact_info_validations› row count = 0, took 2.548275ms
I210410 10:59:22.375005 19216 sql/backfill.go:1389 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] validation: index ‹contact_info_validations›/‹contact_info_validation_entity_index› row count = 0, time so far 2.594497ms
I210410 10:59:22.375125 18910 sql/backfill.go:1190 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] finished validating new indexes
I210410 10:59:22.375167 18910 sql/backfill.go:327 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] completed backfill for ‹"contact_info_validations"›, v=6
I210410 10:59:22.375212 18910 sql/schema_changer.go:1433 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] marking schema change as complete
I210410 10:59:22.574645 18910 sql/event_log.go:162 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] Event: ‹"finish_schema_change"›, target: 59, info: ‹{MutationID:2}›
I210410 10:59:22.574812 18910 sql/schema_changer.go:985 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] waiting for a single version...
I210410 10:59:22.580244 18910 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] waiting for 1 leases to expire: desc=‹[{contact_info_validations 59 6}]›
I210410 10:59:22.674289 19416 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹59("contact_info_validations") ver=7:1618052675.371867505,0, refcount=0›
I210410 10:59:22.809045 18910 sql/schema_changer.go:987 ⋮ [n1,job=648747288416288769,scExec,id=59,mutation=2] waiting for a single version... done (at v 7)
I210410 10:59:22.809153 18910 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747288416288769: stepping through state succeeded with error: <nil>
I210410 10:59:23.244211 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 60, info: ‹{TableName:ttn_lorawan.public.end_devices Statement:CREATE TABLE end_devices (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, application_id VARCHAR(36) NOT NULL, device_id VARCHAR(36) NOT NULL, name VARCHAR, description STRING, join_eui VARCHAR(16), dev_eui VARCHAR(16), brand_id VARCHAR, model_id VARCHAR, hardware_version VARCHAR, firmware_version VARCHAR, band_id VARCHAR, network_server_address VARCHAR, application_server_address VARCHAR, join_server_address VARCHAR, service_profile_id VARCHAR, picture_id UUID, PRIMARY KEY (id)) User:root}›
I210410 10:59:23.247475 19576 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r55/1:‹/{Table/59/3-Max}›] initiating a split of this range at key ‹/Table/60› [r56] (‹zone config›)‹›
I210410 10:59:23.315181 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747297379024897 for table 60, mutation 1
I210410 10:59:23.478553 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 60, info: ‹{TableName:ttn_lorawan.public.end_devices IndexName:end_device_application_index Statement:CREATE INDEX end_device_application_index ON end_devices (application_id) User:root MutationID:1}›
I210410 10:59:23.478758 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747297379024897]›
I210410 10:59:23.545950 19869 jobs/adopt.go:137 ⋮ job 648747297379024897: resuming execution
I210410 10:59:23.550774 19871 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747297379024897: stepping through state running with error: <nil>
I210410 10:59:23.646192 19871 sql/schema_changer.go:567 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] schema change on ‹"end_devices"› (v2) starting execution...
I210410 10:59:23.768129 19871 sql/schema_changer.go:878 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] stepping through state machine
I210410 10:59:23.992271 19871 sql/schema_changer.go:946 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] finished stepping through state machine
I210410 10:59:23.992393 19871 sql/schema_changer.go:985 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] waiting for a single version...
I210410 10:59:23.997585 19871 sql/schema_changer.go:987 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:24.170175 19871 sql/backfill.go:201 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] running backfill for ‹"end_devices"›, v=3
I210410 10:59:24.170284 19871 sql/backfill.go:1498 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] backfilling 1 indexes
I210410 10:59:24.170501 19871 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r56/1:‹/{Table/60-Max}›] initiating a split of this range at key ‹/Table/60/2› [r57] (‹manual›)‹›
I210410 10:59:24.794766 19871 sql/backfill.go:1523 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] finished backfilling indexes
I210410 10:59:24.794853 19871 sql/backfill.go:1130 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] validating new indexes
I210410 10:59:24.932243 20087 sql/backfill.go:1482 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] validation: table ‹end_devices› row count = 0, took 3.20718ms
I210410 10:59:24.932517 20086 sql/backfill.go:1389 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] validation: index ‹end_devices›/‹end_device_application_index› row count = 0, time so far 3.469764ms
I210410 10:59:24.932576 19871 sql/backfill.go:1190 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] finished validating new indexes
I210410 10:59:24.932597 19871 sql/backfill.go:327 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] completed backfill for ‹"end_devices"›, v=3
I210410 10:59:24.932620 19871 sql/schema_changer.go:1433 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] marking schema change as complete
I210410 10:59:25.120842 19871 sql/event_log.go:162 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] Event: ‹"finish_schema_change"›, target: 60, info: ‹{MutationID:1}›
I210410 10:59:25.120999 19871 sql/schema_changer.go:985 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] waiting for a single version...
I210410 10:59:25.126370 19871 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] waiting for 1 leases to expire: desc=‹[{end_devices 60 3}]›
I210410 10:59:25.231668 20058 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=4:1618052678.703663940,0, refcount=0›
I210410 10:59:25.299024 19871 sql/schema_changer.go:987 ⋮ [n1,job=648747297379024897,scExec,id=60,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:25.299141 19871 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747297379024897: stepping through state succeeded with error: <nil>
I210410 10:59:25.767833 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747305417211905 for table 60, mutation 2
I210410 10:59:25.968122 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 60, info: ‹{TableName:ttn_lorawan.public.end_devices IndexName:end_device_join_eui_index Statement:CREATE INDEX end_device_join_eui_index ON end_devices (join_eui) User:root MutationID:2}›
I210410 10:59:25.968336 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747305417211905]›
I210410 10:59:26.046589 20234 jobs/adopt.go:137 ⋮ job 648747305417211905: resuming execution
I210410 10:59:26.055046 20238 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747305417211905: stepping through state running with error: <nil>
I210410 10:59:26.079212 20204 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=5:1618052678.704663940,0, refcount=0›
I210410 10:59:26.180678 20238 sql/schema_changer.go:567 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] schema change on ‹"end_devices"› (v5) starting execution...
I210410 10:59:26.347396 20238 sql/schema_changer.go:878 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] stepping through state machine
I210410 10:59:26.704856 20238 sql/schema_changer.go:946 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] finished stepping through state machine
I210410 10:59:26.704962 20238 sql/schema_changer.go:985 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] waiting for a single version...
I210410 10:59:26.710414 20238 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] waiting for 1 leases to expire: desc=‹[{end_devices 60 5}]›
I210410 10:59:26.837563 20265 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=6:1618052678.705663940,0, refcount=0›
I210410 10:59:26.927457 20238 sql/schema_changer.go:987 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] waiting for a single version... done (at v 6)
I210410 10:59:27.016096 20238 sql/backfill.go:201 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] running backfill for ‹"end_devices"›, v=6
I210410 10:59:27.016212 20238 sql/backfill.go:1498 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] backfilling 1 indexes
I210410 10:59:27.016405 20238 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r57/1:‹/{Table/60/2-Max}›] initiating a split of this range at key ‹/Table/60/3› [r58] (‹manual›)‹›
I210410 10:59:27.417749 20238 sql/backfill.go:1523 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] finished backfilling indexes
I210410 10:59:27.417836 20238 sql/backfill.go:1130 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] validating new indexes
I210410 10:59:27.555286 20439 sql/backfill.go:1482 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] validation: table ‹end_devices› row count = 0, took 2.586234ms
I210410 10:59:27.555307 20438 sql/backfill.go:1389 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] validation: index ‹end_devices›/‹end_device_join_eui_index› row count = 0, time so far 2.533984ms
I210410 10:59:27.555436 20238 sql/backfill.go:1190 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] finished validating new indexes
I210410 10:59:27.555477 20238 sql/backfill.go:327 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] completed backfill for ‹"end_devices"›, v=6
I210410 10:59:27.555522 20238 sql/schema_changer.go:1433 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] marking schema change as complete
I210410 10:59:27.731310 20238 sql/event_log.go:162 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] Event: ‹"finish_schema_change"›, target: 60, info: ‹{MutationID:2}›
I210410 10:59:27.731457 20238 sql/schema_changer.go:985 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] waiting for a single version...
I210410 10:59:27.736736 20238 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] waiting for 1 leases to expire: desc=‹[{end_devices 60 6}]›
I210410 10:59:27.866316 20514 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=7:1618052678.706663940,0, refcount=0›
I210410 10:59:27.966907 20238 sql/schema_changer.go:987 ⋮ [n1,job=648747305417211905,scExec,id=60,mutation=2] waiting for a single version... done (at v 7)
I210410 10:59:27.967025 20238 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747305417211905: stepping through state succeeded with error: <nil>
I210410 10:59:28.269076 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747313618419713 for table 60, mutation 3
I210410 10:59:28.469039 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 60, info: ‹{TableName:ttn_lorawan.public.end_devices IndexName:end_device_dev_eui_index Statement:CREATE INDEX end_device_dev_eui_index ON end_devices (dev_eui) User:root MutationID:3}›
I210410 10:59:28.469273 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747313618419713]›
I210410 10:59:28.547345 20627 jobs/adopt.go:137 ⋮ job 648747313618419713: resuming execution
I210410 10:59:28.553008 20629 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747313618419713: stepping through state running with error: <nil>
I210410 10:59:28.579808 20422 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=8:1618052680.770523082,0, refcount=0›
I210410 10:59:28.681510 20629 sql/schema_changer.go:567 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] schema change on ‹"end_devices"› (v8) starting execution...
I210410 10:59:28.825412 20629 sql/schema_changer.go:878 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] stepping through state machine
I210410 10:59:29.026691 20629 sql/schema_changer.go:946 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] finished stepping through state machine
I210410 10:59:29.026802 20629 sql/schema_changer.go:985 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] waiting for a single version...
I210410 10:59:29.031373 20629 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] waiting for 1 leases to expire: desc=‹[{end_devices 60 8}]›
I210410 10:59:29.160124 20625 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=9:1618052680.771523082,0, refcount=0›
I210410 10:59:29.249718 20629 sql/schema_changer.go:987 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] waiting for a single version... done (at v 9)
I210410 10:59:29.338491 20629 sql/backfill.go:201 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] running backfill for ‹"end_devices"›, v=9
I210410 10:59:29.338587 20629 sql/backfill.go:1498 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] backfilling 1 indexes
I210410 10:59:29.338761 20629 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r58/1:‹/{Table/60/3-Max}›] initiating a split of this range at key ‹/Table/60/4› [r59] (‹manual›)‹›
I210410 10:59:29.740242 20629 sql/backfill.go:1523 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] finished backfilling indexes
I210410 10:59:29.740358 20629 sql/backfill.go:1130 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] validating new indexes
I210410 10:59:29.874956 20770 sql/backfill.go:1482 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] validation: table ‹end_devices› row count = 0, took 909.683µs
I210410 10:59:29.874967 20481 sql/backfill.go:1389 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] validation: index ‹end_devices›/‹end_device_dev_eui_index› row count = 0, time so far 913.976µs
I210410 10:59:29.875001 20629 sql/backfill.go:1190 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] finished validating new indexes
I210410 10:59:29.875014 20629 sql/backfill.go:327 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] completed backfill for ‹"end_devices"›, v=9
I210410 10:59:29.875043 20629 sql/schema_changer.go:1433 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] marking schema change as complete
I210410 10:59:30.074930 20629 sql/event_log.go:162 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] Event: ‹"finish_schema_change"›, target: 60, info: ‹{MutationID:3}›
I210410 10:59:30.074993 20629 sql/schema_changer.go:985 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] waiting for a single version...
I210410 10:59:30.076762 20629 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] waiting for 1 leases to expire: desc=‹[{end_devices 60 9}]›
I210410 10:59:30.175361 20786 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=10:1618052680.772523082,0, refcount=0›
I210410 10:59:30.242520 20629 sql/schema_changer.go:987 ⋮ [n1,job=648747313618419713,scExec,id=60,mutation=3] waiting for a single version... done (at v 10)
I210410 10:59:30.242623 20629 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747313618419713: stepping through state succeeded with error: <nil>
I210410 10:59:30.374877 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747320513691649 for table 60, mutation 4
I210410 10:59:30.557232 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 60, info: ‹{TableName:ttn_lorawan.public.end_devices IndexName:end_device_picture_index Statement:CREATE INDEX end_device_picture_index ON end_devices (picture_id) User:root MutationID:4}›
I210410 10:59:30.557447 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747320513691649]›
I210410 10:59:30.635758 20963 jobs/adopt.go:137 ⋮ job 648747320513691649: resuming execution
I210410 10:59:30.641047 20965 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747320513691649: stepping through state running with error: <nil>
I210410 10:59:30.668035 20799 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=11:1618052680.773523082,0, refcount=0›
I210410 10:59:30.836868 20965 sql/schema_changer.go:567 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] schema change on ‹"end_devices"› (v11) starting execution...
I210410 10:59:30.980685 20965 sql/schema_changer.go:878 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] stepping through state machine
I210410 10:59:31.112453 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 189 MiB RSS, 224 goroutines, 42 MiB/14 MiB/60 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.6 CGO/sec, 20.4/2.4 %(u/s)time, 0.0 %gc (2x), 5.8 KiB/5.2 KiB (r/w)net
I210410 10:59:31.160245 20965 sql/schema_changer.go:946 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] finished stepping through state machine
I210410 10:59:31.160311 20965 sql/schema_changer.go:985 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] waiting for a single version...
I210410 10:59:31.162303 20965 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] waiting for 1 leases to expire: desc=‹[{end_devices 60 11}]›
I210410 10:59:31.363092 20745 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=12:1618052680.774523082,0, refcount=0›
I210410 10:59:31.540652 20965 sql/schema_changer.go:987 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] waiting for a single version... done (at v 12)
I210410 10:59:31.629601 20965 sql/backfill.go:201 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] running backfill for ‹"end_devices"›, v=12
I210410 10:59:31.629726 20965 sql/backfill.go:1498 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] backfilling 1 indexes
I210410 10:59:31.629923 20965 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r59/1:‹/{Table/60/4-Max}›] initiating a split of this range at key ‹/Table/60/5› [r60] (‹manual›)‹›
I210410 10:59:32.031267 20965 sql/backfill.go:1523 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] finished backfilling indexes
I210410 10:59:32.031398 20965 sql/backfill.go:1130 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] validating new indexes
I210410 10:59:32.280253 21007 sql/backfill.go:1482 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] validation: table ‹end_devices› row count = 0, took 2.550148ms
I210410 10:59:32.280295 21006 sql/backfill.go:1389 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] validation: index ‹end_devices›/‹end_device_picture_index› row count = 0, time so far 2.532414ms
I210410 10:59:32.280413 20965 sql/backfill.go:1190 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] finished validating new indexes
I210410 10:59:32.280456 20965 sql/backfill.go:327 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] completed backfill for ‹"end_devices"›, v=12
I210410 10:59:32.280502 20965 sql/schema_changer.go:1433 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] marking schema change as complete
I210410 10:59:32.500635 20965 sql/event_log.go:162 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] Event: ‹"finish_schema_change"›, target: 60, info: ‹{MutationID:4}›
I210410 10:59:32.500813 20965 sql/schema_changer.go:985 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] waiting for a single version...
I210410 10:59:32.506491 20965 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] waiting for 1 leases to expire: desc=‹[{end_devices 60 12}]›
I210410 10:59:32.635167 21070 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=13:1618052680.775523082,0, refcount=0›
I210410 10:59:32.724950 20965 sql/schema_changer.go:987 ⋮ [n1,job=648747320513691649,scExec,id=60,mutation=4] waiting for a single version... done (at v 13)
I210410 10:59:32.725081 20965 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747320513691649: stepping through state succeeded with error: <nil>
I210410 10:59:32.976871 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747329046675457 for table 60, mutation 5
I210410 10:59:33.126653 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 60, info: ‹{TableName:ttn_lorawan.public.end_devices IndexName:end_device_id_index Statement:CREATE UNIQUE INDEX end_device_id_index ON end_devices (application_id, device_id) User:root MutationID:5}›
I210410 10:59:33.126865 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747329046675457]›
I210410 10:59:33.194589 21224 jobs/adopt.go:137 ⋮ job 648747329046675457: resuming execution
I210410 10:59:33.199401 21226 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747329046675457: stepping through state running with error: <nil>
I210410 10:59:33.226708 21052 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=14:1618052680.776523082,0, refcount=0›
I210410 10:59:33.395513 21226 sql/schema_changer.go:567 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] schema change on ‹"end_devices"› (v14) starting execution...
I210410 10:59:33.528531 21226 sql/schema_changer.go:878 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] stepping through state machine
I210410 10:59:33.730106 21226 sql/schema_changer.go:946 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] finished stepping through state machine
I210410 10:59:33.730197 21226 sql/schema_changer.go:985 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] waiting for a single version...
I210410 10:59:33.734662 21226 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] waiting for 1 leases to expire: desc=‹[{end_devices 60 14}]›
I210410 10:59:33.840940 21302 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=15:1618052680.777523082,0, refcount=0›
I210410 10:59:33.908425 21226 sql/schema_changer.go:987 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] waiting for a single version... done (at v 15)
I210410 10:59:33.986211 21226 sql/backfill.go:201 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] running backfill for ‹"end_devices"›, v=15
I210410 10:59:33.986322 21226 sql/backfill.go:1498 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] backfilling 1 indexes
I210410 10:59:33.986517 21226 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r60/1:‹/{Table/60/5-Max}›] initiating a split of this range at key ‹/Table/60/6› [r61] (‹manual›)‹›
I210410 10:59:34.298847 21226 sql/backfill.go:1523 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] finished backfilling indexes
I210410 10:59:34.298934 21226 sql/backfill.go:1130 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] validating new indexes
I210410 10:59:34.458537 21249 sql/backfill.go:1482 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] validation: table ‹end_devices› row count = 0, took 2.594138ms
I210410 10:59:34.458579 21248 sql/backfill.go:1389 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] validation: index ‹end_devices›/‹end_device_id_index› row count = 0, time so far 2.582674ms
I210410 10:59:34.458759 21226 sql/backfill.go:1190 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] finished validating new indexes
I210410 10:59:34.458806 21226 sql/backfill.go:327 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] completed backfill for ‹"end_devices"›, v=15
I210410 10:59:34.458852 21226 sql/schema_changer.go:1433 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] marking schema change as complete
I210410 10:59:34.634441 21226 sql/event_log.go:162 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] Event: ‹"finish_schema_change"›, target: 60, info: ‹{MutationID:5}›
I210410 10:59:34.634582 21226 sql/schema_changer.go:985 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] waiting for a single version...
I210410 10:59:34.640113 21226 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] waiting for 1 leases to expire: desc=‹[{end_devices 60 15}]›
I210410 10:59:34.767547 21327 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=16:1618052687.806145299,0, refcount=0›
I210410 10:59:34.946480 21226 sql/schema_changer.go:987 ⋮ [n1,job=648747329046675457,scExec,id=60,mutation=5] waiting for a single version... done (at v 16)
I210410 10:59:34.946595 21226 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747329046675457: stepping through state succeeded with error: <nil>
I210410 10:59:35.530247 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747337406054401 for table 60, mutation 6
I210410 10:59:35.695126 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 60, info: ‹{TableName:ttn_lorawan.public.end_devices IndexName:end_device_eui_index Statement:CREATE UNIQUE INDEX end_device_eui_index ON end_devices (join_eui, dev_eui) User:root MutationID:6}›
I210410 10:59:35.695363 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747337406054401]›
I210410 10:59:35.762843 21619 jobs/adopt.go:137 ⋮ job 648747337406054401: resuming execution
I210410 10:59:35.767558 21621 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747337406054401: stepping through state running with error: <nil>
I210410 10:59:35.796368 21537 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=17:1618052687.807145299,0, refcount=0›
I210410 10:59:35.896857 21621 sql/schema_changer.go:567 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] schema change on ‹"end_devices"› (v17) starting execution...
I210410 10:59:36.096701 21621 sql/schema_changer.go:878 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] stepping through state machine
I210410 10:59:36.264821 21621 sql/schema_changer.go:946 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] finished stepping through state machine
I210410 10:59:36.264924 21621 sql/schema_changer.go:985 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] waiting for a single version...
I210410 10:59:36.269522 21621 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] waiting for 1 leases to expire: desc=‹[{end_devices 60 17}]›
I210410 10:59:36.375975 21691 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=18:1618052687.809145299,0, refcount=0›
I210410 10:59:36.754259 21621 sql/schema_changer.go:987 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] waiting for a single version... done (at v 18)
I210410 10:59:36.888453 21621 sql/backfill.go:201 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] running backfill for ‹"end_devices"›, v=18
I210410 10:59:36.888657 21621 sql/backfill.go:1498 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] backfilling 1 indexes
I210410 10:59:36.888928 21621 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r61/1:‹/{Table/60/6-Max}›] initiating a split of this range at key ‹/Table/60/7› [r62] (‹manual›)‹›
I210410 10:59:37.346086 21621 sql/backfill.go:1523 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] finished backfilling indexes
I210410 10:59:37.346178 21621 sql/backfill.go:1130 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] validating new indexes
I210410 10:59:37.483982 21756 sql/backfill.go:1482 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] validation: table ‹end_devices› row count = 0, took 2.724308ms
I210410 10:59:37.484107 21755 sql/backfill.go:1389 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] validation: index ‹end_devices›/‹end_device_eui_index› row count = 0, time so far 2.788506ms
I210410 10:59:37.484225 21621 sql/backfill.go:1190 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] finished validating new indexes
I210410 10:59:37.484268 21621 sql/backfill.go:327 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] completed backfill for ‹"end_devices"›, v=18
I210410 10:59:37.484314 21621 sql/schema_changer.go:1433 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] marking schema change as complete
I210410 10:59:37.694886 21621 sql/event_log.go:162 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] Event: ‹"finish_schema_change"›, target: 60, info: ‹{MutationID:6}›
I210410 10:59:37.695048 21621 sql/schema_changer.go:985 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] waiting for a single version...
I210410 10:59:37.700693 21621 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] waiting for 1 leases to expire: desc=‹[{end_devices 60 18}]›
I210410 10:59:37.794336 21738 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹60("end_devices") ver=19:1618052687.810145299,0, refcount=0›
I210410 10:59:37.861772 21621 sql/schema_changer.go:987 ⋮ [n1,job=648747337406054401,scExec,id=60,mutation=6] waiting for a single version... done (at v 19)
I210410 10:59:37.861921 21621 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747337406054401: stepping through state succeeded with error: <nil>
I210410 10:59:38.274922 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 61, info: ‹{TableName:ttn_lorawan.public.end_device_locations Statement:CREATE TABLE end_device_locations (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, end_device_id UUID NOT NULL, service STRING, latitude DECIMAL, longitude DECIMAL, altitude INT8, accuracy INT8, source INT8 NOT NULL, PRIMARY KEY (id)) User:root}›
I210410 10:59:38.345772 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747346632048641 for table 61, mutation 1
I210410 10:59:38.487369 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 61, info: ‹{TableName:ttn_lorawan.public.end_device_locations IndexName:end_device_device_index Statement:CREATE INDEX end_device_device_index ON end_device_locations (end_device_id) User:root MutationID:1}›
I210410 10:59:38.487600 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747346632048641]›
I210410 10:59:38.490758 21663 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r62/1:‹/{Table/60/7-Max}›] initiating a split of this range at key ‹/Table/61› [r63] (‹zone config›)‹›
I210410 10:59:38.566091 22067 jobs/adopt.go:137 ⋮ job 648747346632048641: resuming execution
I210410 10:59:38.570798 22069 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747346632048641: stepping through state running with error: <nil>
I210410 10:59:38.766400 22069 sql/schema_changer.go:567 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] schema change on ‹"end_device_locations"› (v2) starting execution...
I210410 10:59:38.933421 22069 sql/schema_changer.go:878 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] stepping through state machine
I210410 10:59:39.191235 22069 sql/schema_changer.go:946 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] finished stepping through state machine
I210410 10:59:39.191284 22069 sql/schema_changer.go:985 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] waiting for a single version...
I210410 10:59:39.193044 22069 sql/schema_changer.go:987 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:39.424952 22069 sql/backfill.go:201 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] running backfill for ‹"end_device_locations"›, v=3
I210410 10:59:39.425066 22069 sql/backfill.go:1498 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] backfilling 1 indexes
I210410 10:59:39.425252 22069 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r63/1:‹/{Table/61-Max}›] initiating a split of this range at key ‹/Table/61/2› [r64] (‹manual›)‹›
I210410 10:59:39.950700 22069 sql/backfill.go:1523 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] finished backfilling indexes
I210410 10:59:39.950789 22069 sql/backfill.go:1130 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] validating new indexes
I210410 10:59:40.058891 22184 sql/backfill.go:1482 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] validation: table ‹end_device_locations› row count = 0, took 6.100096ms
I210410 10:59:40.059315 22183 sql/backfill.go:1389 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] validation: index ‹end_device_locations›/‹end_device_device_index› row count = 0, time so far 6.472839ms
I210410 10:59:40.059427 22069 sql/backfill.go:1190 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] finished validating new indexes
I210410 10:59:40.059468 22069 sql/backfill.go:327 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] completed backfill for ‹"end_device_locations"›, v=3
I210410 10:59:40.059513 22069 sql/schema_changer.go:1433 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] marking schema change as complete
I210410 10:59:40.219861 22069 sql/event_log.go:162 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] Event: ‹"finish_schema_change"›, target: 61, info: ‹{MutationID:1}›
I210410 10:59:40.220015 22069 sql/schema_changer.go:985 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] waiting for a single version...
I210410 10:59:40.223723 22069 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] waiting for 1 leases to expire: desc=‹[{end_device_locations 61 3}]›
I210410 10:59:40.330519 22117 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹61("end_device_locations") ver=4:1618052680.075181129,0, refcount=0›
I210410 10:59:40.431400 22069 sql/schema_changer.go:987 ⋮ [n1,job=648747346632048641,scExec,id=61,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:40.431525 22069 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747346632048641: stepping through state succeeded with error: <nil>
I210410 10:59:40.855409 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747354855833601 for table 61, mutation 2
I210410 10:59:41.084673 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 10:59:41.112709 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 192 MiB RSS, 222 goroutines, 37 MiB/16 MiB/61 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.6 CGO/sec, 19.8/2.7 %(u/s)time, 0.0 %gc (3x), 4.2 KiB/3.8 KiB (r/w)net
I210410 10:59:41.592541 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 61, info: ‹{TableName:ttn_lorawan.public.end_device_locations IndexName:end_device_location_id_index Statement:CREATE UNIQUE INDEX end_device_location_id_index ON end_device_locations (end_device_id, service) User:root MutationID:2}›
I210410 10:59:41.592733 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747354855833601]›
I210410 10:59:41.682601 22386 jobs/adopt.go:137 ⋮ job 648747354855833601: resuming execution
I210410 10:59:41.687312 22388 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747354855833601: stepping through state running with error: <nil>
I210410 10:59:41.770646 22154 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹61("end_device_locations") ver=5:1618052691.044907009,0, refcount=0›
I210410 10:59:41.904708 22388 sql/schema_changer.go:567 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] schema change on ‹"end_device_locations"› (v5) starting execution...
I210410 10:59:42.172281 22388 sql/schema_changer.go:878 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] stepping through state machine
I210410 10:59:42.486587 22380 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747358619271169: stepping through state running with error: <nil>
I210410 10:59:42.486931 22388 sql/schema_changer.go:946 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] finished stepping through state machine
I210410 10:59:42.487028 22388 sql/schema_changer.go:985 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] waiting for a single version...
I210410 10:59:42.492621 22388 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] waiting for 1 leases to expire: desc=‹[{end_device_locations 61 5}]›
I210410 10:59:42.619813 22414 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹61("end_device_locations") ver=6:1618052696.413528147,0, refcount=0›
I210410 10:59:42.776683 22388 sql/schema_changer.go:987 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] waiting for a single version... done (at v 6)
I210410 10:59:42.843570 22388 sql/backfill.go:201 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] running backfill for ‹"end_device_locations"›, v=6
I210410 10:59:42.843731 22388 sql/backfill.go:1498 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] backfilling 1 indexes
I210410 10:59:42.844013 22388 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r64/1:‹/{Table/61/2-Max}›] initiating a split of this range at key ‹/Table/61/3› [r65] (‹manual›)‹›
I210410 10:59:43.178371 22388 sql/backfill.go:1523 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] finished backfilling indexes
I210410 10:59:43.178471 22388 sql/backfill.go:1130 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] validating new indexes
I210410 10:59:43.461090 22682 sql/backfill.go:1389 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] validation: index ‹end_device_locations›/‹end_device_location_id_index› row count = 0, time so far 2.642097ms
I210410 10:59:43.461109 22683 sql/backfill.go:1482 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] validation: table ‹end_device_locations› row count = 0, took 2.721991ms
I210410 10:59:43.461258 22388 sql/backfill.go:1190 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] finished validating new indexes
I210410 10:59:43.461301 22388 sql/backfill.go:327 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] completed backfill for ‹"end_device_locations"›, v=6
I210410 10:59:43.461347 22388 sql/schema_changer.go:1433 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] marking schema change as complete
I210410 10:59:43.658884 22388 sql/event_log.go:162 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] Event: ‹"finish_schema_change"›, target: 61, info: ‹{MutationID:2}›
I210410 10:59:43.659048 22388 sql/schema_changer.go:985 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] waiting for a single version...
I210410 10:59:43.663635 22388 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] waiting for 1 leases to expire: desc=‹[{end_device_locations 61 6}]›
I210410 10:59:43.758781 22380 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747358619271169: stepping through state succeeded with error: <nil>
I210410 10:59:43.792216 22689 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹61("end_device_locations") ver=7:1618052696.414528147,0, refcount=0›
I210410 10:59:43.926778 22388 sql/schema_changer.go:987 ⋮ [n1,job=648747354855833601,scExec,id=61,mutation=2] waiting for a single version... done (at v 7)
I210410 10:59:43.926890 22388 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747354855833601: stepping through state succeeded with error: <nil>
I210410 10:59:44.205799 22729 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747365042814977: stepping through state running with error: <nil>
I210410 10:59:45.056193 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 62, info: ‹{TableName:ttn_lorawan.public.gateways Statement:CREATE TABLE gateways (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, deleted_at TIMESTAMPTZ, gateway_eui VARCHAR(16), gateway_id VARCHAR(36) NOT NULL, name VARCHAR, description STRING, brand_id VARCHAR, model_id VARCHAR, hardware_version VARCHAR, firmware_version VARCHAR, gateway_server_address VARCHAR, auto_update BOOL NOT NULL, update_channel VARCHAR, frequency_plan_id VARCHAR, status_public BOOL NOT NULL, location_public BOOL NOT NULL, schedule_downlink_late BOOL NOT NULL, enforce_duty_cycle BOOL NOT NULL, schedule_anytime_delay INT8 NOT NULL DEFAULT 0, downlink_path_constraint INT8, update_location_from_status BOOL NOT NULL DEFAULT false, lbs_lns_secret BYTES, claim_authentication_code_secret BYTES, claim_authentication_code_valid_from TIMESTAMPTZ, claim_authentication_code_valid_to TIMESTAMPTZ, target_cups_uri VARCHAR, target_cups_key BYTES, require_authenticated_connection BOOL, PRIMARY KEY (id)) User:root}›
I210410 10:59:45.058921 22665 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r65/1:‹/{Table/61/3-Max}›] initiating a split of this range at key ‹/Table/62› [r66] (‹zone config›)‹›
I210410 10:59:45.149169 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747368925528065 for table 62, mutation 1
I210410 10:59:45.457590 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 62, info: ‹{TableName:ttn_lorawan.public.gateways IndexName:idx_gateways_deleted_at Statement:CREATE INDEX idx_gateways_deleted_at ON gateways (deleted_at) User:root MutationID:1}›
I210410 10:59:45.457813 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747368925528065]›
I210410 10:59:45.525038 22865 jobs/adopt.go:137 ⋮ job 648747368925528065: resuming execution
I210410 10:59:45.529795 23011 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747368925528065: stepping through state running with error: <nil>
I210410 10:59:45.726059 23011 sql/schema_changer.go:567 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] schema change on ‹"gateways"› (v2) starting execution...
I210410 10:59:45.825345 22729 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747365042814977: stepping through state succeeded with error: <nil>
I210410 10:59:45.925891 23011 sql/schema_changer.go:878 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] stepping through state machine
I210410 10:59:46.161163 23011 sql/schema_changer.go:946 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] finished stepping through state machine
I210410 10:59:46.161268 23011 sql/schema_changer.go:985 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] waiting for a single version...
I210410 10:59:46.166489 23011 sql/schema_changer.go:987 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:46.294879 23050 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747371814518785: stepping through state running with error: <nil>
I210410 10:59:46.327994 23011 sql/backfill.go:201 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] running backfill for ‹"gateways"›, v=3
I210410 10:59:46.328095 23011 sql/backfill.go:1498 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] backfilling 1 indexes
I210410 10:59:46.328255 23011 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r66/1:‹/{Table/62-Max}›] initiating a split of this range at key ‹/Table/62/2› [r67] (‹manual›)‹›
I210410 10:59:46.764095 23011 sql/backfill.go:1523 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] finished backfilling indexes
I210410 10:59:46.764209 23011 sql/backfill.go:1130 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] validating new indexes
I210410 10:59:47.109815 23134 sql/backfill.go:1482 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] validation: table ‹gateways› row count = 0, took 8.495648ms
I210410 10:59:47.109809 23133 sql/backfill.go:1389 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] validation: index ‹gateways›/‹idx_gateways_deleted_at› row count = 0, time so far 8.431222ms
I210410 10:59:47.109981 23011 sql/backfill.go:1190 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] finished validating new indexes
I210410 10:59:47.110041 23011 sql/backfill.go:327 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] completed backfill for ‹"gateways"›, v=3
I210410 10:59:47.110109 23011 sql/schema_changer.go:1433 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] marking schema change as complete
I210410 10:59:47.367923 23011 sql/event_log.go:162 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] Event: ‹"finish_schema_change"›, target: 62, info: ‹{MutationID:1}›
I210410 10:59:47.367975 23011 sql/schema_changer.go:985 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] waiting for a single version...
I210410 10:59:47.369676 23011 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] waiting for 1 leases to expire: desc=‹[{gateways 62 3}]›
I210410 10:59:47.480109 23050 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747371814518785: stepping through state succeeded with error: <nil>
I210410 10:59:47.513592 23174 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹62("gateways") ver=4:1618052688.654983700,0, refcount=0›
I210410 10:59:47.647944 23011 sql/schema_changer.go:987 ⋮ [n1,job=648747368925528065,scExec,id=62,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:47.648065 23011 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747368925528065: stepping through state succeeded with error: <nil>
I210410 10:59:47.865216 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747377825251329 for table 62, mutation 2
I210410 10:59:48.072016 23294 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747377236115457: stepping through state running with error: <nil>
I210410 10:59:48.106223 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 62, info: ‹{TableName:ttn_lorawan.public.gateways IndexName:gateway_eui_index Statement:CREATE UNIQUE INDEX gateway_eui_index ON gateways (gateway_eui) User:root MutationID:2}›
I210410 10:59:48.106438 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747377825251329]›
I210410 10:59:48.206962 23412 jobs/adopt.go:137 ⋮ job 648747377825251329: resuming execution
I210410 10:59:48.210853 23414 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747377825251329: stepping through state running with error: <nil>
I210410 10:59:48.239101 23372 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹62("gateways") ver=5:1618052688.655983700,0, refcount=0›
I210410 10:59:48.475021 23414 sql/schema_changer.go:567 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] schema change on ‹"gateways"› (v5) starting execution...
I210410 10:59:48.742053 23414 sql/schema_changer.go:878 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] stepping through state machine
I210410 10:59:48.943702 23414 sql/schema_changer.go:946 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] finished stepping through state machine
I210410 10:59:48.943786 23414 sql/schema_changer.go:985 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] waiting for a single version...
I210410 10:59:48.949320 23414 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] waiting for 1 leases to expire: desc=‹[{gateways 62 5}]›
I210410 10:59:49.121347 23382 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹62("gateways") ver=6:1618052688.656983700,0, refcount=0›
I210410 10:59:49.165939 23294 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747377236115457: stepping through state succeeded with error: <nil>
I210410 10:59:49.300284 23414 sql/schema_changer.go:987 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] waiting for a single version... done (at v 6)
I210410 10:59:49.391106 23414 sql/backfill.go:201 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] running backfill for ‹"gateways"›, v=6
I210410 10:59:49.391256 23414 sql/backfill.go:1498 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] backfilling 1 indexes
I210410 10:59:49.391468 23414 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r67/1:‹/{Table/62/2-Max}›] initiating a split of this range at key ‹/Table/62/3› [r68] (‹manual›)‹›
I210410 10:59:49.781562 23414 sql/backfill.go:1523 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] finished backfilling indexes
I210410 10:59:49.781654 23414 sql/backfill.go:1130 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] validating new indexes
I210410 10:59:49.914925 23647 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747383129866241: stepping through state running with error: <nil>
I210410 10:59:50.083382 23722 sql/backfill.go:1482 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] validation: table ‹gateways› row count = 0, took 909.2µs
I210410 10:59:50.083392 23721 sql/backfill.go:1389 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] validation: index ‹gateways›/‹gateway_eui_index› row count = 0, time so far 888.867µs
I210410 10:59:50.083430 23414 sql/backfill.go:1190 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] finished validating new indexes
I210410 10:59:50.083443 23414 sql/backfill.go:327 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] completed backfill for ‹"gateways"›, v=6
I210410 10:59:50.083456 23414 sql/schema_changer.go:1433 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] marking schema change as complete
I210410 10:59:50.250865 23414 sql/event_log.go:162 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] Event: ‹"finish_schema_change"›, target: 62, info: ‹{MutationID:2}›
I210410 10:59:50.251019 23414 sql/schema_changer.go:985 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] waiting for a single version...
I210410 10:59:50.257134 23414 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] waiting for 1 leases to expire: desc=‹[{gateways 62 6}]›
I210410 10:59:50.317171 23677 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹62("gateways") ver=7:1618052688.657983700,0, refcount=0›
I210410 10:59:50.417886 23414 sql/schema_changer.go:987 ⋮ [n1,job=648747377825251329,scExec,id=62,mutation=2] waiting for a single version... done (at v 7)
I210410 10:59:50.417993 23414 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747377825251329: stepping through state succeeded with error: <nil>
I210410 10:59:50.708688 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747387143749633 for table 62, mutation 3
I210410 10:59:50.953929 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 62, info: ‹{TableName:ttn_lorawan.public.gateways IndexName:gateway_id_index Statement:CREATE UNIQUE INDEX gateway_id_index ON gateways (gateway_id) User:root MutationID:3}›
I210410 10:59:50.954153 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747387143749633]›
I210410 10:59:51.038562 23758 jobs/adopt.go:137 ⋮ job 648747387143749633: resuming execution
I210410 10:59:51.043242 23760 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747387143749633: stepping through state running with error: <nil>
I210410 10:59:51.110559 23757 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹62("gateways") ver=8:1618052690.491940304,0, refcount=0›
I210410 10:59:51.113686 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 196 MiB RSS, 233 goroutines, 36 MiB/16 MiB/64 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.5 CGO/sec, 27.4/2.8 %(u/s)time, 0.0 %gc (4x), 6.5 KiB/5.5 KiB (r/w)net
I210410 10:59:51.256495 23760 sql/schema_changer.go:567 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] schema change on ‹"gateways"› (v8) starting execution...
I210410 10:59:51.625362 23760 sql/schema_changer.go:878 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] stepping through state machine
I210410 10:59:51.972735 23760 sql/schema_changer.go:946 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] finished stepping through state machine
I210410 10:59:51.972853 23760 sql/schema_changer.go:985 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] waiting for a single version...
I210410 10:59:51.978735 23760 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] waiting for 1 leases to expire: desc=‹[{gateways 62 8}]›
I210410 10:59:52.150498 23997 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹62("gateways") ver=9:1618052699.472775368,0, refcount=0›
I210410 10:59:52.195123 23647 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747383129866241: stepping through state succeeded with error: <nil>
I210410 10:59:52.329048 23760 sql/schema_changer.go:987 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] waiting for a single version... done (at v 9)
I210410 10:59:52.418056 23760 sql/backfill.go:201 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] running backfill for ‹"gateways"›, v=9
I210410 10:59:52.418263 23760 sql/backfill.go:1498 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] backfilling 1 indexes
I210410 10:59:52.418527 23760 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r68/1:‹/{Table/62/3-Max}›] initiating a split of this range at key ‹/Table/62/4› [r69] (‹manual›)‹›
I210410 10:59:52.775251 23760 sql/backfill.go:1523 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] finished backfilling indexes
I210410 10:59:52.775381 23760 sql/backfill.go:1130 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] validating new indexes
I210410 10:59:52.879767 24118 sql/backfill.go:1482 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] validation: table ‹gateways› row count = 0, took 2.803684ms
I210410 10:59:52.879775 24117 sql/backfill.go:1389 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] validation: index ‹gateways›/‹gateway_id_index› row count = 0, time so far 2.745866ms
I210410 10:59:52.879916 23760 sql/backfill.go:1190 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] finished validating new indexes
I210410 10:59:52.879958 23760 sql/backfill.go:327 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] completed backfill for ‹"gateways"›, v=9
I210410 10:59:52.880003 23760 sql/schema_changer.go:1433 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] marking schema change as complete
I210410 10:59:53.010295 23760 sql/event_log.go:162 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] Event: ‹"finish_schema_change"›, target: 62, info: ‹{MutationID:3}›
I210410 10:59:53.010471 23760 sql/schema_changer.go:985 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] waiting for a single version...
I210410 10:59:53.016115 23760 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] waiting for 1 leases to expire: desc=‹[{gateways 62 9}]›
I210410 10:59:53.109942 24009 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹62("gateways") ver=10:1618052699.473775368,0, refcount=0›
I210410 10:59:53.210911 23760 sql/schema_changer.go:987 ⋮ [n1,job=648747387143749633,scExec,id=62,mutation=3] waiting for a single version... done (at v 10)
I210410 10:59:53.211023 23760 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747387143749633: stepping through state succeeded with error: <nil>
I210410 10:59:53.757554 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 63, info: ‹{TableName:ttn_lorawan.public.gateway_antennas Statement:CREATE TABLE gateway_antennas (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, gateway_id UUID NOT NULL, "index" INT8 NOT NULL, gain DECIMAL, latitude DECIMAL, longitude DECIMAL, altitude INT8, accuracy INT8, PRIMARY KEY (id)) User:root}›
I210410 10:59:53.827982 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747397364580353 for table 63, mutation 1
I210410 10:59:53.991714 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 63, info: ‹{TableName:ttn_lorawan.public.gateway_antennas IndexName:gateway_antenna_gateway_index Statement:CREATE INDEX gateway_antenna_gateway_index ON gateway_antennas (gateway_id) User:root MutationID:1}›
I210410 10:59:53.991886 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747397364580353]›
I210410 10:59:54.070736 24158 jobs/adopt.go:137 ⋮ job 648747397364580353: resuming execution
I210410 10:59:54.075096 24160 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747397364580353: stepping through state running with error: <nil>
I210410 10:59:54.183758 24160 sql/schema_changer.go:567 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] schema change on ‹"gateway_antennas"› (v2) starting execution...
I210410 10:59:54.316743 24160 sql/schema_changer.go:878 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] stepping through state machine
I210410 10:59:54.640587 24160 sql/schema_changer.go:946 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] finished stepping through state machine
I210410 10:59:54.640703 24160 sql/schema_changer.go:985 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] waiting for a single version...
I210410 10:59:54.644830 24280 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r69/1:‹/{Table/62/4-Max}›] initiating a split of this range at key ‹/Table/63› [r70] (‹zone config›)‹›
I210410 10:59:54.646129 24160 sql/schema_changer.go:987 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:54.863281 24160 sql/backfill.go:201 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] running backfill for ‹"gateway_antennas"›, v=3
I210410 10:59:54.863429 24160 sql/backfill.go:1498 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] backfilling 1 indexes
I210410 10:59:54.863670 24160 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r69/1:‹/{Table/62/4-Max}›] initiating a split of this range at key ‹/Table/63/2› [r71] (‹manual›)‹›
I210410 10:59:54.977000 24160 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r70/1:‹/{Table/63-Max}›] initiating a split of this range at key ‹/Table/63/2› [r72] (‹manual›)‹›
I210410 10:59:55.421387 24160 sql/backfill.go:1523 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] finished backfilling indexes
I210410 10:59:55.421478 24160 sql/backfill.go:1130 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] validating new indexes
I210410 10:59:55.528075 24524 sql/backfill.go:1389 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] validation: index ‹gateway_antennas›/‹gateway_antenna_gateway_index› row count = 0, time so far 5.565824ms
I210410 10:59:55.528184 24525 sql/backfill.go:1482 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] validation: table ‹gateway_antennas› row count = 0, took 5.709199ms
I210410 10:59:55.528220 24160 sql/backfill.go:1190 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] finished validating new indexes
I210410 10:59:55.528232 24160 sql/backfill.go:327 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] completed backfill for ‹"gateway_antennas"›, v=3
I210410 10:59:55.528247 24160 sql/schema_changer.go:1433 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] marking schema change as complete
I210410 10:59:55.656562 24160 sql/event_log.go:162 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] Event: ‹"finish_schema_change"›, target: 63, info: ‹{MutationID:1}›
I210410 10:59:55.656719 24160 sql/schema_changer.go:985 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] waiting for a single version...
I210410 10:59:55.661411 24160 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] waiting for 1 leases to expire: desc=‹[{gateway_antennas 63 3}]›
I210410 10:59:55.756627 24289 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹63("gateway_antennas") ver=4:1618052691.069560722,0, refcount=0›
I210410 10:59:55.857454 24160 sql/schema_changer.go:987 ⋮ [n1,job=648747397364580353,scExec,id=63,mutation=1] waiting for a single version... done (at v 4)
I210410 10:59:55.857567 24160 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747397364580353: stepping through state succeeded with error: <nil>
I210410 10:59:56.134957 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747404931072001 for table 63, mutation 2
I210410 10:59:56.337982 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 63, info: ‹{TableName:ttn_lorawan.public.gateway_antennas IndexName:gateway_antenna_id_index Statement:CREATE UNIQUE INDEX gateway_antenna_id_index ON gateway_antennas (gateway_id, "index") User:root MutationID:2}›
I210410 10:59:56.338147 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747404931072001]›
I210410 10:59:56.404902 24617 jobs/adopt.go:137 ⋮ job 648747404931072001: resuming execution
I210410 10:59:56.409535 24619 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747404931072001: stepping through state running with error: <nil>
I210410 10:59:56.437135 24385 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹63("gateway_antennas") ver=5:1618052698.864475777,0, refcount=0›
I210410 10:59:56.529424 24619 sql/schema_changer.go:567 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] schema change on ‹"gateway_antennas"› (v5) starting execution...
I210410 10:59:56.706853 24619 sql/schema_changer.go:878 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] stepping through state machine
I210410 10:59:56.981082 24619 sql/schema_changer.go:946 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] finished stepping through state machine
I210410 10:59:56.981142 24619 sql/schema_changer.go:985 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] waiting for a single version...
I210410 10:59:56.984133 24619 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] waiting for 1 leases to expire: desc=‹[{gateway_antennas 63 5}]›
I210410 10:59:57.108513 24795 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹63("gateway_antennas") ver=6:1618052708.995011100,0, refcount=0›
I210410 10:59:57.342894 24619 sql/schema_changer.go:987 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] waiting for a single version... done (at v 6)
I210410 10:59:57.476519 24619 sql/backfill.go:201 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] running backfill for ‹"gateway_antennas"›, v=6
I210410 10:59:57.476669 24619 sql/backfill.go:1498 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] backfilling 1 indexes
I210410 10:59:57.476905 24619 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r72/1:‹/{Table/63/2-Max}›] initiating a split of this range at key ‹/Table/63/3› [r73] (‹manual›)‹›
I210410 10:59:57.744457 24619 sql/backfill.go:1523 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] finished backfilling indexes
I210410 10:59:57.744546 24619 sql/backfill.go:1130 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] validating new indexes
I210410 10:59:57.937503 24844 sql/backfill.go:1482 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] validation: table ‹gateway_antennas› row count = 0, took 2.584855ms
I210410 10:59:57.937536 24843 sql/backfill.go:1389 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] validation: index ‹gateway_antennas›/‹gateway_antenna_id_index› row count = 0, time so far 2.563934ms
I210410 10:59:57.937653 24619 sql/backfill.go:1190 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] finished validating new indexes
I210410 10:59:57.937695 24619 sql/backfill.go:327 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] completed backfill for ‹"gateway_antennas"›, v=6
I210410 10:59:57.937740 24619 sql/schema_changer.go:1433 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] marking schema change as complete
I210410 10:59:58.102530 24619 sql/event_log.go:162 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] Event: ‹"finish_schema_change"›, target: 63, info: ‹{MutationID:2}›
I210410 10:59:58.102667 24619 sql/schema_changer.go:985 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] waiting for a single version...
I210410 10:59:58.107681 24619 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] waiting for 1 leases to expire: desc=‹[{gateway_antennas 63 6}]›
I210410 10:59:58.213462 24831 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹63("gateway_antennas") ver=7:1618052708.996011100,0, refcount=0›
I210410 10:59:58.280732 24619 sql/schema_changer.go:987 ⋮ [n1,job=648747404931072001,scExec,id=63,mutation=2] waiting for a single version... done (at v 7)
I210410 10:59:58.280841 24619 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747404931072001: stepping through state succeeded with error: <nil>
I210410 10:59:58.860289 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 64, info: ‹{TableName:ttn_lorawan.public.invitations Statement:CREATE TABLE invitations (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, email VARCHAR NOT NULL, token VARCHAR NOT NULL, expires_at TIMESTAMPTZ, accepted_by_id UUID, accepted_at TIMESTAMPTZ, PRIMARY KEY (id)) User:root}›
I210410 10:59:58.864361 25009 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r73/1:‹/{Table/63/3-Max}›] initiating a split of this range at key ‹/Table/64› [r74] (‹zone config›)‹›
I210410 10:59:58.931204 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747414086778881 for table 64, mutation 1
I210410 10:59:59.072918 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 64, info: ‹{TableName:ttn_lorawan.public.invitations IndexName:invitation_email_index Statement:CREATE UNIQUE INDEX invitation_email_index ON invitations (email) User:root MutationID:1}›
I210410 10:59:59.073107 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747414086778881]›
I210410 10:59:59.140524 25127 jobs/adopt.go:137 ⋮ job 648747414086778881: resuming execution
I210410 10:59:59.144133 25129 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747414086778881: stepping through state running with error: <nil>
I210410 10:59:59.297864 25129 sql/schema_changer.go:567 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] schema change on ‹"invitations"› (v2) starting execution...
I210410 10:59:59.519858 25129 sql/schema_changer.go:878 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] stepping through state machine
I210410 10:59:59.844129 25129 sql/schema_changer.go:946 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] finished stepping through state machine
I210410 10:59:59.844225 25129 sql/schema_changer.go:985 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] waiting for a single version...
I210410 10:59:59.848773 25129 sql/schema_changer.go:987 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] waiting for a single version... done (at v 3)
I210410 10:59:59.943947 25129 sql/backfill.go:201 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] running backfill for ‹"invitations"›, v=3
I210410 10:59:59.944076 25129 sql/backfill.go:1498 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] backfilling 1 indexes
I210410 10:59:59.944291 25129 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r74/1:‹/{Table/64-Max}›] initiating a split of this range at key ‹/Table/64/2› [r75] (‹manual›)‹›
I210410 11:00:00.345625 25129 sql/backfill.go:1523 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] finished backfilling indexes
I210410 11:00:00.345666 25129 sql/backfill.go:1130 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] validating new indexes
I210410 11:00:00.519823 25163 sql/backfill.go:1389 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] validation: index ‹invitations›/‹invitation_email_index› row count = 0, time so far 5.435769ms
I210410 11:00:00.519950 25164 sql/backfill.go:1482 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] validation: table ‹invitations› row count = 0, took 5.601142ms
I210410 11:00:00.519983 25129 sql/backfill.go:1190 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] finished validating new indexes
I210410 11:00:00.519996 25129 sql/backfill.go:327 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] completed backfill for ‹"invitations"›, v=3
I210410 11:00:00.520009 25129 sql/schema_changer.go:1433 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] marking schema change as complete
I210410 11:00:00.681814 25129 sql/event_log.go:162 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] Event: ‹"finish_schema_change"›, target: 64, info: ‹{MutationID:1}›
I210410 11:00:00.681974 25129 sql/schema_changer.go:985 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] waiting for a single version...
I210410 11:00:00.687732 25129 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] waiting for 1 leases to expire: desc=‹[{invitations 64 3}]›
I210410 11:00:00.781343 25101 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹64("invitations") ver=4:1618052710.002177950,0, refcount=0›
I210410 11:00:00.848684 25129 sql/schema_changer.go:987 ⋮ [n1,job=648747414086778881,scExec,id=64,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:00.848792 25129 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747414086778881: stepping through state succeeded with error: <nil>
I210410 11:00:01.113339 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 197 MiB RSS, 218 goroutines, 47 MiB/8.6 MiB/65 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.8 CGO/sec, 18.7/3.1 %(u/s)time, 0.0 %gc (2x), 5.1 KiB/4.5 KiB (r/w)net
I210410 11:00:01.363950 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747422060740609 for table 64, mutation 2
I210410 11:00:01.677114 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 64, info: ‹{TableName:ttn_lorawan.public.invitations IndexName:invitation_token_index Statement:CREATE UNIQUE INDEX invitation_token_index ON invitations (token) User:root MutationID:2}›
I210410 11:00:01.677338 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747422060740609]›
I210410 11:00:01.766742 25211 jobs/adopt.go:137 ⋮ job 648747422060740609: resuming execution
I210410 11:00:01.775387 25215 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747422060740609: stepping through state running with error: <nil>
I210410 11:00:01.810085 25210 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹64("invitations") ver=5:1618052710.003177950,0, refcount=0›
I210410 11:00:01.945077 25215 sql/schema_changer.go:567 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] schema change on ‹"invitations"› (v5) starting execution...
I210410 11:00:02.245413 25215 sql/schema_changer.go:878 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] stepping through state machine
I210410 11:00:02.514026 25215 sql/schema_changer.go:946 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] finished stepping through state machine
I210410 11:00:02.514142 25215 sql/schema_changer.go:985 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] waiting for a single version...
I210410 11:00:02.518833 25215 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] waiting for 1 leases to expire: desc=‹[{invitations 64 5}]›
I210410 11:00:02.702809 25510 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹64("invitations") ver=6:1618052710.004177950,0, refcount=0›
I210410 11:00:02.881588 25215 sql/schema_changer.go:987 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] waiting for a single version... done (at v 6)
I210410 11:00:03.014876 25215 sql/backfill.go:201 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] running backfill for ‹"invitations"›, v=6
I210410 11:00:03.015014 25215 sql/backfill.go:1498 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] backfilling 1 indexes
I210410 11:00:03.015257 25215 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r75/1:‹/{Table/64/2-Max}›] initiating a split of this range at key ‹/Table/64/3› [r76] (‹manual›)‹›
I210410 11:00:03.383405 25215 sql/backfill.go:1523 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] finished backfilling indexes
I210410 11:00:03.383499 25215 sql/backfill.go:1130 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] validating new indexes
I210410 11:00:03.488153 25733 sql/backfill.go:1482 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] validation: table ‹invitations› row count = 0, took 3.511571ms
I210410 11:00:03.488184 25732 sql/backfill.go:1389 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] validation: index ‹invitations›/‹invitation_token_index› row count = 0, time so far 3.530088ms
I210410 11:00:03.488308 25215 sql/backfill.go:1190 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] finished validating new indexes
I210410 11:00:03.488365 25215 sql/backfill.go:327 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] completed backfill for ‹"invitations"›, v=6
I210410 11:00:03.488428 25215 sql/schema_changer.go:1433 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] marking schema change as complete
I210410 11:00:03.652319 25215 sql/event_log.go:162 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] Event: ‹"finish_schema_change"›, target: 64, info: ‹{MutationID:2}›
I210410 11:00:03.652471 25215 sql/schema_changer.go:985 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] waiting for a single version...
I210410 11:00:03.657052 25215 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] waiting for 1 leases to expire: desc=‹[{invitations 64 6}]›
I210410 11:00:03.785482 25683 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹64("invitations") ver=7:1618052710.005177950,0, refcount=0›
I210410 11:00:03.852744 25215 sql/schema_changer.go:987 ⋮ [n1,job=648747422060740609,scExec,id=64,mutation=2] waiting for a single version... done (at v 7)
I210410 11:00:03.852853 25215 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747422060740609: stepping through state succeeded with error: <nil>
I210410 11:00:04.245307 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 65, info: ‹{TableName:ttn_lorawan.public.login_tokens Statement:CREATE TABLE login_tokens (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, user_id UUID, token VARCHAR NOT NULL, expires_at TIMESTAMPTZ, used BOOL, PRIMARY KEY (id)) User:root}›
I210410 11:00:04.326754 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747431766556673 for table 65, mutation 1
I210410 11:00:04.479968 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 65, info: ‹{TableName:ttn_lorawan.public.login_tokens IndexName:login_token_index Statement:CREATE UNIQUE INDEX login_token_index ON login_tokens (token) User:root MutationID:1}›
I210410 11:00:04.480189 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747431766556673]›
I210410 11:00:04.482391 25672 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r76/1:‹/{Table/64/3-Max}›] initiating a split of this range at key ‹/Table/65› [r77] (‹zone config›)‹›
I210410 11:00:04.569548 25758 jobs/adopt.go:137 ⋮ job 648747431766556673: resuming execution
I210410 11:00:04.574278 25760 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747431766556673: stepping through state running with error: <nil>
I210410 11:00:04.702907 25760 sql/schema_changer.go:567 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] schema change on ‹"login_tokens"› (v2) starting execution...
I210410 11:00:04.969719 25760 sql/schema_changer.go:878 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] stepping through state machine
I210410 11:00:05.238341 25760 sql/schema_changer.go:946 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] finished stepping through state machine
I210410 11:00:05.238429 25760 sql/schema_changer.go:985 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] waiting for a single version...
I210410 11:00:05.243198 25760 sql/schema_changer.go:987 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:05.460603 25760 sql/backfill.go:201 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] running backfill for ‹"login_tokens"›, v=3
I210410 11:00:05.460663 25760 sql/backfill.go:1498 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] backfilling 1 indexes
I210410 11:00:05.460762 25760 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r77/1:‹/{Table/65-Max}›] initiating a split of this range at key ‹/Table/65/2› [r78] (‹manual›)‹›
I210410 11:00:05.951631 25760 sql/backfill.go:1523 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] finished backfilling indexes
I210410 11:00:05.951741 25760 sql/backfill.go:1130 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] validating new indexes
I210410 11:00:06.114303 25981 sql/backfill.go:1389 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] validation: index ‹login_tokens›/‹login_token_index› row count = 0, time so far 5.846242ms
I210410 11:00:06.114396 25982 sql/backfill.go:1482 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] validation: table ‹login_tokens› row count = 0, took 5.997428ms
I210410 11:00:06.114434 25760 sql/backfill.go:1190 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] finished validating new indexes
I210410 11:00:06.114448 25760 sql/backfill.go:327 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] completed backfill for ‹"login_tokens"›, v=3
I210410 11:00:06.114462 25760 sql/schema_changer.go:1433 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] marking schema change as complete
I210410 11:00:06.342752 25760 sql/event_log.go:162 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] Event: ‹"finish_schema_change"›, target: 65, info: ‹{MutationID:1}›
I210410 11:00:06.342913 25760 sql/schema_changer.go:985 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] waiting for a single version...
I210410 11:00:06.347555 25760 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] waiting for 1 leases to expire: desc=‹[{login_tokens 65 3}]›
I210410 11:00:06.475720 26052 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹65("login_tokens") ver=4:1618052706.277989614,0, refcount=0›
I210410 11:00:06.543359 25760 sql/schema_changer.go:987 ⋮ [n1,job=648747431766556673,scExec,id=65,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:06.543465 25760 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747431766556673: stepping through state succeeded with error: <nil>
I210410 11:00:07.036557 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 66, info: ‹{TableName:ttn_lorawan.public.memberships Statement:CREATE TABLE memberships (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, account_id UUID NOT NULL, rights INT8[], entity_id UUID NOT NULL, entity_type VARCHAR(32) NOT NULL, PRIMARY KEY (id)) User:root}›
I210410 11:00:07.084749 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747440803774465 for table 66, mutation 1
I210410 11:00:07.593228 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 66, info: ‹{TableName:ttn_lorawan.public.memberships IndexName:membership_account_index Statement:CREATE INDEX membership_account_index ON memberships (account_id) User:root MutationID:1}›
I210410 11:00:07.593418 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747440803774465]›
I210410 11:00:07.682956 26292 jobs/adopt.go:137 ⋮ job 648747440803774465: resuming execution
I210410 11:00:07.687231 26294 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747440803774465: stepping through state running with error: <nil>
I210410 11:00:07.905542 26294 sql/schema_changer.go:567 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] schema change on ‹"memberships"› (v2) starting execution...
I210410 11:00:08.038389 26294 sql/schema_changer.go:878 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] stepping through state machine
I210410 11:00:08.307076 26294 sql/schema_changer.go:946 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] finished stepping through state machine
I210410 11:00:08.307159 26294 sql/schema_changer.go:985 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] waiting for a single version...
I210410 11:00:08.309966 26410 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r78/1:‹/{Table/65/2-Max}›] initiating a split of this range at key ‹/Table/66› [r79] (‹zone config›)‹›
I210410 11:00:08.312217 26294 sql/schema_changer.go:987 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:08.508638 26294 sql/backfill.go:201 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] running backfill for ‹"memberships"›, v=3
I210410 11:00:08.508745 26294 sql/backfill.go:1498 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] backfilling 1 indexes
I210410 11:00:08.508926 26294 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r79/1:‹/{Table/66-Max}›] initiating a split of this range at key ‹/Table/66/2› [r80] (‹manual›)‹›
I210410 11:00:08.931674 26294 sql/backfill.go:1523 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] finished backfilling indexes
I210410 11:00:08.931762 26294 sql/backfill.go:1130 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] validating new indexes
I210410 11:00:09.050111 26517 sql/backfill.go:1389 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] validation: index ‹memberships›/‹membership_account_index› row count = 0, time so far 5.871662ms
I210410 11:00:09.050221 26518 sql/backfill.go:1482 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] validation: table ‹memberships› row count = 0, took 6.003137ms
I210410 11:00:09.050256 26294 sql/backfill.go:1190 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] finished validating new indexes
I210410 11:00:09.050269 26294 sql/backfill.go:327 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] completed backfill for ‹"memberships"›, v=3
I210410 11:00:09.050283 26294 sql/schema_changer.go:1433 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] marking schema change as complete
I210410 11:00:09.178057 26294 sql/event_log.go:162 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] Event: ‹"finish_schema_change"›, target: 66, info: ‹{MutationID:1}›
I210410 11:00:09.178215 26294 sql/schema_changer.go:985 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] waiting for a single version...
I210410 11:00:09.183952 26294 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] waiting for 1 leases to expire: desc=‹[{memberships 66 3}]›
I210410 11:00:09.288970 26491 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹66("memberships") ver=4:1618052714.513920977,0, refcount=0›
I210410 11:00:09.423390 26294 sql/schema_changer.go:987 ⋮ [n1,job=648747440803774465,scExec,id=66,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:09.423515 26294 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747440803774465: stepping through state succeeded with error: <nil>
I210410 11:00:09.896735 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747450025836545 for table 66, mutation 2
I210410 11:00:10.116656 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 66, info: ‹{TableName:ttn_lorawan.public.memberships IndexName:membership_entity_index Statement:CREATE INDEX membership_entity_index ON memberships (entity_id, entity_type) User:root MutationID:2}›
I210410 11:00:10.116838 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747450025836545]›
I210410 11:00:10.206676 26535 jobs/adopt.go:137 ⋮ job 648747450025836545: resuming execution
I210410 11:00:10.211410 26537 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747450025836545: stepping through state running with error: <nil>
I210410 11:00:10.249872 26601 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹66("memberships") ver=5:1618052714.514920977,0, refcount=0›
I210410 11:00:10.384976 26537 sql/schema_changer.go:567 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] schema change on ‹"memberships"› (v5) starting execution...
I210410 11:00:10.562682 26537 sql/schema_changer.go:878 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] stepping through state machine
I210410 11:00:10.786618 26537 sql/schema_changer.go:946 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] finished stepping through state machine
I210410 11:00:10.786730 26537 sql/schema_changer.go:985 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] waiting for a single version...
I210410 11:00:10.792189 26537 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] waiting for 1 leases to expire: desc=‹[{memberships 66 5}]›
I210410 11:00:10.919505 26675 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹66("memberships") ver=6:1618052714.515920977,0, refcount=0›
I210410 11:00:10.986984 26537 sql/schema_changer.go:987 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] waiting for a single version... done (at v 6)
I210410 11:00:11.110076 26537 sql/backfill.go:201 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] running backfill for ‹"memberships"›, v=6
I210410 11:00:11.110191 26537 sql/backfill.go:1498 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] backfilling 1 indexes
I210410 11:00:11.110742 26537 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r80/1:‹/{Table/66/2-Max}›] initiating a split of this range at key ‹/Table/66/3› [r81] (‹manual›)‹›
I210410 11:00:11.113615 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 200 MiB RSS, 222 goroutines, 34 MiB/14 MiB/67 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.7 CGO/sec, 18.8/2.4 %(u/s)time, 0.0 %gc (3x), 6.7 KiB/6.2 KiB (r/w)net
I210410 11:00:11.378468 26537 sql/backfill.go:1523 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] finished backfilling indexes
I210410 11:00:11.378580 26537 sql/backfill.go:1130 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] validating new indexes
I210410 11:00:11.480408 26899 sql/backfill.go:1482 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] validation: table ‹memberships› row count = 0, took 1.16948ms
I210410 11:00:11.480409 26898 sql/backfill.go:1389 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] validation: index ‹memberships›/‹membership_entity_index› row count = 0, time so far 1.165531ms
I210410 11:00:11.480459 26537 sql/backfill.go:1190 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] finished validating new indexes
I210410 11:00:11.480476 26537 sql/backfill.go:327 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] completed backfill for ‹"memberships"›, v=6
I210410 11:00:11.480491 26537 sql/schema_changer.go:1433 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] marking schema change as complete
I210410 11:00:11.647538 26537 sql/event_log.go:162 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] Event: ‹"finish_schema_change"›, target: 66, info: ‹{MutationID:2}›
I210410 11:00:11.647700 26537 sql/schema_changer.go:985 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] waiting for a single version...
I210410 11:00:11.652030 26537 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] waiting for 1 leases to expire: desc=‹[{memberships 66 6}]›
I210410 11:00:11.758457 26892 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹66("memberships") ver=7:1618052714.516920977,0, refcount=0›
I210410 11:00:11.883058 26537 sql/schema_changer.go:987 ⋮ [n1,job=648747450025836545,scExec,id=66,mutation=2] waiting for a single version... done (at v 7)
I210410 11:00:11.883184 26537 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747450025836545: stepping through state succeeded with error: <nil>
I210410 11:00:12.719723 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 67, info: ‹{TableName:ttn_lorawan.public.migrations Statement:CREATE TABLE migrations (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, name VARCHAR, PRIMARY KEY (id)) User:root}›
I210410 11:00:12.720877 26926 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r81/1:‹/{Table/66/3-Max}›] initiating a split of this range at key ‹/Table/67› [r82] (‹zone config›)‹›
I210410 11:00:12.812696 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747459573514241 for table 67, mutation 1
I210410 11:00:13.087954 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 67, info: ‹{TableName:ttn_lorawan.public.migrations IndexName:migration_name_index Statement:CREATE UNIQUE INDEX migration_name_index ON migrations (name) User:root MutationID:1}›
I210410 11:00:13.088126 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747459573514241]›
I210410 11:00:13.177420 27158 jobs/adopt.go:137 ⋮ job 648747459573514241: resuming execution
I210410 11:00:13.182601 27160 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747459573514241: stepping through state running with error: <nil>
I210410 11:00:13.310923 27160 sql/schema_changer.go:567 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] schema change on ‹"migrations"› (v2) starting execution...
I210410 11:00:13.533253 27160 sql/schema_changer.go:878 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] stepping through state machine
I210410 11:00:13.779636 27160 sql/schema_changer.go:946 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] finished stepping through state machine
I210410 11:00:13.779718 27160 sql/schema_changer.go:985 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] waiting for a single version...
I210410 11:00:13.784129 27160 sql/schema_changer.go:987 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:13.957575 27160 sql/backfill.go:201 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] running backfill for ‹"migrations"›, v=3
I210410 11:00:13.957684 27160 sql/backfill.go:1498 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] backfilling 1 indexes
I210410 11:00:13.957884 27160 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r82/1:‹/{Table/67-Max}›] initiating a split of this range at key ‹/Table/67/2› [r83] (‹manual›)‹›
I210410 11:00:14.415033 27160 sql/backfill.go:1523 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] finished backfilling indexes
I210410 11:00:14.415138 27160 sql/backfill.go:1130 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] validating new indexes
I210410 11:00:14.533413 27241 sql/backfill.go:1482 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] validation: table ‹migrations› row count = 0, took 6.052111ms
I210410 11:00:14.533816 27240 sql/backfill.go:1389 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] validation: index ‹migrations›/‹migration_name_index› row count = 0, time so far 6.389719ms
I210410 11:00:14.533932 27160 sql/backfill.go:1190 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] finished validating new indexes
I210410 11:00:14.533974 27160 sql/backfill.go:327 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] completed backfill for ‹"migrations"›, v=3
I210410 11:00:14.534017 27160 sql/schema_changer.go:1433 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] marking schema change as complete
I210410 11:00:14.696631 27160 sql/event_log.go:162 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] Event: ‹"finish_schema_change"›, target: 67, info: ‹{MutationID:1}›
I210410 11:00:14.696795 27160 sql/schema_changer.go:985 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] waiting for a single version...
I210410 11:00:14.701278 27160 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] waiting for 1 leases to expire: desc=‹[{migrations 67 3}]›
I210410 11:00:14.807418 27274 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹67("migrations") ver=4:1618052721.642187977,0, refcount=0›
I210410 11:00:14.930752 27160 sql/schema_changer.go:987 ⋮ [n1,job=648747459573514241,scExec,id=67,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:14.930874 27160 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747459573514241: stepping through state succeeded with error: <nil>
I210410 11:00:15.699948 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 68, info: ‹{TableName:ttn_lorawan.public.client_authorizations Statement:CREATE TABLE client_authorizations (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, client_id UUID NOT NULL, user_id UUID NOT NULL, rights INT8[], PRIMARY KEY (id)) User:root}›
I210410 11:00:15.747888 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747469191479297 for table 68, mutation 1
I210410 11:00:15.967486 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 68, info: ‹{TableName:ttn_lorawan.public.client_authorizations IndexName:idx_client_authorizations_client_id Statement:CREATE INDEX idx_client_authorizations_client_id ON client_authorizations (client_id) User:root MutationID:1}›
I210410 11:00:15.967666 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747469191479297]›
I210410 11:00:16.012121 27009 jobs/adopt.go:137 ⋮ job 648747469191479297: resuming execution
I210410 11:00:16.016782 27523 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747469191479297: stepping through state running with error: <nil>
I210410 11:00:16.190942 27523 sql/schema_changer.go:567 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] schema change on ‹"client_authorizations"› (v2) starting execution...
I210410 11:00:16.323942 27523 sql/schema_changer.go:878 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] stepping through state machine
I210410 11:00:16.592310 27523 sql/schema_changer.go:946 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] finished stepping through state machine
I210410 11:00:16.592416 27523 sql/schema_changer.go:985 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] waiting for a single version...
I210410 11:00:16.595804 27493 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r83/1:‹/{Table/67/2-Max}›] initiating a split of this range at key ‹/Table/68› [r84] (‹zone config›)‹›
I210410 11:00:16.597906 27523 sql/schema_changer.go:987 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:16.814971 27523 sql/backfill.go:201 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] running backfill for ‹"client_authorizations"›, v=3
I210410 11:00:16.815118 27523 sql/backfill.go:1498 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] backfilling 1 indexes
I210410 11:00:16.815365 27523 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r84/1:‹/{Table/68-Max}›] initiating a split of this range at key ‹/Table/68/2› [r85] (‹manual›)‹›
I210410 11:00:17.250353 27523 sql/backfill.go:1523 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] finished backfilling indexes
I210410 11:00:17.250444 27523 sql/backfill.go:1130 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] validating new indexes
I210410 11:00:17.437550 27737 sql/backfill.go:1482 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] validation: table ‹client_authorizations› row count = 0, took 5.948096ms
I210410 11:00:17.437920 27736 sql/backfill.go:1389 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] validation: index ‹client_authorizations›/‹idx_client_authorizations_client_id› row count = 0, time so far 6.311991ms
I210410 11:00:17.438031 27523 sql/backfill.go:1190 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] finished validating new indexes
I210410 11:00:17.438074 27523 sql/backfill.go:327 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] completed backfill for ‹"client_authorizations"›, v=3
I210410 11:00:17.438119 27523 sql/schema_changer.go:1433 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] marking schema change as complete
I210410 11:00:17.598879 27523 sql/event_log.go:162 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] Event: ‹"finish_schema_change"›, target: 68, info: ‹{MutationID:1}›
I210410 11:00:17.599031 27523 sql/schema_changer.go:985 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] waiting for a single version...
I210410 11:00:17.603832 27523 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] waiting for 1 leases to expire: desc=‹[{client_authorizations 68 3}]›
I210410 11:00:17.709571 27785 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹68("client_authorizations") ver=4:1618052727.511455340,0, refcount=0›
I210410 11:00:17.821800 27523 sql/schema_changer.go:987 ⋮ [n1,job=648747469191479297,scExec,id=68,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:17.821909 27523 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747469191479297: stepping through state succeeded with error: <nil>
I210410 11:00:18.150863 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747477072740353 for table 68, mutation 2
I210410 11:00:18.357845 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 68, info: ‹{TableName:ttn_lorawan.public.client_authorizations IndexName:idx_client_authorizations_user_id Statement:CREATE INDEX idx_client_authorizations_user_id ON client_authorizations (user_id) User:root MutationID:2}›
I210410 11:00:18.358042 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747477072740353]›
I210410 11:00:18.447813 27818 jobs/adopt.go:137 ⋮ job 648747477072740353: resuming execution
I210410 11:00:18.452519 27820 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747477072740353: stepping through state running with error: <nil>
I210410 11:00:18.490833 27829 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹68("client_authorizations") ver=5:1618052727.512455340,0, refcount=0›
I210410 11:00:18.714839 27820 sql/schema_changer.go:567 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] schema change on ‹"client_authorizations"› (v5) starting execution...
I210410 11:00:18.970556 27820 sql/schema_changer.go:878 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] stepping through state machine
I210410 11:00:19.172688 27820 sql/schema_changer.go:946 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] finished stepping through state machine
I210410 11:00:19.172816 27820 sql/schema_changer.go:985 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] waiting for a single version...
I210410 11:00:19.177491 27820 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] waiting for 1 leases to expire: desc=‹[{client_authorizations 68 5}]›
I210410 11:00:19.272129 27975 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹68("client_authorizations") ver=6:1618052727.513455340,0, refcount=0›
I210410 11:00:19.372655 27820 sql/schema_changer.go:987 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] waiting for a single version... done (at v 6)
I210410 11:00:19.439847 27820 sql/backfill.go:201 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] running backfill for ‹"client_authorizations"›, v=6
I210410 11:00:19.439983 27820 sql/backfill.go:1498 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] backfilling 1 indexes
I210410 11:00:19.440200 27820 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r85/1:‹/{Table/68/2-Max}›] initiating a split of this range at key ‹/Table/68/3› [r86] (‹manual›)‹›
I210410 11:00:19.742882 27820 sql/backfill.go:1523 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] finished backfilling indexes
I210410 11:00:19.742979 27820 sql/backfill.go:1130 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] validating new indexes
I210410 11:00:19.869227 28103 sql/backfill.go:1482 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] validation: table ‹client_authorizations› row count = 0, took 2.593017ms
I210410 11:00:19.869513 28102 sql/backfill.go:1389 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] validation: index ‹client_authorizations›/‹idx_client_authorizations_user_id› row count = 0, time so far 2.792614ms
I210410 11:00:19.869645 27820 sql/backfill.go:1190 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] finished validating new indexes
I210410 11:00:19.869691 27820 sql/backfill.go:327 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] completed backfill for ‹"client_authorizations"›, v=6
I210410 11:00:19.869749 27820 sql/schema_changer.go:1433 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] marking schema change as complete
I210410 11:00:20.067552 27820 sql/event_log.go:162 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] Event: ‹"finish_schema_change"›, target: 68, info: ‹{MutationID:2}›
I210410 11:00:20.067720 27820 sql/schema_changer.go:985 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] waiting for a single version...
I210410 11:00:20.071698 27820 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] waiting for 1 leases to expire: desc=‹[{client_authorizations 68 6}]›
I210410 11:00:20.200473 28137 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹68("client_authorizations") ver=7:1618052727.514455340,0, refcount=0›
I210410 11:00:20.379491 27820 sql/schema_changer.go:987 ⋮ [n1,job=648747477072740353,scExec,id=68,mutation=2] waiting for a single version... done (at v 7)
I210410 11:00:20.379599 27820 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747477072740353: stepping through state succeeded with error: <nil>
I210410 11:00:21.113877 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 202 MiB RSS, 218 goroutines, 39 MiB/11 MiB/70 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.6 CGO/sec, 16.8/2.3 %(u/s)time, 0.0 %gc (2x), 7.2 KiB/6.4 KiB (r/w)net
I210410 11:00:21.160258 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 69, info: ‹{TableName:ttn_lorawan.public.authorization_codes Statement:CREATE TABLE authorization_codes (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, client_id UUID NOT NULL, user_id UUID NOT NULL, user_session_id UUID, rights INT8[], code VARCHAR NOT NULL, redirect_uri VARCHAR, state VARCHAR, expires_at TIMESTAMPTZ, PRIMARY KEY (id)) User:root}›
I210410 11:00:21.164101 28256 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r86/1:‹/{Table/68/3-Max}›] initiating a split of this range at key ‹/Table/69› [r87] (‹zone config›)‹›
I210410 11:00:21.242401 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747487196217345 for table 69, mutation 1
I210410 11:00:21.440072 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 69, info: ‹{TableName:ttn_lorawan.public.authorization_codes IndexName:idx_authorization_codes_client_id Statement:CREATE INDEX idx_authorization_codes_client_id ON authorization_codes (client_id) User:root MutationID:1}›
I210410 11:00:21.440291 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747487196217345]›
I210410 11:00:21.507423 28365 jobs/adopt.go:137 ⋮ job 648747487196217345: resuming execution
I210410 11:00:21.512579 28367 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747487196217345: stepping through state running with error: <nil>
I210410 11:00:21.574331 28367 sql/schema_changer.go:567 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] schema change on ‹"authorization_codes"› (v2) starting execution...
I210410 11:00:21.741116 28367 sql/schema_changer.go:878 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] stepping through state machine
I210410 11:00:21.942804 28367 sql/schema_changer.go:946 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] finished stepping through state machine
I210410 11:00:21.942897 28367 sql/schema_changer.go:985 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] waiting for a single version...
I210410 11:00:21.947956 28367 sql/schema_changer.go:987 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:22.111076 28367 sql/backfill.go:201 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] running backfill for ‹"authorization_codes"›, v=3
I210410 11:00:22.111206 28367 sql/backfill.go:1498 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] backfilling 1 indexes
I210410 11:00:22.111447 28367 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r87/1:‹/{Table/69-Max}›] initiating a split of this range at key ‹/Table/69/2› [r88] (‹manual›)‹›
I210410 11:00:22.522077 28367 sql/backfill.go:1523 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] finished backfilling indexes
I210410 11:00:22.522170 28367 sql/backfill.go:1130 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] validating new indexes
I210410 11:00:22.642868 28430 sql/backfill.go:1482 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] validation: table ‹authorization_codes› row count = 0, took 5.964839ms
I210410 11:00:22.643299 28429 sql/backfill.go:1389 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] validation: index ‹authorization_codes›/‹idx_authorization_codes_client_id› row count = 0, time so far 6.370654ms
I210410 11:00:22.643415 28367 sql/backfill.go:1190 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] finished validating new indexes
I210410 11:00:22.643457 28367 sql/backfill.go:327 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] completed backfill for ‹"authorization_codes"›, v=3
I210410 11:00:22.643502 28367 sql/schema_changer.go:1433 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] marking schema change as complete
I210410 11:00:22.815258 28367 sql/event_log.go:162 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] Event: ‹"finish_schema_change"›, target: 69, info: ‹{MutationID:1}›
I210410 11:00:22.815378 28367 sql/schema_changer.go:985 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] waiting for a single version...
I210410 11:00:22.819831 28367 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] waiting for 1 leases to expire: desc=‹[{authorization_codes 69 3}]›
I210410 11:00:22.926205 28433 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=4:1618052726.482831068,0, refcount=0›
I210410 11:00:23.060716 28367 sql/schema_changer.go:987 ⋮ [n1,job=648747487196217345,scExec,id=69,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:23.060839 28367 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747487196217345: stepping through state succeeded with error: <nil>
I210410 11:00:23.780670 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747495520501761 for table 69, mutation 2
I210410 11:00:23.996921 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 69, info: ‹{TableName:ttn_lorawan.public.authorization_codes IndexName:idx_authorization_codes_user_id Statement:CREATE INDEX idx_authorization_codes_user_id ON authorization_codes (user_id) User:root MutationID:2}›
I210410 11:00:23.997149 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747495520501761]›
I210410 11:00:24.086896 28743 jobs/adopt.go:137 ⋮ job 648747495520501761: resuming execution
I210410 11:00:24.091344 28745 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747495520501761: stepping through state running with error: <nil>
I210410 11:00:24.130073 28738 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=5:1618052738.202239681,0, refcount=0›
I210410 11:00:24.342911 28745 sql/schema_changer.go:567 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] schema change on ‹"authorization_codes"› (v5) starting execution...
I210410 11:00:24.509403 28745 sql/schema_changer.go:878 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] stepping through state machine
I210410 11:00:24.711714 28745 sql/schema_changer.go:946 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] finished stepping through state machine
I210410 11:00:24.711833 28745 sql/schema_changer.go:985 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] waiting for a single version...
I210410 11:00:24.716029 28745 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] waiting for 1 leases to expire: desc=‹[{authorization_codes 69 5}]›
I210410 11:00:24.812658 28805 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=6:1618052738.203239681,0, refcount=0›
I210410 11:00:24.880192 28745 sql/schema_changer.go:987 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] waiting for a single version... done (at v 6)
I210410 11:00:24.957948 28745 sql/backfill.go:201 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] running backfill for ‹"authorization_codes"›, v=6
I210410 11:00:24.958067 28745 sql/backfill.go:1498 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] backfilling 1 indexes
I210410 11:00:24.958310 28745 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r88/1:‹/{Table/69/2-Max}›] initiating a split of this range at key ‹/Table/69/3› [r89] (‹manual›)‹›
I210410 11:00:25.292952 28745 sql/backfill.go:1523 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] finished backfilling indexes
I210410 11:00:25.293041 28745 sql/backfill.go:1130 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] validating new indexes
I210410 11:00:25.464894 28778 sql/backfill.go:1482 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] validation: table ‹authorization_codes› row count = 0, took 3.455912ms
I210410 11:00:25.464898 28777 sql/backfill.go:1389 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] validation: index ‹authorization_codes›/‹idx_authorization_codes_user_id› row count = 0, time so far 3.454691ms
I210410 11:00:25.465052 28745 sql/backfill.go:1190 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] finished validating new indexes
I210410 11:00:25.465105 28745 sql/backfill.go:327 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] completed backfill for ‹"authorization_codes"›, v=6
I210410 11:00:25.465168 28745 sql/schema_changer.go:1433 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] marking schema change as complete
I210410 11:00:25.672984 28745 sql/event_log.go:162 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] Event: ‹"finish_schema_change"›, target: 69, info: ‹{MutationID:2}›
I210410 11:00:25.673155 28745 sql/schema_changer.go:985 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] waiting for a single version...
I210410 11:00:25.678283 28745 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] waiting for 1 leases to expire: desc=‹[{authorization_codes 69 6}]›
I210410 11:00:25.806145 28845 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=7:1618052738.204239681,0, refcount=0›
I210410 11:00:25.940339 28745 sql/schema_changer.go:987 ⋮ [n1,job=648747495520501761,scExec,id=69,mutation=2] waiting for a single version... done (at v 7)
I210410 11:00:25.940464 28745 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747495520501761: stepping through state succeeded with error: <nil>
I210410 11:00:26.442132 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747504236593153 for table 69, mutation 3
I210410 11:00:26.654673 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 69, info: ‹{TableName:ttn_lorawan.public.authorization_codes IndexName:idx_authorization_codes_user_session_id Statement:CREATE INDEX idx_authorization_codes_user_session_id ON authorization_codes (user_session_id) User:root MutationID:3}›
I210410 11:00:26.654881 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747504236593153]›
I210410 11:00:26.721878 29025 jobs/adopt.go:137 ⋮ job 648747504236593153: resuming execution
I210410 11:00:26.726632 29299 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747504236593153: stepping through state running with error: <nil>
I210410 11:00:26.754350 28796 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=8:1618052738.205239681,0, refcount=0›
I210410 11:00:26.978348 29299 sql/schema_changer.go:567 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] schema change on ‹"authorization_codes"› (v8) starting execution...
I210410 11:00:27.078050 29299 sql/schema_changer.go:878 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] stepping through state machine
I210410 11:00:27.346505 29299 sql/schema_changer.go:946 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] finished stepping through state machine
I210410 11:00:27.346610 29299 sql/schema_changer.go:985 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] waiting for a single version...
I210410 11:00:27.351257 29299 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] waiting for 1 leases to expire: desc=‹[{authorization_codes 69 8}]›
I210410 11:00:27.458982 29321 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=9:1618052738.206239681,0, refcount=0›
I210410 11:00:27.559985 29299 sql/schema_changer.go:987 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] waiting for a single version... done (at v 9)
I210410 11:00:27.637586 29299 sql/backfill.go:201 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] running backfill for ‹"authorization_codes"›, v=9
I210410 11:00:27.637719 29299 sql/backfill.go:1498 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] backfilling 1 indexes
I210410 11:00:27.637941 29299 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r89/1:‹/{Table/69/3-Max}›] initiating a split of this range at key ‹/Table/69/4› [r90] (‹manual›)‹›
I210410 11:00:28.083480 29299 sql/backfill.go:1523 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] finished backfilling indexes
I210410 11:00:28.083591 29299 sql/backfill.go:1130 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] validating new indexes
I210410 11:00:28.220730 29396 sql/backfill.go:1482 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] validation: table ‹authorization_codes› row count = 0, took 2.43619ms
I210410 11:00:28.220783 29395 sql/backfill.go:1389 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] validation: index ‹authorization_codes›/‹idx_authorization_codes_user_session_id› row count = 0, time so far 2.460741ms
I210410 11:00:28.220892 29299 sql/backfill.go:1190 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] finished validating new indexes
I210410 11:00:28.220933 29299 sql/backfill.go:327 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] completed backfill for ‹"authorization_codes"›, v=9
I210410 11:00:28.220977 29299 sql/schema_changer.go:1433 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] marking schema change as complete
I210410 11:00:28.486029 29299 sql/event_log.go:162 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] Event: ‹"finish_schema_change"›, target: 69, info: ‹{MutationID:3}›
I210410 11:00:28.486145 29299 sql/schema_changer.go:985 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] waiting for a single version...
I210410 11:00:28.491684 29299 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] waiting for 1 leases to expire: desc=‹[{authorization_codes 69 9}]›
I210410 11:00:28.663578 29400 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=10:1618052738.207239681,0, refcount=0›
I210410 11:00:28.753088 29299 sql/schema_changer.go:987 ⋮ [n1,job=648747504236593153,scExec,id=69,mutation=3] waiting for a single version... done (at v 10)
I210410 11:00:28.753205 29299 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747504236593153: stepping through state succeeded with error: <nil>
I210410 11:00:28.904463 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747512302600193 for table 69, mutation 4
I210410 11:00:29.188543 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 69, info: ‹{TableName:ttn_lorawan.public.authorization_codes IndexName:authorization_code_code_index Statement:CREATE UNIQUE INDEX authorization_code_code_index ON authorization_codes (code) User:root MutationID:4}›
I210410 11:00:29.188779 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747512302600193]›
I210410 11:00:29.277821 29618 jobs/adopt.go:137 ⋮ job 648747512302600193: resuming execution
I210410 11:00:29.282671 29620 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747512302600193: stepping through state running with error: <nil>
I210410 11:00:29.399397 29435 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=11:1618052738.208239681,0, refcount=0›
I210410 11:00:29.501047 29620 sql/schema_changer.go:567 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] schema change on ‹"authorization_codes"› (v11) starting execution...
I210410 11:00:29.734354 29620 sql/schema_changer.go:878 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] stepping through state machine
I210410 11:00:29.903075 29620 sql/schema_changer.go:946 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] finished stepping through state machine
I210410 11:00:29.903154 29620 sql/schema_changer.go:985 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] waiting for a single version...
I210410 11:00:29.907861 29620 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] waiting for 1 leases to expire: desc=‹[{authorization_codes 69 11}]›
I210410 11:00:30.002519 29441 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=12:1618052738.209239681,0, refcount=0›
I210410 11:00:30.138452 29620 sql/schema_changer.go:987 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] waiting for a single version... done (at v 12)
I210410 11:00:30.216066 29620 sql/backfill.go:201 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] running backfill for ‹"authorization_codes"›, v=12
I210410 11:00:30.216198 29620 sql/backfill.go:1498 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] backfilling 1 indexes
I210410 11:00:30.216436 29620 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r90/1:‹/{Table/69/4-Max}›] initiating a split of this range at key ‹/Table/69/5› [r91] (‹manual›)‹›
I210410 11:00:30.662365 29620 sql/backfill.go:1523 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] finished backfilling indexes
I210410 11:00:30.662474 29620 sql/backfill.go:1130 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] validating new indexes
I210410 11:00:30.844503 29734 sql/backfill.go:1482 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] validation: table ‹authorization_codes› row count = 0, took 2.614966ms
I210410 11:00:30.844536 29733 sql/backfill.go:1389 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] validation: index ‹authorization_codes›/‹authorization_code_code_index› row count = 0, time so far 2.593057ms
I210410 11:00:30.844657 29620 sql/backfill.go:1190 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] finished validating new indexes
I210410 11:00:30.844698 29620 sql/backfill.go:327 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] completed backfill for ‹"authorization_codes"›, v=12
I210410 11:00:30.844742 29620 sql/schema_changer.go:1433 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] marking schema change as complete
I210410 11:00:31.076829 29620 sql/event_log.go:162 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] Event: ‹"finish_schema_change"›, target: 69, info: ‹{MutationID:4}›
I210410 11:00:31.076995 29620 sql/schema_changer.go:985 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] waiting for a single version...
I210410 11:00:31.081293 29620 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] waiting for 1 leases to expire: desc=‹[{authorization_codes 69 12}]›
I210410 11:00:31.113937 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 204 MiB RSS, 228 goroutines, 44 MiB/72 MiB/73 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.6 CGO/sec, 17.9/3.5 %(u/s)time, 0.0 %gc (2x), 4.6 KiB/4.4 KiB (r/w)net
I210410 11:00:31.210070 29780 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹69("authorization_codes") ver=13:1618052738.210239681,0, refcount=0›
I210410 11:00:31.344175 29620 sql/schema_changer.go:987 ⋮ [n1,job=648747512302600193,scExec,id=69,mutation=4] waiting for a single version... done (at v 13)
I210410 11:00:31.344279 29620 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747512302600193: stepping through state succeeded with error: <nil>
I210410 11:00:31.779615 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 70, info: ‹{TableName:ttn_lorawan.public.access_tokens Statement:CREATE TABLE access_tokens (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, client_id UUID NOT NULL, user_id UUID NOT NULL, user_session_id UUID, rights INT8[], token_id VARCHAR NOT NULL, previous_id VARCHAR, access_token VARCHAR NOT NULL, refresh_token VARCHAR NOT NULL, expires_at TIMESTAMPTZ, PRIMARY KEY (id)) User:root}›
I210410 11:00:31.828065 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747521881669633 for table 70, mutation 1
I210410 11:00:32.070079 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 70, info: ‹{TableName:ttn_lorawan.public.access_tokens IndexName:idx_access_tokens_user_id Statement:CREATE INDEX idx_access_tokens_user_id ON access_tokens (user_id) User:root MutationID:1}›
I210410 11:00:32.070287 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747521881669633]›
I210410 11:00:32.159749 29966 jobs/adopt.go:137 ⋮ job 648747521881669633: resuming execution
I210410 11:00:32.164718 29968 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747521881669633: stepping through state running with error: <nil>
I210410 11:00:32.337878 29968 sql/schema_changer.go:567 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] schema change on ‹"access_tokens"› (v2) starting execution...
I210410 11:00:32.470643 29968 sql/schema_changer.go:878 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] stepping through state machine
I210410 11:00:32.673778 29968 sql/schema_changer.go:946 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] finished stepping through state machine
I210410 11:00:32.673871 29968 sql/schema_changer.go:985 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] waiting for a single version...
I210410 11:00:32.675107 29975 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r91/1:‹/{Table/69/5-Max}›] initiating a split of this range at key ‹/Table/70› [r92] (‹zone config›)‹›
I210410 11:00:32.677546 29968 sql/schema_changer.go:987 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:32.908014 29968 sql/backfill.go:201 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] running backfill for ‹"access_tokens"›, v=3
I210410 11:00:32.908137 29968 sql/backfill.go:1498 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] backfilling 1 indexes
I210410 11:00:32.908329 29968 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r92/1:‹/{Table/70-Max}›] initiating a split of this range at key ‹/Table/70/2› [r93] (‹manual›)‹›
I210410 11:00:33.331984 29968 sql/backfill.go:1523 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] finished backfilling indexes
I210410 11:00:33.332079 29968 sql/backfill.go:1130 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] validating new indexes
I210410 11:00:33.507010 30207 sql/backfill.go:1389 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] validation: index ‹access_tokens›/‹idx_access_tokens_user_id› row count = 0, time so far 6.27859ms
I210410 11:00:33.507705 30208 sql/backfill.go:1482 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] validation: table ‹access_tokens› row count = 0, took 7.038685ms
I210410 11:00:33.507891 29968 sql/backfill.go:1190 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] finished validating new indexes
I210410 11:00:33.507954 29968 sql/backfill.go:327 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] completed backfill for ‹"access_tokens"›, v=3
I210410 11:00:33.508004 29968 sql/schema_changer.go:1433 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] marking schema change as complete
I210410 11:00:33.701141 29968 sql/event_log.go:162 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] Event: ‹"finish_schema_change"›, target: 70, info: ‹{MutationID:1}›
I210410 11:00:33.701303 29968 sql/schema_changer.go:985 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] waiting for a single version...
I210410 11:00:33.705849 29968 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] waiting for 1 leases to expire: desc=‹[{access_tokens 70 3}]›
I210410 11:00:33.811979 30310 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=4:1618052732.756838521,0, refcount=0›
I210410 11:00:33.957144 29968 sql/schema_changer.go:987 ⋮ [n1,job=648747521881669633,scExec,id=70,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:33.957250 29968 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747521881669633: stepping through state succeeded with error: <nil>
I210410 11:00:34.470560 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747530542120961 for table 70, mutation 2
I210410 11:00:34.693268 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 70, info: ‹{TableName:ttn_lorawan.public.access_tokens IndexName:idx_access_tokens_user_session_id Statement:CREATE INDEX idx_access_tokens_user_session_id ON access_tokens (user_session_id) User:root MutationID:2}›
I210410 11:00:34.693485 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747530542120961]›
I210410 11:00:34.838202 30361 jobs/adopt.go:137 ⋮ job 648747530542120961: resuming execution
I210410 11:00:34.843011 30363 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747530542120961: stepping through state running with error: <nil>
I210410 11:00:34.881641 29982 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=5:1618052748.417033138,0, refcount=0›
I210410 11:00:35.105886 30363 sql/schema_changer.go:567 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] schema change on ‹"access_tokens"› (v5) starting execution...
I210410 11:00:35.495154 30363 sql/schema_changer.go:878 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] stepping through state machine
I210410 11:00:35.698548 30363 sql/schema_changer.go:946 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] finished stepping through state machine
I210410 11:00:35.698656 30363 sql/schema_changer.go:985 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] waiting for a single version...
I210410 11:00:35.703169 30363 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] waiting for 1 leases to expire: desc=‹[{access_tokens 70 5}]›
I210410 11:00:35.809352 30556 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=6:1618052748.418033138,0, refcount=0›
I210410 11:00:35.910090 30363 sql/schema_changer.go:987 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] waiting for a single version... done (at v 6)
I210410 11:00:36.010350 30363 sql/backfill.go:201 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] running backfill for ‹"access_tokens"›, v=6
I210410 11:00:36.010467 30363 sql/backfill.go:1498 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] backfilling 1 indexes
I210410 11:00:36.010666 30363 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r93/1:‹/{Table/70/2-Max}›] initiating a split of this range at key ‹/Table/70/3› [r94] (‹manual›)‹›
I210410 11:00:36.323017 30363 sql/backfill.go:1523 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] finished backfilling indexes
I210410 11:00:36.323106 30363 sql/backfill.go:1130 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] validating new indexes
I210410 11:00:36.469781 30677 sql/backfill.go:1482 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] validation: table ‹access_tokens› row count = 0, took 1.155859ms
I210410 11:00:36.469839 30676 sql/backfill.go:1389 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] validation: index ‹access_tokens›/‹idx_access_tokens_user_session_id› row count = 0, time so far 1.213131ms
I210410 11:00:36.469899 30363 sql/backfill.go:1190 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] finished validating new indexes
I210410 11:00:36.469922 30363 sql/backfill.go:327 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] completed backfill for ‹"access_tokens"›, v=6
I210410 11:00:36.469943 30363 sql/schema_changer.go:1433 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] marking schema change as complete
I210410 11:00:36.714727 30363 sql/event_log.go:162 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] Event: ‹"finish_schema_change"›, target: 70, info: ‹{MutationID:2}›
I210410 11:00:36.714886 30363 sql/schema_changer.go:985 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] waiting for a single version...
I210410 11:00:36.719961 30363 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] waiting for 1 leases to expire: desc=‹[{access_tokens 70 6}]›
I210410 11:00:36.914104 30679 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=7:1618052748.419033138,0, refcount=0›
I210410 11:00:37.059488 30363 sql/schema_changer.go:987 ⋮ [n1,job=648747530542120961,scExec,id=70,mutation=2] waiting for a single version... done (at v 7)
I210410 11:00:37.059595 30363 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747530542120961: stepping through state succeeded with error: <nil>
I210410 11:00:37.249928 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747539649658881 for table 70, mutation 3
I210410 11:00:37.528316 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 70, info: ‹{TableName:ttn_lorawan.public.access_tokens IndexName:access_token_previous_index Statement:CREATE INDEX access_token_previous_index ON access_tokens (previous_id) User:root MutationID:3}›
I210410 11:00:37.528543 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747539649658881]›
I210410 11:00:37.618142 30781 jobs/adopt.go:137 ⋮ job 648747539649658881: resuming execution
I210410 11:00:37.630668 30785 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747539649658881: stepping through state running with error: <nil>
I210410 11:00:37.761186 30718 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=8:1618052748.420033138,0, refcount=0›
I210410 11:00:38.123707 30785 sql/schema_changer.go:567 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] schema change on ‹"access_tokens"› (v8) starting execution...
I210410 11:00:38.373605 30785 sql/schema_changer.go:878 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] stepping through state machine
I210410 11:00:38.722424 30785 sql/schema_changer.go:946 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] finished stepping through state machine
I210410 11:00:38.722533 30785 sql/schema_changer.go:985 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] waiting for a single version...
I210410 11:00:38.728435 30785 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] waiting for 1 leases to expire: desc=‹[{access_tokens 70 8}]›
I210410 11:00:38.855348 30907 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=9:1618052748.421033138,0, refcount=0›
I210410 11:00:38.926666 30785 sql/schema_changer.go:987 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] waiting for a single version... done (at v 9)
I210410 11:00:39.000256 30785 sql/backfill.go:201 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] running backfill for ‹"access_tokens"›, v=9
I210410 11:00:39.000407 30785 sql/backfill.go:1498 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] backfilling 1 indexes
I210410 11:00:39.000664 30785 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r94/1:‹/{Table/70/3-Max}›] initiating a split of this range at key ‹/Table/70/4› [r95] (‹manual›)‹›
I210410 11:00:39.312986 30785 sql/backfill.go:1523 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] finished backfilling indexes
I210410 11:00:39.313087 30785 sql/backfill.go:1130 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] validating new indexes
I210410 11:00:39.462832 31251 sql/backfill.go:1482 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] validation: table ‹access_tokens› row count = 0, took 3.525673ms
I210410 11:00:39.462864 31250 sql/backfill.go:1389 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] validation: index ‹access_tokens›/‹access_token_previous_index› row count = 0, time so far 3.54711ms
I210410 11:00:39.462989 30785 sql/backfill.go:1190 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] finished validating new indexes
I210410 11:00:39.463047 30785 sql/backfill.go:327 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] completed backfill for ‹"access_tokens"›, v=9
I210410 11:00:39.463109 30785 sql/schema_changer.go:1433 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] marking schema change as complete
I210410 11:00:39.715980 30785 sql/event_log.go:162 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] Event: ‹"finish_schema_change"›, target: 70, info: ‹{MutationID:3}›
I210410 11:00:39.716139 30785 sql/schema_changer.go:985 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] waiting for a single version...
I210410 11:00:39.721569 30785 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] waiting for 1 leases to expire: desc=‹[{access_tokens 70 9}]›
I210410 11:00:39.893385 31206 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=10:1618052748.422033138,0, refcount=0›
I210410 11:00:40.027684 30785 sql/schema_changer.go:987 ⋮ [n1,job=648747539649658881,scExec,id=70,mutation=3] waiting for a single version... done (at v 10)
I210410 11:00:40.027803 30785 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747539649658881: stepping through state succeeded with error: <nil>
I210410 11:00:40.178959 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747549247438849 for table 70, mutation 4
I210410 11:00:40.440863 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 70, info: ‹{TableName:ttn_lorawan.public.access_tokens IndexName:idx_access_tokens_client_id Statement:CREATE INDEX idx_access_tokens_client_id ON access_tokens (client_id) User:root MutationID:4}›
I210410 11:00:40.441089 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747549247438849]›
I210410 11:00:40.530568 31226 jobs/adopt.go:137 ⋮ job 648747549247438849: resuming execution
I210410 11:00:40.535588 31228 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747549247438849: stepping through state running with error: <nil>
I210410 11:00:40.573980 31216 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=11:1618052749.087452549,0, refcount=0›
I210410 11:00:40.753414 31228 sql/schema_changer.go:567 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] schema change on ‹"access_tokens"› (v11) starting execution...
I210410 11:00:40.886930 31228 sql/schema_changer.go:878 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] stepping through state machine
I210410 11:00:41.084708 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:00:41.114345 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 207 MiB RSS, 222 goroutines, 46 MiB/70 MiB/75 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.5 CGO/sec, 18.6/2.9 %(u/s)time, 0.0 %gc (2x), 5.5 KiB/5.0 KiB (r/w)net
I210410 11:00:41.168512 31228 sql/schema_changer.go:946 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] finished stepping through state machine
I210410 11:00:41.168578 31228 sql/schema_changer.go:985 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] waiting for a single version...
I210410 11:00:41.172005 31228 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] waiting for 1 leases to expire: desc=‹[{access_tokens 70 11}]›
I210410 11:00:41.279797 31307 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=12:1618052749.088452549,0, refcount=0›
I210410 11:00:41.391589 31228 sql/schema_changer.go:987 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] waiting for a single version... done (at v 12)
I210410 11:00:41.480159 31228 sql/backfill.go:201 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] running backfill for ‹"access_tokens"›, v=12
I210410 11:00:41.480204 31228 sql/backfill.go:1498 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] backfilling 1 indexes
I210410 11:00:41.480279 31228 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r95/1:‹/{Table/70/4-Max}›] initiating a split of this range at key ‹/Table/70/5› [r96] (‹manual›)‹›
I210410 11:00:42.073872 31228 sql/backfill.go:1523 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] finished backfilling indexes
I210410 11:00:42.073992 31228 sql/backfill.go:1130 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] validating new indexes
I210410 11:00:42.345259 31544 sql/backfill.go:1389 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] validation: index ‹access_tokens›/‹idx_access_tokens_client_id› row count = 0, time so far 2.652781ms
I210410 11:00:42.345270 31545 sql/backfill.go:1482 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] validation: table ‹access_tokens› row count = 0, took 2.726055ms
I210410 11:00:42.345431 31228 sql/backfill.go:1190 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] finished validating new indexes
I210410 11:00:42.345492 31228 sql/backfill.go:327 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] completed backfill for ‹"access_tokens"›, v=12
I210410 11:00:42.345550 31228 sql/schema_changer.go:1433 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] marking schema change as complete
I210410 11:00:42.565774 31228 sql/event_log.go:162 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] Event: ‹"finish_schema_change"›, target: 70, info: ‹{MutationID:4}›
I210410 11:00:42.565937 31228 sql/schema_changer.go:985 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] waiting for a single version...
I210410 11:00:42.571752 31228 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] waiting for 1 leases to expire: desc=‹[{access_tokens 70 12}]›
I210410 11:00:42.698604 31604 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=13:1618052752.829922614,0, refcount=0›
I210410 11:00:42.887940 31228 sql/schema_changer.go:987 ⋮ [n1,job=648747549247438849,scExec,id=70,mutation=4] waiting for a single version... done (at v 13)
I210410 11:00:42.888052 31228 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747549247438849: stepping through state succeeded with error: <nil>
I210410 11:00:43.606922 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747560487747585 for table 70, mutation 5
I210410 11:00:43.771567 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 70, info: ‹{TableName:ttn_lorawan.public.access_tokens IndexName:access_token_id_index Statement:CREATE UNIQUE INDEX access_token_id_index ON access_tokens (token_id) User:root MutationID:5}›
I210410 11:00:43.771769 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747560487747585]›
I210410 11:00:43.839136 31751 jobs/adopt.go:137 ⋮ job 648747560487747585: resuming execution
I210410 11:00:43.843986 31753 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747560487747585: stepping through state running with error: <nil>
I210410 11:00:43.871023 31728 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=14:1618052752.830922614,0, refcount=0›
I210410 11:00:43.972901 31753 sql/schema_changer.go:567 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] schema change on ‹"access_tokens"› (v14) starting execution...
I210410 11:00:44.106328 31753 sql/schema_changer.go:878 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] stepping through state machine
I210410 11:00:44.307745 31753 sql/schema_changer.go:946 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] finished stepping through state machine
I210410 11:00:44.307829 31753 sql/schema_changer.go:985 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] waiting for a single version...
I210410 11:00:44.313437 31753 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] waiting for 1 leases to expire: desc=‹[{access_tokens 70 14}]›
I210410 11:00:44.485087 31901 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=15:1618052752.831922614,0, refcount=0›
I210410 11:00:44.719683 31753 sql/schema_changer.go:987 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] waiting for a single version... done (at v 15)
I210410 11:00:44.808498 31753 sql/backfill.go:201 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] running backfill for ‹"access_tokens"›, v=15
I210410 11:00:44.808608 31753 sql/backfill.go:1498 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] backfilling 1 indexes
I210410 11:00:44.808799 31753 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r96/1:‹/{Table/70/5-Max}›] initiating a split of this range at key ‹/Table/70/6› [r97] (‹manual›)‹›
I210410 11:00:45.165496 31753 sql/backfill.go:1523 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] finished backfilling indexes
I210410 11:00:45.165609 31753 sql/backfill.go:1130 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] validating new indexes
I210410 11:00:45.347976 32170 sql/backfill.go:1482 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] validation: table ‹access_tokens› row count = 0, took 2.641526ms
I210410 11:00:45.348032 32169 sql/backfill.go:1389 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] validation: index ‹access_tokens›/‹access_token_id_index› row count = 0, time so far 2.673933ms
I210410 11:00:45.348185 31753 sql/backfill.go:1190 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] finished validating new indexes
I210410 11:00:45.348269 31753 sql/backfill.go:327 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] completed backfill for ‹"access_tokens"›, v=15
I210410 11:00:45.348317 31753 sql/schema_changer.go:1433 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] marking schema change as complete
I210410 11:00:45.623616 31753 sql/event_log.go:162 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] Event: ‹"finish_schema_change"›, target: 70, info: ‹{MutationID:5}›
I210410 11:00:45.623740 31753 sql/schema_changer.go:985 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] waiting for a single version...
I210410 11:00:45.628377 31753 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] waiting for 1 leases to expire: desc=‹[{access_tokens 70 15}]›
I210410 11:00:45.745509 31669 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹70("access_tokens") ver=16:1618052752.832922614,0, refcount=0›
I210410 11:00:45.846218 31753 sql/schema_changer.go:987 ⋮ [n1,job=648747560487747585,scExec,id=70,mutation=5] waiting for a single version... done (at v 16)
I210410 11:00:45.846323 31753 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747560487747585: stepping through state succeeded with error: <nil>
I210410 11:00:46.150358 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 71, info: ‹{TableName:ttn_lorawan.public.organizations Statement:CREATE TABLE organizations (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, deleted_at TIMESTAMPTZ, name VARCHAR, description STRING, PRIMARY KEY (id)) User:root}›
I210410 11:00:46.243319 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747569118969857 for table 71, mutation 1
I210410 11:00:46.440933 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 71, info: ‹{TableName:ttn_lorawan.public.organizations IndexName:idx_organizations_deleted_at Statement:CREATE INDEX idx_organizations_deleted_at ON organizations (deleted_at) User:root MutationID:1}›
I210410 11:00:46.441131 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747569118969857]›
I210410 11:00:46.443130 32214 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r97/1:‹/{Table/70/6-Max}›] initiating a split of this range at key ‹/Table/71› [r98] (‹zone config›)‹›
I210410 11:00:46.508313 32218 jobs/adopt.go:137 ⋮ job 648747569118969857: resuming execution
I210410 11:00:46.513461 32220 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747569118969857: stepping through state running with error: <nil>
I210410 11:00:46.675604 32220 sql/schema_changer.go:567 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] schema change on ‹"organizations"› (v2) starting execution...
I210410 11:00:46.897653 32220 sql/schema_changer.go:878 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] stepping through state machine
I210410 11:00:47.121798 32220 sql/schema_changer.go:946 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] finished stepping through state machine
I210410 11:00:47.121911 32220 sql/schema_changer.go:985 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] waiting for a single version...
I210410 11:00:47.127517 32220 sql/schema_changer.go:987 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:47.354747 32220 sql/backfill.go:201 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] running backfill for ‹"organizations"›, v=3
I210410 11:00:47.354856 32220 sql/backfill.go:1498 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] backfilling 1 indexes
I210410 11:00:47.355032 32220 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r98/1:‹/{Table/71-Max}›] initiating a split of this range at key ‹/Table/71/2› [r99] (‹manual›)‹›
I210410 11:00:47.979857 32220 sql/backfill.go:1523 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] finished backfilling indexes
I210410 11:00:47.979979 32220 sql/backfill.go:1130 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] validating new indexes
I210410 11:00:48.255447 32525 sql/backfill.go:1482 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] validation: table ‹organizations› row count = 0, took 6.9035ms
I210410 11:00:48.255669 32524 sql/backfill.go:1389 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] validation: index ‹organizations›/‹idx_organizations_deleted_at› row count = 0, time so far 7.114319ms
I210410 11:00:48.255774 32220 sql/backfill.go:1190 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] finished validating new indexes
I210410 11:00:48.255820 32220 sql/backfill.go:327 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] completed backfill for ‹"organizations"›, v=3
I210410 11:00:48.255864 32220 sql/schema_changer.go:1433 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] marking schema change as complete
I210410 11:00:48.418144 32220 sql/event_log.go:162 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] Event: ‹"finish_schema_change"›, target: 71, info: ‹{MutationID:1}›
I210410 11:00:48.418286 32220 sql/schema_changer.go:985 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] waiting for a single version...
I210410 11:00:48.433040 32220 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] waiting for 1 leases to expire: desc=‹[{organizations 71 3}]›
I210410 11:00:48.550951 32607 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹71("organizations") ver=4:1618052749.073012600,0, refcount=0›
I210410 11:00:48.618145 32220 sql/schema_changer.go:987 ⋮ [n1,job=648747569118969857,scExec,id=71,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:48.618193 32220 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747569118969857: stepping through state succeeded with error: <nil>
I210410 11:00:49.177527 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 72, info: ‹{TableName:ttn_lorawan.public.pictures Statement:CREATE TABLE pictures (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, deleted_at TIMESTAMPTZ, data BYTES, PRIMARY KEY (id)) User:root}›
I210410 11:00:49.225036 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747578889535489 for table 72, mutation 1
I210410 11:00:49.489703 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 72, info: ‹{TableName:ttn_lorawan.public.pictures IndexName:idx_pictures_deleted_at Statement:CREATE INDEX idx_pictures_deleted_at ON pictures (deleted_at) User:root MutationID:1}›
I210410 11:00:49.489897 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747578889535489]›
I210410 11:00:49.579692 32833 jobs/adopt.go:137 ⋮ job 648747578889535489: resuming execution
I210410 11:00:49.584454 32883 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747578889535489: stepping through state running with error: <nil>
I210410 11:00:49.713033 32883 sql/schema_changer.go:567 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] schema change on ‹"pictures"› (v2) starting execution...
I210410 11:00:49.845656 32883 sql/schema_changer.go:878 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] stepping through state machine
I210410 11:00:50.069802 32883 sql/schema_changer.go:946 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] finished stepping through state machine
I210410 11:00:50.069885 32883 sql/schema_changer.go:985 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] waiting for a single version...
I210410 11:00:50.074784 32883 sql/schema_changer.go:987 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:50.180737 32883 sql/backfill.go:201 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] running backfill for ‹"pictures"›, v=3
I210410 11:00:50.180853 32883 sql/backfill.go:1498 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] backfilling 1 indexes
I210410 11:00:50.181048 32883 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r99/1:‹/{Table/71/2-Max}›] initiating a split of this range at key ‹/Table/72/2› [r100] (‹manual›)‹›
I210410 11:00:50.416989 32923 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r99/1:‹/Table/7{1/2-2/2}›] initiating a split of this range at key ‹/Table/72› [r101] (‹zone config›)‹›
I210410 11:00:50.806747 32883 sql/backfill.go:1523 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] finished backfilling indexes
I210410 11:00:50.806845 32883 sql/backfill.go:1130 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] validating new indexes
I210410 11:00:51.064673 32906 sql/backfill.go:1482 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] validation: table ‹pictures› row count = 0, took 5.037887ms
I210410 11:00:51.064823 32905 sql/backfill.go:1389 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] validation: index ‹pictures›/‹idx_pictures_deleted_at› row count = 0, time so far 5.168923ms
I210410 11:00:51.064856 32883 sql/backfill.go:1190 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] finished validating new indexes
I210410 11:00:51.064870 32883 sql/backfill.go:327 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] completed backfill for ‹"pictures"›, v=3
I210410 11:00:51.064883 32883 sql/schema_changer.go:1433 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] marking schema change as complete
I210410 11:00:51.114405 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 212 MiB RSS, 226 goroutines, 46 MiB/67 MiB/79 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.7 CGO/sec, 19.3/2.6 %(u/s)time, 0.0 %gc (2x), 6.1 KiB/5.6 KiB (r/w)net
I210410 11:00:51.366072 32883 sql/event_log.go:162 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] Event: ‹"finish_schema_change"›, target: 72, info: ‹{MutationID:1}›
I210410 11:00:51.366212 32883 sql/schema_changer.go:985 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] waiting for a single version...
I210410 11:00:51.370756 32883 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] waiting for 1 leases to expire: desc=‹[{pictures 72 3}]›
I210410 11:00:51.487633 32998 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹72("pictures") ver=4:1618052758.002190757,0, refcount=0›
I210410 11:00:51.722476 32883 sql/schema_changer.go:987 ⋮ [n1,job=648747578889535489,scExec,id=72,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:51.722593 32883 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747578889535489: stepping through state succeeded with error: <nil>
I210410 11:00:52.703188 33288 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747589243633665: stepping through state running with error: <nil>
I210410 11:00:52.804573 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 73, info: ‹{TableName:ttn_lorawan.public.users Statement:CREATE TABLE users (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, deleted_at TIMESTAMPTZ, name VARCHAR, description STRING, primary_email_address VARCHAR NOT NULL, primary_email_address_validated_at TIMESTAMPTZ, password VARCHAR NOT NULL, password_updated_at TIMESTAMPTZ NOT NULL, require_password_update BOOL NOT NULL, state INT8 NOT NULL, state_description VARCHAR, admin BOOL NOT NULL, temporary_password VARCHAR, temporary_password_created_at TIMESTAMPTZ, temporary_password_expires_at TIMESTAMPTZ, profile_picture_id UUID, PRIMARY KEY (id)) User:root}›
I210410 11:00:52.809450 33474 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r100/1:‹/{Table/72/2-Max}›] initiating a split of this range at key ‹/Table/73› [r102] (‹zone config›)‹›
I210410 11:00:52.874588 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747590848806913 for table 73, mutation 1
I210410 11:00:53.172873 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 73, info: ‹{TableName:ttn_lorawan.public.users IndexName:idx_users_deleted_at Statement:CREATE INDEX idx_users_deleted_at ON users (deleted_at) User:root MutationID:1}›
I210410 11:00:53.173060 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747590848806913]›
I210410 11:00:53.318750 33554 jobs/adopt.go:137 ⋮ job 648747590848806913: resuming execution
I210410 11:00:53.325209 33556 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747590848806913: stepping through state running with error: <nil>
I210410 11:00:53.588046 33556 sql/schema_changer.go:567 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] schema change on ‹"users"› (v2) starting execution...
I210410 11:00:53.765739 33556 sql/schema_changer.go:878 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] stepping through state machine
I210410 11:00:54.034389 33556 sql/schema_changer.go:946 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] finished stepping through state machine
I210410 11:00:54.034481 33556 sql/schema_changer.go:985 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] waiting for a single version...
I210410 11:00:54.039381 33556 sql/schema_changer.go:987 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] waiting for a single version... done (at v 3)
I210410 11:00:54.256753 33556 sql/backfill.go:201 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] running backfill for ‹"users"›, v=3
I210410 11:00:54.256869 33556 sql/backfill.go:1498 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] backfilling 1 indexes
I210410 11:00:54.257100 33556 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r102/1:‹/{Table/73-Max}›] initiating a split of this range at key ‹/Table/73/2› [r103] (‹manual›)‹›
I210410 11:00:54.625311 33288 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747589243633665: stepping through state succeeded with error: <nil>
I210410 11:00:54.759577 33556 sql/backfill.go:1523 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] finished backfilling indexes
I210410 11:00:54.759712 33556 sql/backfill.go:1130 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] validating new indexes
I210410 11:00:54.933785 33692 sql/backfill.go:1482 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] validation: table ‹users› row count = 0, took 6.075537ms
I210410 11:00:54.934189 33691 sql/backfill.go:1389 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] validation: index ‹users›/‹idx_users_deleted_at› row count = 0, time so far 6.463282ms
I210410 11:00:54.934300 33556 sql/backfill.go:1190 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] finished validating new indexes
I210410 11:00:54.934341 33556 sql/backfill.go:327 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] completed backfill for ‹"users"›, v=3
I210410 11:00:54.934385 33556 sql/schema_changer.go:1433 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] marking schema change as complete
I210410 11:00:55.195429 33556 sql/event_log.go:162 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] Event: ‹"finish_schema_change"›, target: 73, info: ‹{MutationID:1}›
I210410 11:00:55.195554 33556 sql/schema_changer.go:985 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] waiting for a single version...
I210410 11:00:55.201425 33556 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] waiting for 1 leases to expire: desc=‹[{users 73 3}]›
I210410 11:00:55.238851 33734 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747597367541761: stepping through state running with error: <nil>
I210410 11:00:55.361468 33668 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹73("users") ver=4:1618052746.234867717,0, refcount=0›
I210410 11:00:55.540417 33556 sql/schema_changer.go:987 ⋮ [n1,job=648747590848806913,scExec,id=73,mutation=1] waiting for a single version... done (at v 4)
I210410 11:00:55.540574 33556 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747590848806913: stepping through state succeeded with error: <nil>
I210410 11:00:55.882128 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747600703717377 for table 73, mutation 2
I210410 11:00:56.178041 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 73, info: ‹{TableName:ttn_lorawan.public.users IndexName:user_profile_picture_index Statement:CREATE INDEX user_profile_picture_index ON users (profile_picture_id) User:root MutationID:2}›
I210410 11:00:56.178258 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747600703717377]›
I210410 11:00:56.245352 33601 jobs/adopt.go:137 ⋮ job 648747600703717377: resuming execution
I210410 11:00:56.250238 34003 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747600703717377: stepping through state running with error: <nil>
I210410 11:00:56.311209 33958 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹73("users") ver=5:1618052746.235867717,0, refcount=0›
I210410 11:00:56.639461 34003 sql/schema_changer.go:567 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] schema change on ‹"users"› (v5) starting execution...
I210410 11:00:57.081642 34003 sql/schema_changer.go:878 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] stepping through state machine
I210410 11:00:57.283867 34003 sql/schema_changer.go:946 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] finished stepping through state machine
I210410 11:00:57.283957 34003 sql/schema_changer.go:985 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] waiting for a single version...
I210410 11:00:57.295108 34003 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] waiting for 1 leases to expire: desc=‹[{users 73 5}]›
I210410 11:00:57.416869 34026 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹73("users") ver=6:1618052748.960144705,0, refcount=0›
I210410 11:00:57.562386 34003 sql/schema_changer.go:987 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] waiting for a single version... done (at v 6)
I210410 11:00:57.740404 34003 sql/backfill.go:201 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] running backfill for ‹"users"›, v=6
I210410 11:00:57.740525 34003 sql/backfill.go:1498 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] backfilling 1 indexes
I210410 11:00:57.740767 34003 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r103/1:‹/{Table/73/2-Max}›] initiating a split of this range at key ‹/Table/73/3› [r104] (‹manual›)‹›
I210410 11:00:58.186628 34003 sql/backfill.go:1523 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] finished backfilling indexes
I210410 11:00:58.186735 34003 sql/backfill.go:1130 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] validating new indexes
I210410 11:00:58.457677 34372 sql/backfill.go:1482 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] validation: table ‹users› row count = 0, took 1.025745ms
I210410 11:00:58.457692 34371 sql/backfill.go:1389 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] validation: index ‹users›/‹user_profile_picture_index› row count = 0, time so far 979.935µs
I210410 11:00:58.457741 34003 sql/backfill.go:1190 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] finished validating new indexes
I210410 11:00:58.457761 34003 sql/backfill.go:327 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] completed backfill for ‹"users"›, v=6
I210410 11:00:58.457779 34003 sql/schema_changer.go:1433 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] marking schema change as complete
I210410 11:00:58.635827 34003 sql/event_log.go:162 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] Event: ‹"finish_schema_change"›, target: 73, info: ‹{MutationID:2}›
I210410 11:00:58.635949 34003 sql/schema_changer.go:985 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] waiting for a single version...
I210410 11:00:58.640288 34003 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] waiting for 1 leases to expire: desc=‹[{users 73 6}]›
I210410 11:00:58.702428 34343 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹73("users") ver=7:1618052755.065357597,0, refcount=0›
I210410 11:00:58.892359 34003 sql/schema_changer.go:987 ⋮ [n1,job=648747600703717377,scExec,id=73,mutation=2] waiting for a single version... done (at v 7)
I210410 11:00:58.892479 34003 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747600703717377: stepping through state succeeded with error: <nil>
I210410 11:00:59.121876 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747611319271425 for table 73, mutation 3
I210410 11:00:59.316474 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 73, info: ‹{TableName:ttn_lorawan.public.users IndexName:uix_users_primary_email_address Statement:CREATE UNIQUE INDEX uix_users_primary_email_address ON users (primary_email_address) User:root MutationID:3}›
I210410 11:00:59.316549 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747611319271425]›
I210410 11:00:59.383470 34645 jobs/adopt.go:137 ⋮ job 648747611319271425: resuming execution
I210410 11:00:59.385001 34647 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747611319271425: stepping through state running with error: <nil>
I210410 11:00:59.449895 34614 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹73("users") ver=8:1618052767.172520901,0, refcount=0›
I210410 11:00:59.483479 33734 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747597367541761: stepping through state succeeded with error: <nil>
I210410 11:00:59.517314 34647 sql/schema_changer.go:567 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] schema change on ‹"users"› (v8) starting execution...
I210410 11:00:59.684959 34647 sql/schema_changer.go:878 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] stepping through state machine
I210410 11:00:59.997410 34722 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747613067804673: stepping through state running with error: <nil>
I210410 11:01:00.064691 34647 sql/schema_changer.go:946 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] finished stepping through state machine
I210410 11:01:00.064778 34647 sql/schema_changer.go:985 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] waiting for a single version...
I210410 11:01:00.069065 34647 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] waiting for 1 leases to expire: desc=‹[{users 73 8}]›
I210410 11:01:00.242594 34707 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹73("users") ver=9:1618052767.173520901,0, refcount=0›
I210410 11:01:00.421351 34647 sql/schema_changer.go:987 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] waiting for a single version... done (at v 9)
I210410 11:01:00.510401 34647 sql/backfill.go:201 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] running backfill for ‹"users"›, v=9
I210410 11:01:00.510509 34647 sql/backfill.go:1498 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] backfilling 1 indexes
I210410 11:01:00.510742 34647 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r104/1:‹/{Table/73/3-Max}›] initiating a split of this range at key ‹/Table/73/4› [r105] (‹manual›)‹›
I210410 11:01:00.924957 34647 sql/backfill.go:1523 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] finished backfilling indexes
I210410 11:01:00.925060 34647 sql/backfill.go:1130 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] validating new indexes
I210410 11:01:01.114710 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 217 MiB RSS, 229 goroutines, 37 MiB/69 MiB/84 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.5 CGO/sec, 26.5/2.4 %(u/s)time, 0.0 %gc (3x), 4.8 KiB/4.1 KiB (r/w)net
I210410 11:01:01.152739 34698 sql/backfill.go:1389 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] validation: index ‹users›/‹uix_users_primary_email_address› row count = 0, time so far 2.906808ms
I210410 11:01:01.153338 34699 sql/backfill.go:1482 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] validation: table ‹users› row count = 0, took 3.518623ms
I210410 11:01:01.153528 34647 sql/backfill.go:1190 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] finished validating new indexes
I210410 11:01:01.153598 34647 sql/backfill.go:327 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] completed backfill for ‹"users"›, v=9
I210410 11:01:01.153674 34647 sql/schema_changer.go:1433 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] marking schema change as complete
I210410 11:01:01.418049 34647 sql/event_log.go:162 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] Event: ‹"finish_schema_change"›, target: 73, info: ‹{MutationID:3}›
I210410 11:01:01.418198 34647 sql/schema_changer.go:985 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] waiting for a single version...
I210410 11:01:01.423857 34647 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] waiting for 1 leases to expire: desc=‹[{users 73 9}]›
I210410 11:01:01.617633 34769 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹73("users") ver=10:1618052767.174520901,0, refcount=0›
I210410 11:01:01.718112 34722 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747613067804673: stepping through state succeeded with error: <nil>
I210410 11:01:01.751956 34647 sql/schema_changer.go:987 ⋮ [n1,job=648747611319271425,scExec,id=73,mutation=3] waiting for a single version... done (at v 10)
I210410 11:01:01.752087 34647 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747611319271425: stepping through state succeeded with error: <nil>
I210410 11:01:02.377020 35078 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747620535369729: stepping through state running with error: <nil>
I210410 11:01:02.891833 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_table"›, target: 74, info: ‹{TableName:ttn_lorawan.public.user_sessions Statement:CREATE TABLE user_sessions (id UUID DEFAULT gen_random_uuid(), created_at TIMESTAMPTZ NOT NULL, updated_at TIMESTAMPTZ NOT NULL, user_id UUID NOT NULL, session_secret VARCHAR, expires_at TIMESTAMPTZ, PRIMARY KEY (id)) User:root}›
I210410 11:01:02.894637 35123 kv/kvserver/replica_command.go:414 ⋮ [n1,split,s1,r105/1:‹/{Table/73/4-Max}›] initiating a split of this range at key ‹/Table/74› [r106] (‹zone config›)‹›
I210410 11:01:02.986475 12903 sql/table.go:164 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] queued new schema change job 648747623981350913 for table 74, mutation 1
I210410 11:01:03.250647 12903 sql/event_log.go:162 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] Event: ‹"create_index"›, target: 74, info: ‹{TableName:ttn_lorawan.public.user_sessions IndexName:user_session_user_index Statement:CREATE INDEX user_session_user_index ON user_sessions (user_id) User:root MutationID:1}›
I210410 11:01:03.250834 12903 jobs/registry.go:309 ⋮ [n1,client=‹172.19.0.4:43814›,hostnossl,user=root] scheduled jobs ‹[648747623981350913]›
I210410 11:01:03.339087 35087 jobs/adopt.go:137 ⋮ job 648747623981350913: resuming execution
I210410 11:01:03.340707 35089 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747623981350913: stepping through state running with error: <nil>
I210410 11:01:03.573895 35089 sql/schema_changer.go:567 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] schema change on ‹"user_sessions"› (v2) starting execution...
I210410 11:01:03.829899 35089 sql/schema_changer.go:878 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] stepping through state machine
I210410 11:01:03.863484 35078 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747620535369729: stepping through state succeeded with error: <nil>
I210410 11:01:04.132353 35089 sql/schema_changer.go:946 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] finished stepping through state machine
I210410 11:01:04.132479 35089 sql/schema_changer.go:985 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] waiting for a single version...
I210410 11:01:04.137857 35089 sql/schema_changer.go:987 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] waiting for a single version... done (at v 3)
I210410 11:01:04.421476 35089 sql/backfill.go:201 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] running backfill for ‹"user_sessions"›, v=3
I210410 11:01:04.421533 35089 sql/backfill.go:1498 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] backfilling 1 indexes
I210410 11:01:04.421631 35089 kv/kvserver/replica_command.go:414 ⋮ [n1,s1,r106/1:‹/{Table/74-Max}›] initiating a split of this range at key ‹/Table/74/2› [r107] (‹manual›)‹›
I210410 11:01:04.455448 35506 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747627640258561: stepping through state running with error: <nil>
I210410 11:01:04.857287 35089 sql/backfill.go:1523 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] finished backfilling indexes
I210410 11:01:04.857396 35089 sql/backfill.go:1130 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] validating new indexes
I210410 11:01:05.165362 35570 sql/backfill.go:1389 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] validation: index ‹user_sessions›/‹user_session_user_index› row count = 0, time so far 5.884667ms
I210410 11:01:05.165777 35571 sql/backfill.go:1482 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] validation: table ‹user_sessions› row count = 0, took 6.361334ms
I210410 11:01:05.165891 35089 sql/backfill.go:1190 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] finished validating new indexes
I210410 11:01:05.165932 35089 sql/backfill.go:327 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] completed backfill for ‹"user_sessions"›, v=3
I210410 11:01:05.165977 35089 sql/schema_changer.go:1433 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] marking schema change as complete
I210410 11:01:05.426945 35089 sql/event_log.go:162 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] Event: ‹"finish_schema_change"›, target: 74, info: ‹{MutationID:1}›
I210410 11:01:05.427102 35089 sql/schema_changer.go:985 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] waiting for a single version...
I210410 11:01:05.432836 35089 sql/catalog/lease/lease.go:347 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] waiting for 1 leases to expire: desc=‹[{user_sessions 74 3}]›
I210410 11:01:05.639500 35501 sql/catalog/lease/lease.go:788 ⋮ [n1] new lease: ‹74("user_sessions") ver=4:1618052763.718973244,0, refcount=0›
I210410 11:01:05.818464 35089 sql/schema_changer.go:987 ⋮ [n1,job=648747623981350913,scExec,id=74,mutation=1] waiting for a single version... done (at v 4)
I210410 11:01:05.818570 35089 jobs/registry.go:1106 ⋮ [n1] SCHEMA CHANGE job 648747623981350913: stepping through state succeeded with error: <nil>
I210410 11:01:05.951956 35506 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747627640258561: stepping through state succeeded with error: <nil>
I210410 11:01:06.476227 35836 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747634808389633: stepping through state running with error: <nil>
W210410 11:01:08.605273 194 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r16/1:‹/Table/2{0-1}›] handle raft ready: 0.9s [applied=1, batches=1, state_assertions=0]
I210410 11:01:09.279554 35836 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747634808389633: stepping through state succeeded with error: <nil>
I210410 11:01:09.796091 35942 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747645433053185: stepping through state running with error: <nil>
I210410 11:01:10.859415 35942 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747645433053185: stepping through state succeeded with error: <nil>
I210410 11:01:11.116185 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 219 MiB RSS, 221 goroutines, 39 MiB/69 MiB/85 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.3 CGO/sec, 18.2/2.5 %(u/s)time, 0.0 %gc (2x), 4.3 KiB/4.1 KiB (r/w)net
I210410 11:01:11.652022 35973 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747650563604481: stepping through state running with error: <nil>
I210410 11:01:12.774374 35973 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747650563604481: stepping through state succeeded with error: <nil>
W210410 11:01:14.136335 233 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r11/1:‹/Table/1{5-6}›] handle raft ready: 1.4s [applied=1, batches=1, state_assertions=0]
W210410 11:01:14.355287 211 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r16/1:‹/Table/2{0-1}›] handle raft ready: 1.5s [applied=1, batches=1, state_assertions=0]
W210410 11:01:14.355360 243 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 1.2s [applied=1, batches=1, state_assertions=0]
I210410 11:01:15.326141 36166 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747663225061377: stepping through state running with error: <nil>
I210410 11:01:16.883302 36166 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747663225061377: stepping through state succeeded with error: <nil>
I210410 11:01:17.597170 36251 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747671050321921: stepping through state running with error: <nil>
I210410 11:01:18.804015 36251 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747671050321921: stepping through state succeeded with error: <nil>
I210410 11:01:19.196349 36175 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747676266168321: stepping through state running with error: <nil>
I210410 11:01:19.855053 36175 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747676266168321: stepping through state succeeded with error: <nil>
I210410 11:01:20.603383 36454 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747680149307393: stepping through state running with error: <nil>
I210410 11:01:21.115141 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 220 MiB RSS, 223 goroutines, 50 MiB/65 MiB/86 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 10.4/1.8 %(u/s)time, 0.0 %gc (1x), 4.4 KiB/4.7 KiB (r/w)net
I210410 11:01:21.465815 36454 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747680149307393: stepping through state succeeded with error: <nil>
I210410 11:01:21.878483 36520 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747685172674561: stepping through state running with error: <nil>
I210410 11:01:23.809949 36520 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747685172674561: stepping through state succeeded with error: <nil>
W210410 11:01:29.595919 243 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r102/1:‹/Table/73{-/2}›] handle raft ready: 0.6s [applied=1, batches=1, state_assertions=0]
I210410 11:01:31.115700 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 221 MiB RSS, 215 goroutines, 51 MiB/64 MiB/88 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 9.1/1.3 %(u/s)time, 0.0 %gc (1x), 4.6 KiB/3.6 KiB (r/w)net
I210410 11:01:41.084681 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:01:41.115733 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 222 MiB RSS, 215 goroutines, 64 MiB/53 MiB/88 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.1/0.9 %(u/s)time, 0.0 %gc (0x), 2.5 KiB/2.5 KiB (r/w)net
I210410 11:01:51.116206 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 225 MiB RSS, 215 goroutines, 44 MiB/66 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 5.3/0.8 %(u/s)time, 0.0 %gc (1x), 2.7 KiB/2.7 KiB (r/w)net
I210410 11:02:01.087637 144 kv/kvserver/store.go:2625 ⋮ [n1,s1] sstables (read amplification = 1):
‹6 [ 204K 1 ]: 204K›
I210410 11:02:01.087986 144 kv/kvserver/store.go:2626 ⋮ [n1,s1] ‹›
‹__level_____count____size___score______in__ingest(sz_cnt)____move(sz_cnt)___write(sz_cnt)____read___r-amp___w-amp›
‹    WAL         2    34 M       -    34 M       -       -       -       -    34 M       -       -       -     1.0›
‹      0         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      1         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      2         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      3         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      4         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      5         0     0 B    0.00     0 B     0 B       0     0 B       0     0 B       0     0 B       0     0.0›
‹      6         1   204 K       -   661 K     0 B       0     0 B       0   204 K       1   661 K       1     0.3›
‹  total         1   204 K       -    34 M     0 B       0     0 B       0    34 M       1   661 K       1     1.0›
‹  flush         0›
‹compact         1     0 B          (size == estimated-debt)›
‹ memtbl         2    64 M›
‹zmemtbl         0     0 B›
‹   ztbl         0     0 B›
‹ bcache        12   369 K   99.9%  (score == hit-rate)›
‹ tcache         1   616 B  100.0%  (score == hit-rate)›
‹ titers         0›
‹ filter         -       -   70.4%  (score == utility)›
I210410 11:02:01.116017 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 226 MiB RSS, 216 goroutines, 51 MiB/60 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/1.1 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:02:11.116074 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 226 MiB RSS, 216 goroutines, 64 MiB/53 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 5.2/0.7 %(u/s)time, 0.0 %gc (0x), 2.8 KiB/2.8 KiB (r/w)net
I210410 11:02:21.116429 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 227 MiB RSS, 217 goroutines, 46 MiB/62 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.8/0.7 %(u/s)time, 0.0 %gc (1x), 4.9 KiB/4.9 KiB (r/w)net
I210410 11:02:24.127986 37789 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747889227694081: stepping through state running with error: <nil>
I210410 11:02:25.507495 37789 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747889227694081: stepping through state succeeded with error: <nil>
I210410 11:02:25.820723 37855 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747894839508993: stepping through state running with error: <nil>
I210410 11:02:26.758510 37855 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747894839508993: stepping through state succeeded with error: <nil>
I210410 11:02:27.161806 37884 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747899231141889: stepping through state running with error: <nil>
I210410 11:02:27.854694 37884 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747899231141889: stepping through state succeeded with error: <nil>
I210410 11:02:28.234012 37991 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747902639669249: stepping through state running with error: <nil>
I210410 11:02:28.903444 37991 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747902639669249: stepping through state succeeded with error: <nil>
I210410 11:02:29.305279 38000 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747906113634305: stepping through state running with error: <nil>
I210410 11:02:30.222088 38000 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747906113634305: stepping through state succeeded with error: <nil>
I210410 11:02:30.657364 37917 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747910325665793: stepping through state running with error: <nil>
I210410 11:02:31.117144 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 228 MiB RSS, 222 goroutines, 62 MiB/56 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 13.4/1.8 %(u/s)time, 0.0 %gc (1x), 3.0 KiB/3.0 KiB (r/w)net
I210410 11:02:31.776253 37917 jobs/registry.go:1106 ⋮ [n1] AUTO CREATE STATS job 648747910325665793: stepping through state succeeded with error: <nil>
I210410 11:02:41.084642 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:02:41.117433 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 228 MiB RSS, 215 goroutines, 41 MiB/65 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 5.3/0.9 %(u/s)time, 0.0 %gc (1x), 2.6 KiB/2.6 KiB (r/w)net
I210410 11:02:51.118468 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 228 MiB RSS, 215 goroutines, 52 MiB/58 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.2/0.8 %(u/s)time, 0.0 %gc (0x), 3.2 KiB/3.2 KiB (r/w)net
I210410 11:03:01.117955 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 228 MiB RSS, 215 goroutines, 58 MiB/53 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.8 %(u/s)time, 0.0 %gc (0x), 3.3 KiB/3.3 KiB (r/w)net
I210410 11:03:11.118118 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 230 MiB RSS, 216 goroutines, 66 MiB/48 MiB/92 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.8 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:03:21.118081 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 232 MiB RSS, 216 goroutines, 46 MiB/61 MiB/94 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.0/1.0 %(u/s)time, 0.0 %gc (1x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:03:31.119513 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 232 MiB RSS, 216 goroutines, 53 MiB/56 MiB/94 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.6 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:03:41.084384 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:03:41.116116 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 233 MiB RSS, 215 goroutines, 60 MiB/51 MiB/94 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.5 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
W210410 11:03:42.600054 215 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 0.9s [applied=1, batches=1, state_assertions=0]
W210410 11:03:42.918327 211 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r3/1:‹/System/{NodeLive…-tsd}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 11:03:42.924606 217 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r4/1:‹/System{/tsd-tse}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
I210410 11:03:51.118685 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 233 MiB RSS, 215 goroutines, 69 MiB/45 MiB/94 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.9/0.7 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
W210410 11:03:54.264807 207 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/Table/{39-53}›] handle raft ready: 0.6s [applied=1, batches=1, state_assertions=0]
W210410 11:03:54.502146 243 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r48/1:‹/Table/57{-/2}›] handle raft ready: 0.7s [applied=1, batches=1, state_assertions=0]
I210410 11:04:01.119550 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 236 MiB RSS, 215 goroutines, 47 MiB/61 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.8/0.8 %(u/s)time, 0.0 %gc (1x), 6.7 KiB/6.4 KiB (r/w)net
I210410 11:04:11.119311 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 236 MiB RSS, 216 goroutines, 54 MiB/56 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.6 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:04:21.119521 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 236 MiB RSS, 216 goroutines, 61 MiB/51 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.6 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:04:31.119418 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 237 MiB RSS, 216 goroutines, 38 MiB/69 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 6.0/0.8 %(u/s)time, 0.0 %gc (1x), 1.8 KiB/1.8 KiB (r/w)net
I210410 11:04:41.084515 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:04:41.119969 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 238 MiB RSS, 215 goroutines, 46 MiB/63 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.5 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:04:51.120221 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 238 MiB RSS, 215 goroutines, 56 MiB/57 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.5/0.7 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:05:01.120298 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 239 MiB RSS, 215 goroutines, 63 MiB/51 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.6 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:05:11.120530 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 239 MiB RSS, 216 goroutines, 38 MiB/68 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.1/0.5 %(u/s)time, 0.0 %gc (1x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:05:21.120889 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 240 MiB RSS, 216 goroutines, 46 MiB/63 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.5 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:05:31.121033 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 240 MiB RSS, 216 goroutines, 54 MiB/57 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.7 %(u/s)time, 0.0 %gc (0x), 1.8 KiB/1.8 KiB (r/w)net
I210410 11:05:41.084510 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:05:41.121786 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 240 MiB RSS, 215 goroutines, 61 MiB/52 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.7 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:05:51.122129 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 241 MiB RSS, 215 goroutines, 39 MiB/68 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.7/0.7 %(u/s)time, 0.0 %gc (1x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:06:01.121922 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 241 MiB RSS, 215 goroutines, 46 MiB/63 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/0.9 %(u/s)time, 0.0 %gc (0x), 1.8 KiB/1.8 KiB (r/w)net
I210410 11:06:11.120477 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 241 MiB RSS, 216 goroutines, 53 MiB/58 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 1.9/1.0 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:06:21.122783 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 241 MiB RSS, 216 goroutines, 60 MiB/52 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.9 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:06:31.122478 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 241 MiB RSS, 216 goroutines, 67 MiB/47 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/1.0 %(u/s)time, 0.0 %gc (0x), 1.8 KiB/1.8 KiB (r/w)net
I210410 11:06:41.084609 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:06:41.124288 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 242 MiB RSS, 215 goroutines, 41 MiB/65 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.9/0.5 %(u/s)time, 0.0 %gc (1x), 1.8 KiB/1.8 KiB (r/w)net
I210410 11:06:51.123608 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 242 MiB RSS, 216 goroutines, 50 MiB/60 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.7 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
W210410 11:06:59.512891 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.927061701s; err=<nil>
W210410 11:07:00.654924 197 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/Table/{39-53}›] handle raft ready: 1.7s [applied=1, batches=1, state_assertions=0]
I210410 11:07:01.123405 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 242 MiB RSS, 219 goroutines, 66 MiB/51 MiB/97 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 5.6/0.4 %(u/s)time, 0.0 %gc (0x), 3.8 KiB/12 KiB (r/w)net
W210410 11:07:01.210429 201 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 1.5s [applied=1, batches=1, state_assertions=0]
W210410 11:07:01.445675 197 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/Table/{39-53}›] handle raft ready: 0.8s [applied=2, batches=1, state_assertions=0]
W210410 11:07:03.042468 248 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r2/1:‹/System/NodeLiveness{-Max}›] handle raft ready: 0.6s [applied=1, batches=1, state_assertions=0]
W210410 11:07:03.161986 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.076112994s; err=<nil>
W210410 11:07:07.077818 200 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/Table/{39-53}›] handle raft ready: 0.6s [applied=1, batches=1, state_assertions=0]
W210410 11:07:07.597169 240 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 1.0s [applied=1, batches=1, state_assertions=0]
W210410 11:07:08.015526 200 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/Table/{39-53}›] handle raft ready: 0.9s [applied=2, batches=1, state_assertions=0]
W210410 11:07:08.015705 253 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r2/1:‹/System/NodeLiveness{-Max}›] handle raft ready: 0.9s [applied=1, batches=1, state_assertions=0]
W210410 11:07:08.340249 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.754475005s; err=<nil>
I210410 11:07:11.125004 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 242 MiB RSS, 216 goroutines, 37 MiB/69 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.8/0.6 %(u/s)time, 0.0 %gc (1x), 2.4 KiB/1.8 KiB (r/w)net
I210410 11:07:21.123918 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 243 MiB RSS, 216 goroutines, 50 MiB/61 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/1.0 %(u/s)time, 0.0 %gc (0x), 6.5 KiB/24 KiB (r/w)net
I210410 11:07:31.125933 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 243 MiB RSS, 218 goroutines, 36 MiB/69 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.1/1.1 %(u/s)time, 0.0 %gc (1x), 7.6 KiB/34 KiB (r/w)net
W210410 11:07:32.882407 221 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r4/1:‹/System{/tsd-tse}›] handle raft ready: 0.6s [applied=1, batches=1, state_assertions=0]
I210410 11:07:41.084705 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:07:41.124610 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 244 MiB RSS, 215 goroutines, 47 MiB/62 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.0/0.9 %(u/s)time, 0.0 %gc (0x), 4.0 KiB/12 KiB (r/w)net
W210410 11:07:48.556905 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.471087947s; err=<nil>
I210410 11:07:51.125028 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 244 MiB RSS, 215 goroutines, 58 MiB/54 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.6 %(u/s)time, 0.0 %gc (0x), 4.3 KiB/13 KiB (r/w)net
I210410 11:08:01.122586 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 245 MiB RSS, 215 goroutines, 39 MiB/68 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.2/0.6 %(u/s)time, 0.0 %gc (1x), 3.9 KiB/12 KiB (r/w)net
W210410 11:08:02.785280 251 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r4/1:‹/System{/tsd-tse}›] handle raft ready: 0.9s [applied=1, batches=1, state_assertions=0]
W210410 11:08:03.067520 234 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r3/1:‹/System/{NodeLive…-tsd}›] handle raft ready: 1.2s [applied=1, batches=1, state_assertions=0]
W210410 11:08:03.325331 251 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r4/1:‹/System{/tsd-tse}›] handle raft ready: 0.5s [applied=1, batches=1, state_assertions=0]
I210410 11:08:11.125475 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 245 MiB RSS, 216 goroutines, 47 MiB/62 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.7 %(u/s)time, 0.0 %gc (0x), 1.8 KiB/1.8 KiB (r/w)net
I210410 11:08:21.122980 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 245 MiB RSS, 216 goroutines, 55 MiB/56 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.5 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:08:31.125395 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 245 MiB RSS, 216 goroutines, 62 MiB/50 MiB/91 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.4 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
W210410 11:08:33.634986 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.549206849s; err=<nil>
I210410 11:08:41.084593 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:08:41.125661 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 245 MiB RSS, 215 goroutines, 41 MiB/67 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 4.0/0.4 %(u/s)time, 0.0 %gc (1x), 3.9 KiB/12 KiB (r/w)net
I210410 11:08:51.126744 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 246 MiB RSS, 216 goroutines, 49 MiB/62 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.6 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.2 KiB (r/w)net
I210410 11:09:01.125869 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 246 MiB RSS, 215 goroutines, 58 MiB/56 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.1/0.8 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:09:11.124917 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 246 MiB RSS, 216 goroutines, 65 MiB/50 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.6/0.5 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:09:21.126526 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 246 MiB RSS, 216 goroutines, 45 MiB/66 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 7.3/0.6 %(u/s)time, 0.0 %gc (1x), 2.4 KiB/2.4 KiB (r/w)net
I210410 11:09:31.126777 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 247 MiB RSS, 217 goroutines, 53 MiB/61 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.2/0.7 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
W210410 11:09:31.802379 185 kv/kvserver/node_liveness.go:748 ⋮ [n1,liveness-hb] slow heartbeat took 1.216528349s; err=<nil>
W210410 11:09:38.048073 241 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r1/1:‹/{Min-System/NodeL…}›] handle raft ready: 0.8s [applied=1, batches=1, state_assertions=0]
W210410 11:09:38.371008 238 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r35/1:‹/Table/{39-53}›] handle raft ready: 0.6s [applied=1, batches=1, state_assertions=0]
I210410 11:09:41.084616 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:09:41.127326 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 247 MiB RSS, 215 goroutines, 63 MiB/53 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.7/0.9 %(u/s)time, 0.0 %gc (0x), 3.8 KiB/12 KiB (r/w)net
I210410 11:09:51.127813 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 247 MiB RSS, 215 goroutines, 36 MiB/69 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 3.2/0.9 %(u/s)time, 0.0 %gc (1x), 2.4 KiB/2.3 KiB (r/w)net
I210410 11:10:01.127859 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 248 MiB RSS, 215 goroutines, 45 MiB/64 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.8/0.9 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:10:11.127394 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 248 MiB RSS, 217 goroutines, 52 MiB/58 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.5 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:10:21.127805 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 248 MiB RSS, 216 goroutines, 60 MiB/53 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.7 %(u/s)time, 0.0 %gc (0x), 2.3 KiB/2.3 KiB (r/w)net
I210410 11:10:31.128638 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 248 MiB RSS, 216 goroutines, 36 MiB/69 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.7/1.0 %(u/s)time, 0.0 %gc (1x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:10:41.084685 145 gossip/gossip.go:568 ⋮ [n1] gossip status (ok, 1 node‹›)
gossip client (0/3 cur/max conns)
gossip server (0/3 cur/max conns, infos 0/0 sent/received, bytes 0B/0B sent/received)
I210410 11:10:41.128849 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 249 MiB RSS, 215 goroutines, 46 MiB/63 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.4/0.8 %(u/s)time, 0.0 %gc (0x), 3.8 KiB/12 KiB (r/w)net
I210410 11:10:51.128472 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 249 MiB RSS, 215 goroutines, 54 MiB/58 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/0.6 %(u/s)time, 0.0 %gc (0x), 2.4 KiB/2.3 KiB (r/w)net
I210410 11:11:01.129215 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 249 MiB RSS, 215 goroutines, 62 MiB/52 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 2.3/1.0 %(u/s)time, 0.0 %gc (0x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:11:11.126827 183 server/status/runtime.go:525 ⋮ [n1] runtime stats: 250 MiB RSS, 216 goroutines, 37 MiB/69 MiB/93 MiB GO alloc/idle/total, 70 MiB/75 MiB CGO alloc/total, 0.1 CGO/sec, 4.3/0.5 %(u/s)time, 0.0 %gc (1x), 1.7 KiB/1.7 KiB (r/w)net
I210410 11:11:17.430609 1 cli/start.go:736 ⋮ received signal 'terminated'
I210410 11:11:17.430892 1 cli/start.go:821 ⋮ initiating graceful shutdown of server
W210410 11:11:19.159942 207 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r2/1:‹/System/NodeLiveness{-Max}›] handle raft ready: 0.5s [applied=1, batches=1, state_assertions=0]
W210410 11:11:19.443814 254 kv/kvserver/store_raft.go:493 ⋮ [n1,s1,r7/1:‹/Table/1{1-2}›] handle raft ready: 0.8s [applied=1, batches=1, state_assertions=0]
I210410 11:11:20.494887 45665 server/drain.go:174 ⋮ [server drain process] drain remaining: 24
I210410 11:11:20.495005 45665 server/drain.go:176 ⋮ [server drain process] drain details: descriptor leases: 23, liveness record: 1
I210410 11:11:20.840314 45665 server/drain.go:174 ⋮ [server drain process] drain remaining: 0
I210410 11:11:20.840471 45665 util/stop/stopper.go:563 ⋮ [server drain process] quiescing
W210410 11:11:20.840588 154 sql/sqlliveness/slinstance/slinstance.go:182 ⋮ [n1] exiting heartbeat loop
W210410 11:11:20.840739 405 jobs/registry.go:675 ⋮ canceling all adopted jobs due to stopper quiescing
I210410 11:11:20.972287 1 cli/start.go:873 ⋮ server drained and shutdown completed
